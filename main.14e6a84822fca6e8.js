(self.webpackChunkdrupal_project=self.webpackChunkdrupal_project||[]).push([[179],{517:(Bu,X0,ac)=>{"use strict";let nt=null,Jn=1;function rn(n){const e=nt;return nt=n,e}function Kf(n){if((!Gu(n)||n.dirty)&&(n.dirty||n.lastCleanEpoch!==Jn)){if(!n.producerMustRecompute(n)&&!Jf(n))return n.dirty=!1,void(n.lastCleanEpoch=Jn);n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=Jn}}function Jf(n){E(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],i=n.producerLastReadVersion[e];if(i!==t.version||(Kf(t),i!==t.version))return!0}return!1}function zu(n,e){if(function fc(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),E(n),1===n.liveConsumerNode.length)for(let i=0;i<n.producerNode.length;i++)zu(n.producerNode[i],n.producerIndexOfThis[i]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const i=n.liveConsumerIndexOfThis[e],r=n.liveConsumerNode[e];E(r),r.producerIndexOfThis[i]=e}}function Gu(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function E(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let Z0=null;function In(n){return"function"==typeof n}function ho(n){const t=n(i=>{Error.call(i),i.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const Ba=ho(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((i,r)=>`${r+1}) ${i.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function pc(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class ur{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:i}=this;if(In(i))try{i()}catch(s){e=s instanceof Ba?s.errors:[s]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const s of r)try{gs(s)}catch(o){e=e??[],o instanceof Ba?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Ba(e)}}add(e){var t;if(e&&e!==this)if(this.closed)gs(e);else{if(e instanceof ur){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&pc(t,e)}remove(e){const{_finalizers:t}=this;t&&pc(t,e),e instanceof ur&&e._removeParent(this)}}ur.EMPTY=(()=>{const n=new ur;return n.closed=!0,n})();const mc=ur.EMPTY;function $u(n){return n instanceof ur||n&&"closed"in n&&In(n.remove)&&In(n.add)&&In(n.unsubscribe)}function gs(n){In(n)?n():n.unsubscribe()}const ta={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},gc={setTimeout(n,e,...t){const{delegate:i}=gc;return i?.setTimeout?i.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=gc;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function nm(n){gc.setTimeout(()=>{const{onUnhandledError:e}=ta;if(!e)throw n;e(n)})}function Cr(){}const qu=Oi("C",void 0,void 0);function Oi(n,e,t){return{kind:n,value:e,error:t}}let na=null;function vc(n){if(ta.useDeprecatedSynchronousErrorHandling){const e=!na;if(e&&(na={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:i}=na;if(na=null,t)throw i}}else n()}class _c extends ur{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,$u(e)&&e.add(this)):this.destination=rm}static create(e,t,i){return new Gr(e,t,i)}next(e){this.isStopped?Va(function at(n){return Oi("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Va(function Xu(n){return Oi("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Va(qu,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const im=Function.prototype.bind;function ia(n,e){return im.call(n,e)}class Vs{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(i){Hs(i)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(i){Hs(i)}else Hs(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){Hs(t)}}}class Gr extends _c{constructor(e,t,i){let r;if(super(),In(e)||!e)r={next:e??void 0,error:t??void 0,complete:i??void 0};else{let s;this&&ta.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),r={next:e.next&&ia(e.next,s),error:e.error&&ia(e.error,s),complete:e.complete&&ia(e.complete,s)}):r=e}this.destination=new Vs(r)}}function Hs(n){ta.useDeprecatedSynchronousErrorHandling?function Q_(n){ta.useDeprecatedSynchronousErrorHandling&&na&&(na.errorThrown=!0,na.error=n)}(n):nm(n)}function Va(n,e){const{onStoppedNotification:t}=ta;t&&gc.setTimeout(()=>t(n,e))}const rm={closed:!0,next:Cr,error:function ey(n){throw n},complete:Cr},yc="function"==typeof Symbol&&Symbol.observable||"@@observable";function po(n){return n}function za(n){return 0===n.length?po:1===n.length?n[0]:function(t){return n.reduce((i,r)=>r(i),t)}}let Xn=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const i=new n;return i.source=this,i.operator=t,i}subscribe(t,i,r){const s=function ji(n){return n&&n instanceof _c||function Dr(n){return n&&In(n.next)&&In(n.error)&&In(n.complete)}(n)&&$u(n)}(t)?t:new Gr(t,i,r);return vc(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return new(i=th(i))((r,s)=>{const o=new Gr({next:a=>{try{t(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(t){var i;return null===(i=this.source)||void 0===i?void 0:i.subscribe(t)}[yc](){return this}pipe(...t){return za(t)(this)}toPromise(t){return new(t=th(t))((i,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>i(s))})}}return n.create=e=>new n(e),n})();function th(n){var e;return null!==(e=n??ta.Promise)&&void 0!==e?e:Promise}const nh=ho(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Wr=(()=>{class n extends Xn{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const i=new ih(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new nh}next(t){vc(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const i of this.currentObservers)i.next(t)}})}error(t){vc(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){vc(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:i,isStopped:r,observers:s}=this;return i||r?mc:(this.currentObservers=null,s.push(t),new ur(()=>{this.currentObservers=null,pc(s,t)}))}_checkFinalizedStatuses(t){const{hasError:i,thrownError:r,isStopped:s}=this;i?t.error(r):s&&t.complete()}asObservable(){const t=new Xn;return t.source=this,t}}return n.create=(e,t)=>new ih(e,t),n})();class ih extends Wr{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===i||i.call(t,e)}error(e){var t,i;null===(i=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===i||i.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,i;return null!==(i=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==i?i:mc}}function rh(n){return In(n?.lift)}function Ln(n){return e=>{if(rh(e))return e.lift(function(t){try{return n(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Rn(n,e,t,i,r){return new sh(n,e,t,i,r)}class sh extends _c{constructor(e,t,i,r,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=r?function(a){try{r(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ln(n,e){return Ln((t,i)=>{let r=0;t.subscribe(Rn(i,s=>{i.next(n.call(e,s,r++))}))})}function vs(n,e,t,i){var o,r=arguments.length,s=r<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(n,e,t,i);else for(var a=n.length-1;a>=0;a--)(o=n[a])&&(s=(r<3?o(s):r>3?o(e,t,s):o(e,t))||s);return r>3&&s&&Object.defineProperty(e,t,s),s}function mo(n){return this instanceof mo?(this.v=n,this):new mo(n)}function lm(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function ra(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],i=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&i>=n.length&&(n=void 0),{value:n&&n[i++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(s){t[s]=n[s]&&function(o){return new Promise(function(a,u){!function r(s,o,a,u){Promise.resolve(u).then(function(l){s({value:l,done:a})},o)}(a,u,(o=n[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Zu=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function fh(n){return In(n?.then)}function hm(n){return In(n[yc])}function pm(n){return Symbol.asyncIterator&&In(n?.[Symbol.asyncIterator])}function Ar(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const Wa=function mm(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function gm(n){return In(n?.[Wa])}function vm(n){return function Mc(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,i=t.apply(n,e||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(h){i[h]&&(r[h]=function(p){return new Promise(function(g,x){s.push([h,p,g,x])>1||a(h,p)})})}function a(h,p){try{!function u(h){h.value instanceof mo?Promise.resolve(h.value.v).then(l,c):f(s[0][2],h)}(i[h](p))}catch(g){f(s[0][3],g)}}function l(h){a("next",h)}function c(h){a("throw",h)}function f(h,p){h(p),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:i,done:r}=yield mo(t.read());if(r)return yield mo(void 0);yield yield mo(i)}}finally{t.releaseLock()}})}function go(n){return In(n?.getReader)}function oi(n){if(n instanceof Xn)return n;if(null!=n){if(hm(n))return function hh(n){return new Xn(e=>{const t=n[yc]();if(In(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Zu(n))return function cy(n){return new Xn(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(fh(n))return function Ku(n){return new Xn(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,nm)})}(n);if(pm(n))return Sc(n);if(gm(n))return function _m(n){return new Xn(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(go(n))return function ym(n){return Sc(vm(n))}(n)}throw Ar(n)}function Sc(n){return new Xn(e=>{(function xm(n,e){var t,i,r,s;return function xc(n,e,t,i){return new(t||(t=Promise))(function(s,o){function a(c){try{l(i.next(c))}catch(f){o(f)}}function u(c){try{l(i.throw(c))}catch(f){o(f)}}function l(c){c.done?s(c.value):function r(s){return s instanceof t?s:new t(function(o){o(s)})}(c.value).then(a,u)}l((i=i.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=lm(n);!(i=yield t.next()).done;)if(e.next(i.value),e.closed)return}catch(o){r={error:o}}finally{try{i&&!i.done&&(s=t.return)&&(yield s.call(t))}finally{if(r)throw r.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function zs(n,e,t,i=0,r=!1){const s=e.schedule(function(){t(),r?n.add(this.schedule(null,i)):this.unsubscribe()},i);if(n.add(s),!r)return s}function Ni(n,e,t=1/0){return In(e)?Ni((i,r)=>ln((s,o)=>e(i,s,r,o))(oi(n(i,r))),t):("number"==typeof e&&(t=e),Ln((i,r)=>function bm(n,e,t,i,r,s,o,a){const u=[];let l=0,c=0,f=!1;const h=()=>{f&&!u.length&&!l&&e.complete()},p=x=>l<i?g(x):u.push(x),g=x=>{s&&e.next(x),l++;let _=!1;oi(t(x,c++)).subscribe(Rn(e,v=>{r?.(v),s?p(v):e.next(v)},()=>{_=!0},void 0,()=>{if(_)try{for(l--;u.length&&l<i;){const v=u.shift();o?zs(e,o,()=>g(v)):g(v)}h()}catch(v){e.error(v)}}))};return n.subscribe(Rn(e,p,()=>{f=!0,h()})),()=>{a?.()}}(i,r,n,t)))}function ja(n=1/0){return Ni(po,n)}const Tr=new Xn(n=>n.complete());function ph(n){return n[n.length-1]}function Ju(n){return function fy(n){return n&&In(n.schedule)}(ph(n))?n.pop():void 0}function mh(n,e=0){return Ln((t,i)=>{t.subscribe(Rn(i,r=>zs(i,n,()=>i.next(r),e),()=>zs(i,n,()=>i.complete(),e),r=>zs(i,n,()=>i.error(r),e)))})}function Cc(n,e=0){return Ln((t,i)=>{i.add(n.schedule(()=>t.subscribe(i),e))})}function Dc(n,e){if(!n)throw new Error("Iterable cannot be null");return new Xn(t=>{zs(t,e,()=>{const i=n[Symbol.asyncIterator]();zs(t,e,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function ai(n,e){return e?function my(n,e){if(null!=n){if(hm(n))return function Mm(n,e){return oi(n).pipe(Cc(e),mh(e))}(n,e);if(Zu(n))return function wm(n,e){return new Xn(t=>{let i=0;return e.schedule(function(){i===n.length?t.complete():(t.next(n[i++]),t.closed||this.schedule())})})}(n,e);if(fh(n))return function gh(n,e){return oi(n).pipe(Cc(e),mh(e))}(n,e);if(pm(n))return Dc(n,e);if(gm(n))return function Sm(n,e){return new Xn(t=>{let i;return zs(t,e,()=>{i=n[Wa](),zs(t,e,()=>{let r,s;try{({value:r,done:s}=i.next())}catch(o){return void t.error(o)}s?t.complete():t.next(r)},0,!0)}),()=>In(i?.return)&&i.return()})}(n,e);if(go(n))return function py(n,e){return Dc(vm(n),e)}(n,e)}throw Ar(n)}(n,e):oi(n)}class lr extends Wr{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:i}=this;if(e)throw t;return this._throwIfClosed(),i}next(e){super.next(this._value=e)}}function vt(...n){return ai(n,Ju(n))}function vh(n,e,...t){if(!0===e)return void n();if(!1===e)return;const i=new Gr({next:()=>{i.unsubscribe(),n()}});return oi(e(...t)).subscribe(i)}function jr(n,e){return Ln((t,i)=>{let r=null,s=0,o=!1;const a=()=>o&&!r&&i.complete();t.subscribe(Rn(i,u=>{r?.unsubscribe();let l=0;const c=s++;oi(n(u,c)).subscribe(r=Rn(i,f=>i.next(e?e(u,f,c,l++):f),()=>{r=null,a()}))},()=>{o=!0,a()}))})}function m(n,e){return n===e}function y(n){for(let e in n)if(n[e]===y)return e;throw Error("Could not find renamed property on target object.")}function S(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(S).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function C(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const z=y({__forward_ref__:y});function L(n){return n.__forward_ref__=L,n.toString=function(){return S(this())},n}function H(n){return ne(n)?n():n}function ne(n){return"function"==typeof n&&n.hasOwnProperty(z)&&n.__forward_ref__===L}function ce(n){return n&&!!n.\u0275providers}const Me="https://g.co/ng/security#xss";class K extends Error{constructor(e,t){super(function $t(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}const It=y({\u0275cmp:y}),ui=y({\u0275dir:y}),Yn=y({\u0275pipe:y}),$r=y({\u0275mod:y}),pi=y({\u0275fac:y}),Ht=y({__NG_ELEMENT_ID__:y}),vo=y({__NG_ENV_ID__:y});function He(n){return"string"==typeof n?n:null==n?"":String(n)}function xs(n,e){throw new K(-201,!1)}function qi(n,e){null==n&&function gt(n,e,t,i){throw new Error(`ASSERTION ERROR: ${n}`+(null==i?"":` [Expected=> ${t} ${i} ${e} <=Actual]`))}(e,n,null,"!=")}function it(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function xn(n){return{providers:n.providers||[],imports:n.imports||[]}}function Xa(n){return el(n,Rc)||el(n,Eh)}function el(n,e){return n.hasOwnProperty(e)?n[e]:null}function Ya(n){return n&&(n.hasOwnProperty(tl)||n.hasOwnProperty(N))?n[tl]:null}const Rc=y({\u0275prov:y}),tl=y({\u0275inj:y}),Eh=y({ngInjectableDef:y}),N=y({ngInjectorDef:y});var V=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(V||{});let X;function Q(){return X}function re(n){const e=X;return X=n,e}function Pe(n,e,t){const i=Xa(n);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:t&V.Optional?null:void 0!==e?e:void xs(S(n))}const Ie=globalThis;class he{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=it({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Mh={},yy="__NG_DI_FLAG__",Dm="ngTempTokenPath",aU=/\n/gm,lS="__source";let Pc;function Za(n){const e=Pc;return Pc=n,e}function cU(n,e=V.Default){if(void 0===Pc)throw new K(-203,!1);return null===Pc?Pe(n,void 0,e):Pc.get(n,e&V.Optional?null:void 0,e)}function _t(n,e=V.Default){return(Q()||cU)(H(n),e)}function Oe(n,e=V.Default){return _t(n,Am(e))}function Am(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function xy(n){const e=[];for(let t=0;t<n.length;t++){const i=H(n[t]);if(Array.isArray(i)){if(0===i.length)throw new K(900,!1);let r,s=V.Default;for(let o=0;o<i.length;o++){const a=i[o],u=dU(a);"number"==typeof u?-1===u?r=a.token:s|=u:r=a}e.push(_t(r,s))}else e.push(_t(i))}return e}function wh(n,e){return n[yy]=e,n.prototype[yy]=e,n}function dU(n){return n[yy]}function oa(n){return{toString:n}.toString()}var Tm=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(Tm||{}),Ws=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Ws||{});const yo={},dn=[];function dS(n,e,t){let i=n.length;for(;;){const r=n.indexOf(e,t);if(-1===r)return r;if(0===r||n.charCodeAt(r-1)<=32){const s=e.length;if(r+s===i||n.charCodeAt(r+s)<=32)return r}t=r+1}}function by(n,e,t){let i=0;for(;i<t.length;){const r=t[i];if("number"==typeof r){if(0!==r)break;i++;const s=t[i++],o=t[i++],a=t[i++];n.setAttribute(e,o,a,s)}else{const s=r,o=t[++i];hS(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),i++}}return i}function fS(n){return 3===n||4===n||6===n}function hS(n){return 64===n.charCodeAt(0)}function Sh(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let i=0;i<e.length;i++){const r=e[i];"number"==typeof r?t=r:0===t||pS(n,t,r,null,-1===t||2===t?e[++i]:null)}}return n}function pS(n,e,t,i,r){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===i)return void(null!==r&&(n[s+1]=r));if(i===n[s+1])return void(n[s+2]=r)}s++,null!==i&&s++,null!==r&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==i&&n.splice(s++,0,i),null!==r&&n.splice(s++,0,r)}const mS="ng-template";function pU(n,e,t){let i=0,r=!0;for(;i<n.length;){let s=n[i++];if("string"==typeof s&&r){const o=n[i++];if(t&&"class"===s&&-1!==dS(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;i<n.length&&"string"==typeof(s=n[i++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(r=!1)}}return!1}function gS(n){return 4===n.type&&n.value!==mS}function mU(n,e,t){return e===(4!==n.type||t?n.value:mS)}function gU(n,e,t){let i=4;const r=n.attrs||[],s=function yU(n){for(let e=0;e<n.length;e++)if(fS(n[e]))return e;return n.length}(r);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&i){if(i=2|1&i,""!==u&&!mU(n,u,t)||""===u&&1===e.length){if(js(i))return!1;o=!0}}else{const l=8&i?u:e[++a];if(8&i&&null!==n.attrs){if(!pU(n.attrs,l,t)){if(js(i))return!1;o=!0}continue}const f=vU(8&i?"class":u,r,gS(n),t);if(-1===f){if(js(i))return!1;o=!0;continue}if(""!==l){let h;h=f>s?"":r[f+1].toLowerCase();const p=8&i?h:null;if(p&&-1!==dS(p,l,0)||2&i&&l!==h){if(js(i))return!1;o=!0}}}}else{if(!o&&!js(i)&&!js(u))return!1;if(o&&js(u))continue;o=!1,i=u|1&i}}return js(i)||o}function js(n){return 0==(1&n)}function vU(n,e,t,i){if(null===e)return-1;let r=0;if(i||!t){let s=!1;for(;r<e.length;){const o=e[r];if(o===n)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++r];for(;"string"==typeof a;)a=e[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function xU(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const i=n[t];if("number"==typeof i)return-1;if(i===e)return t;t++}return-1}(e,n)}function vS(n,e,t=!1){for(let i=0;i<e.length;i++)if(gU(n,e[i],t))return!0;return!1}function bU(n,e){e:for(let t=0;t<e.length;t++){const i=e[t];if(n.length===i.length){for(let r=0;r<n.length;r++)if(n[r]!==i[r])continue e;return!0}}return!1}function _S(n,e){return n?":not("+e.trim()+")":e}function EU(n){let e=n[0],t=1,i=2,r="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&i){const a=n[++t];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+o:4&i&&(r+=" "+o);else""!==r&&!js(o)&&(e+=_S(s,r),r=""),i=o,s=s||!js(i);t++}return""!==r&&(e+=_S(s,r)),e}function cn(n){return oa(()=>{const e=xS(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===Tm.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Ws.Emulated,styles:n.styles||dn,_:null,schemas:n.schemas||null,tView:null,id:""};bS(t);const i=n.dependencies;return t.directiveDefs=Im(i,!1),t.pipeDefs=Im(i,!0),t.id=function AU(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const r of t)e=Math.imul(31,e)+r.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function SU(n){return Jt(n)||Ci(n)}function CU(n){return null!==n}function $n(n){return oa(()=>({type:n.type,bootstrap:n.bootstrap||dn,declarations:n.declarations||dn,imports:n.imports||dn,exports:n.exports||dn,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function yS(n,e){if(null==n)return yo;const t={};for(const i in n)if(n.hasOwnProperty(i)){let r=n[i],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),t[r]=i,e&&(e[r]=s)}return t}function bt(n){return oa(()=>{const e=xS(n);return bS(e),e})}function Jt(n){return n[It]||null}function Ci(n){return n[ui]||null}function Gi(n){return n[Yn]||null}function Zi(n,e){const t=n[$r]||null;if(!t&&!0===e)throw new Error(`Type ${S(n)} does not have '\u0275mod' property.`);return t}function xS(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||yo,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||dn,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:yS(n.inputs,e),outputs:yS(n.outputs),debugInfo:null}}function bS(n){n.features?.forEach(e=>e(n))}function Im(n,e){if(!n)return null;const t=e?Gi:SU;return()=>("function"==typeof n?n():n).map(i=>t(i)).filter(CU)}const ei=0,De=1,pt=2,qn=3,$s=4,Ki=5,qs=6,Oc=7,Fn=8,cr=9,Nc=10,Pt=11,Ch=12,ES=13,Lc=14,Zn=15,Dh=16,Fc=17,xo=18,Ah=19,MS=20,Ja=21,Rm=22,il=23,Ot=25,Ey=1,bo=7,kc=9,li=10;var Uc=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n[n.HasChildViewsToRefresh=4]="HasChildViewsToRefresh",n}(Uc||{});function Wi(n){return Array.isArray(n)&&"object"==typeof n[Ey]}function Fi(n){return Array.isArray(n)&&!0===n[Ey]}function My(n){return 0!=(4&n.flags)}function rl(n){return n.componentOffset>-1}function Om(n){return 1==(1&n.flags)}function Xs(n){return!!n.template}function wy(n){return 0!=(512&n[pt])}function sl(n,e){return n.hasOwnProperty(pi)?n[pi]:null}class PU{constructor(e,t,i){this.previousValue=e,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}}function Yr(){return DS}function DS(n){return n.type.prototype.ngOnChanges&&(n.setInput=NU),OU}function OU(){const n=TS(this),e=n?.current;if(e){const t=n.previous;if(t===yo)n.previous=e;else for(let i in e)t[i]=e[i];n.current=null,this.ngOnChanges(e)}}function NU(n,e,t,i){const r=this.declaredInputs[t],s=TS(n)||function LU(n,e){return n[AS]=e}(n,{previous:yo,current:null}),o=s.current||(s.current={}),a=s.previous,u=a[r];o[r]=new PU(u&&u.currentValue,e,a===yo),n[i]=e}Yr.ngInherit=!0;const AS="__ngSimpleChanges__";function TS(n){return n[AS]||null}const Eo=function(n,e,t){},IS="svg";function kn(n){for(;Array.isArray(n);)n=n[ei];return n}function Ih(n,e){return kn(e[n])}function dr(n,e){return kn(e[n.index])}function Rh(n,e){return n.data[e]}function Zr(n,e){const t=e[n];return Wi(t)?t:t[ei]}function Ty(n){return 128==(128&n[pt])}function Mo(n,e){return null==e?null:n[e]}function PS(n){n[Fc]=0}function VU(n){1024&n[pt]||(n[pt]|=1024,Ty(n)&&Nm(n))}function NS(n){return 9216&n[pt]||n[il]?.dirty}function LS(n){NS(n)&&Nm(n)}function Nm(n){let e=n[qn];for(;null!==e&&!(Fi(e)&&e[pt]&Uc.HasChildViewsToRefresh||Wi(e)&&8192&e[pt]);){if(Fi(e))e[pt]|=Uc.HasChildViewsToRefresh;else if(e[pt]|=8192,!Ty(e))break;e=e[qn]}}function Lm(n,e){if(256==(256&n[pt]))throw new K(911,!1);null===n[Ja]&&(n[Ja]=[]),n[Ja].push(e)}const Et={lFrame:jS(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function kS(){return Et.bindingsEnabled}function Vc(){return null!==Et.skipHydrationRootTNode}function le(){return Et.lFrame.lView}function an(){return Et.lFrame.tView}function wn(){let n=US();for(;null!==n&&64===n.type;)n=n.parent;return n}function US(){return Et.lFrame.currentTNode}function wo(n,e){const t=Et.lFrame;t.currentTNode=n,t.isParent=e}function Ry(){return Et.lFrame.isParent}function Py(){Et.lFrame.isParent=!1}function fr(){const n=Et.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function So(){return Et.lFrame.bindingIndex++}function ua(n){const e=Et.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function QU(n,e){const t=Et.lFrame;t.bindingIndex=t.bindingRootIndex=n,Oy(e)}function Oy(n){Et.lFrame.currentDirectiveIndex=n}function zS(){return Et.lFrame.currentQueryIndex}function Ly(n){Et.lFrame.currentQueryIndex=n}function tB(n){const e=n[De];return 2===e.type?e.declTNode:1===e.type?n[Ki]:null}function GS(n,e,t){if(t&V.SkipSelf){let r=e,s=n;for(;!(r=r.parent,null!==r||t&V.Host||(r=tB(s),null===r||(s=s[Lc],10&r.type))););if(null===r)return!1;e=r,n=s}const i=Et.lFrame=WS();return i.currentTNode=e,i.lView=n,!0}function Fy(n){const e=WS(),t=n[De];Et.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function WS(){const n=Et.lFrame,e=null===n?null:n.child;return null===e?jS(n):e}function jS(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function $S(){const n=Et.lFrame;return Et.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const qS=$S;function ky(){const n=$S();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function Ji(){return Et.lFrame.selectedIndex}function ol(n){Et.lFrame.selectedIndex=n}function Co(){Et.lFrame.currentNamespace=IS}function Qa(){!function rB(){Et.lFrame.currentNamespace=null}()}let YS=!0;function Fm(){return YS}function eu(n){YS=n}function km(n,e){for(let t=e.directiveStart,i=e.directiveEnd;t<i;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:c}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),l&&((n.viewHooks??=[]).push(t,l),(n.viewCheckHooks??=[]).push(t,l)),null!=c&&(n.destroyHooks??=[]).push(t,c)}}function Um(n,e,t){ZS(n,e,3,t)}function Bm(n,e,t,i){(3&n[pt])===t&&ZS(n,e,t,i)}function Uy(n,e){let t=n[pt];(3&t)===e&&(t&=16383,t+=1,n[pt]=t)}function ZS(n,e,t,i){const s=i??-1,o=e.length-1;let a=0;for(let u=void 0!==i?65535&n[Fc]:0;u<o;u++)if("number"==typeof e[u+1]){if(a=e[u],null!=i&&a>=i)break}else e[u]<0&&(n[Fc]+=65536),(a<s||-1==s)&&(oB(n,t,e,u),n[Fc]=(4294901760&n[Fc])+u+2),u++}function KS(n,e){Eo(4,n,e);const t=rn(null);try{e.call(n)}finally{rn(t),Eo(5,n,e)}}function oB(n,e,t,i){const r=t[i]<0,s=t[i+1],a=n[r?-t[i]:t[i]];r?n[pt]>>14<n[Fc]>>16&&(3&n[pt])===e&&(n[pt]+=16384,KS(a,s)):KS(a,s)}const Hc=-1;class Oh{constructor(e,t,i){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=i}}function Vy(n){return n!==Hc}function Nh(n){return 32767&n}function Lh(n,e){let t=function dB(n){return n>>16}(n),i=e;for(;t>0;)i=i[Lc],t--;return i}let Hy=!0;function Vm(n){const e=Hy;return Hy=n,e}const JS=255,QS=5;let fB=0;const Do={};function Hm(n,e){const t=eC(n,e);if(-1!==t)return t;const i=e[De];i.firstCreatePass&&(n.injectorIndex=e.length,zy(i.data,n),zy(e,null),zy(i.blueprint,null));const r=zm(n,e),s=n.injectorIndex;if(Vy(r)){const o=Nh(r),a=Lh(r,e),u=a[De].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|u[o+l]}return e[s+8]=r,s}function zy(n,e){n.push(0,0,0,0,0,0,0,0,e)}function eC(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function zm(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,i=null,r=e;for(;null!==r;){if(i=aC(r),null===i)return Hc;if(t++,r=r[Lc],-1!==i.injectorIndex)return i.injectorIndex|t<<16}return Hc}function Gy(n,e,t){!function hB(n,e,t){let i;"string"==typeof t?i=t.charCodeAt(0)||0:t.hasOwnProperty(Ht)&&(i=t[Ht]),null==i&&(i=t[Ht]=fB++);const r=i&JS;e.data[n+(r>>QS)]|=1<<r}(n,e,t)}function tC(n,e,t){if(t&V.Optional||void 0!==n)return n;xs()}function nC(n,e,t,i){if(t&V.Optional&&void 0===i&&(i=null),!(t&(V.Self|V.Host))){const r=n[cr],s=re(void 0);try{return r?r.get(e,i,t&V.Optional):Pe(e,i,t&V.Optional)}finally{re(s)}}return tC(i,0,t)}function iC(n,e,t,i=V.Default,r){if(null!==n){if(2048&e[pt]&&!(i&V.Self)){const o=function _B(n,e,t,i,r){let s=n,o=e;for(;null!==s&&null!==o&&2048&o[pt]&&!(512&o[pt]);){const a=rC(s,o,t,i|V.Self,Do);if(a!==Do)return a;let u=s.parent;if(!u){const l=o[MS];if(l){const c=l.get(t,Do,i);if(c!==Do)return c}u=aC(o),o=o[Lc]}s=u}return r}(n,e,t,i,Do);if(o!==Do)return o}const s=rC(n,e,t,i,Do);if(s!==Do)return s}return nC(e,t,i,r)}function rC(n,e,t,i,r){const s=function gB(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(Ht)?n[Ht]:void 0;return"number"==typeof e?e>=0?e&JS:vB:e}(t);if("function"==typeof s){if(!GS(e,n,i))return i&V.Host?tC(r,0,i):nC(e,t,i,r);try{let o;if(o=s(i),null!=o||i&V.Optional)return o;xs()}finally{qS()}}else if("number"==typeof s){let o=null,a=eC(n,e),u=Hc,l=i&V.Host?e[Zn][Ki]:null;for((-1===a||i&V.SkipSelf)&&(u=-1===a?zm(n,e):e[a+8],u!==Hc&&oC(i,!1)?(o=e[De],a=Nh(u),e=Lh(u,e)):a=-1);-1!==a;){const c=e[De];if(sC(s,a,c.data)){const f=mB(a,e,t,o,i,l);if(f!==Do)return f}u=e[a+8],u!==Hc&&oC(i,e[De].data[a+8]===l)&&sC(s,a,e)?(o=c,a=Nh(u),e=Lh(u,e)):a=-1}}return r}function mB(n,e,t,i,r,s){const o=e[De],a=o.data[n+8],c=Gm(a,o,t,null==i?rl(a)&&Hy:i!=o&&0!=(3&a.type),r&V.Host&&s===a);return null!==c?al(e,o,c,a):Do}function Gm(n,e,t,i,r){const s=n.providerIndexes,o=e.data,a=1048575&s,u=n.directiveStart,c=s>>20,h=r?a+c:n.directiveEnd;for(let p=i?a:a+c;p<h;p++){const g=o[p];if(p<u&&t===g||p>=u&&g.type===t)return p}if(r){const p=o[u];if(p&&Xs(p)&&p.type===t)return u}return null}function al(n,e,t,i){let r=n[t];const s=e.data;if(function aB(n){return n instanceof Oh}(r)){const o=r;o.resolving&&function _s(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new K(-200,`Circular dependency in DI detected for ${n}${t}`)}(function ht(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():He(n)}(s[t]));const a=Vm(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?re(o.injectImpl):null;GS(n,i,V.Default);try{r=n[t]=o.factory(void 0,s,n,i),e.firstCreatePass&&t>=i.directiveStart&&function sB(n,e,t){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:s}=e.type.prototype;if(i){const o=DS(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}r&&(t.preOrderHooks??=[]).push(0-n,r),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}(t,s[t],e)}finally{null!==l&&re(l),Vm(a),o.resolving=!1,qS()}}return r}function sC(n,e,t){return!!(t[e+(n>>QS)]&1<<n)}function oC(n,e){return!(n&V.Self||n&V.Host&&e)}class Di{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,i){return iC(this._tNode,this._lView,e,Am(i),t)}}function vB(){return new Di(wn(),le())}function ki(n){return oa(()=>{const e=n.prototype.constructor,t=e[pi]||Wy(e),i=Object.prototype;let r=Object.getPrototypeOf(n.prototype).constructor;for(;r&&r!==i;){const s=r[pi]||Wy(r);if(s&&s!==t)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function Wy(n){return ne(n)?()=>{const e=Wy(H(n));return e&&e()}:sl(n)}function aC(n){const e=n[De],t=e.type;return 2===t?e.declTNode:1===t?n[Ki]:null}const jc="__parameters__";function qc(n,e,t){return oa(()=>{const i=function jy(n){return function(...t){if(n){const i=n(...t);for(const r in i)this[r]=i[r]}}}(e);function r(...s){if(this instanceof r)return i.apply(this,s),this;const o=new r(...s);return a.annotation=o,a;function a(u,l,c){const f=u.hasOwnProperty(jc)?u[jc]:Object.defineProperty(u,jc,{value:[]})[jc];for(;f.length<=c;)f.push(null);return(f[c]=f[c]||[]).push(o),u}}return t&&(r.prototype=Object.create(t.prototype)),r.prototype.ngMetadataName=n,r.annotationCls=r,r})}function Yc(n,e){n.forEach(t=>Array.isArray(t)?Yc(t,e):e(t))}function lC(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function jm(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function kh(n,e){const t=[];for(let i=0;i<n;i++)t.push(e);return t}function Kr(n,e,t){let i=Zc(n,e);return i>=0?n[1|i]=t:(i=~i,function cC(n,e,t,i){let r=n.length;if(r==e)n.push(t,i);else if(1===r)n.push(i,n[0]),n[0]=t;else{for(r--,n.push(n[r-1],n[r]);r>e;)n[r]=n[r-2],r--;n[e]=t,n[e+1]=i}}(n,i,e,t)),i}function qy(n,e){const t=Zc(n,e);if(t>=0)return n[1|t]}function Zc(n,e){return function dC(n,e,t){let i=0,r=n.length>>t;for(;r!==i;){const s=i+(r-i>>1),o=n[s<<t];if(e===o)return s<<t;o>e?r=s:i=s+1}return~(r<<t)}(n,e,1)}const qm=wh(qc("Optional"),8),Xm=wh(qc("SkipSelf"),4),Jc=new he("ENVIRONMENT_INITIALIZER"),mC=new he("INJECTOR",-1),Zy=new he("INJECTOR_DEF_TYPES");class Zm{get(e,t=Mh){if(t===Mh){const i=new Error(`NullInjectorError: No provider for ${S(e)}!`);throw i.name="NullInjectorError",i}return t}}function VB(...n){return{\u0275providers:vC(0,n),\u0275fromNgModule:!0}}function vC(n,...e){const t=[],i=new Set;let r;const s=o=>{t.push(o)};return Yc(e,o=>{const a=o;Km(a,s,[],i)&&(r||=[],r.push(a))}),void 0!==r&&_C(r,s),t}function _C(n,e){for(let t=0;t<n.length;t++){const{ngModule:i,providers:r}=n[t];Ky(r,s=>{e(s,i)})}}function Km(n,e,t,i){if(!(n=H(n)))return!1;let r=null,s=Ya(n);const o=!s&&Jt(n);if(s||o){if(o&&!o.standalone)return!1;r=n}else{const u=n.ngModule;if(s=Ya(u),!s)return!1;r=u}const a=i.has(r);if(o){if(a)return!1;if(i.add(r),o.dependencies){const u="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const l of u)Km(l,e,t,i)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let l;i.add(r);try{Yc(s.imports,c=>{Km(c,e,t,i)&&(l||=[],l.push(c))})}finally{}void 0!==l&&_C(l,e)}if(!a){const l=sl(r)||(()=>new r);e({provide:r,useFactory:l,deps:dn},r),e({provide:Zy,useValue:r,multi:!0},r),e({provide:Jc,useValue:()=>_t(r),multi:!0},r)}const u=s.providers;if(null!=u&&!a){const l=n;Ky(u,c=>{e(c,l)})}}}return r!==n&&void 0!==n.providers}function Ky(n,e){for(let t of n)ce(t)&&(t=t.\u0275providers),Array.isArray(t)?Ky(t,e):e(t)}const HB=y({provide:String,useValue:y});function Jy(n){return null!==n&&"object"==typeof n&&HB in n}function ul(n){return"function"==typeof n}const Qy=new he("Set Injector scope."),Jm={},GB={};let ex;function Qm(){return void 0===ex&&(ex=new Zm),ex}class Es{}class Qc extends Es{get destroyed(){return this._destroyed}constructor(e,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,nx(e,o=>this.processProvider(o)),this.records.set(mC,ed(void 0,this)),r.has("environment")&&this.records.set(Es,ed(void 0,this));const s=this.records.get(Qy);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Zy,dn,V.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=Za(this),i=re(void 0);try{return e()}finally{Za(t),re(i)}}get(e,t=Mh,i=V.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(vo))return e[vo](this);i=Am(i);const s=Za(this),o=re(void 0);try{if(!(i&V.SkipSelf)){let u=this.records.get(e);if(void 0===u){const l=function XB(n){return"function"==typeof n||"object"==typeof n&&n instanceof he}(e)&&Xa(e);u=l&&this.injectableDefInScope(l)?ed(tx(e),Jm):null,this.records.set(e,u)}if(null!=u)return this.hydrate(e,u)}return(i&V.Self?Qm():this.parent).get(e,t=i&V.Optional&&t===Mh?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[Dm]=a[Dm]||[]).unshift(S(e)),s)throw a;return function fU(n,e,t,i){const r=n[Dm];throw e[lS]&&r.unshift(e[lS]),n.message=function hU(n,e,t,i=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let r=S(e);if(Array.isArray(e))r=e.map(S).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):S(a)))}r=`{${s.join(", ")}}`}return`${t}${i?"("+i+")":""}[${r}]: ${n.replace(aU,"\n  ")}`}("\n"+n.message,r,t,i),n.ngTokenPath=r,n[Dm]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{re(o),Za(s)}}resolveInjectorInitializers(){const e=Za(this),t=re(void 0);try{const r=this.get(Jc,dn,V.Self);for(const s of r)s()}finally{Za(e),re(t)}}toString(){const e=[],t=this.records;for(const i of t.keys())e.push(S(i));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new K(205,!1)}processProvider(e){let t=ul(e=H(e))?e:H(e&&e.provide);const i=function jB(n){return Jy(n)?ed(void 0,n.useValue):ed(bC(n),Jm)}(e);if(ul(e)||!0!==e.multi)this.records.get(t);else{let r=this.records.get(t);r||(r=ed(void 0,Jm,!0),r.factory=()=>xy(r.multi),this.records.set(t,r)),t=e,r.multi.push(e)}this.records.set(t,i)}hydrate(e,t){return t.value===Jm&&(t.value=GB,t.value=t.factory()),"object"==typeof t.value&&t.value&&function qB(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=H(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function tx(n){const e=Xa(n),t=null!==e?e.factory:sl(n);if(null!==t)return t;if(n instanceof he)throw new K(204,!1);if(n instanceof Function)return function WB(n){const e=n.length;if(e>0)throw kh(e,"?"),new K(204,!1);const t=function bh(n){return n&&(n[Rc]||n[Eh])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new K(204,!1)}function bC(n,e,t){let i;if(ul(n)){const r=H(n);return sl(r)||tx(r)}if(Jy(n))i=()=>H(n.useValue);else if(function xC(n){return!(!n||!n.useFactory)}(n))i=()=>n.useFactory(...xy(n.deps||[]));else if(function yC(n){return!(!n||!n.useExisting)}(n))i=()=>_t(H(n.useExisting));else{const r=H(n&&(n.useClass||n.provide));if(!function $B(n){return!!n.deps}(n))return sl(r)||tx(r);i=()=>new r(...xy(n.deps))}return i}function ed(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function nx(n,e){for(const t of n)Array.isArray(t)?nx(t,e):t&&ce(t)?nx(t.\u0275providers,e):e(t)}function ll(n,e){n instanceof Qc&&n.assertNotDestroyed();const i=Za(n),r=re(void 0);try{return e()}finally{Za(i),re(r)}}function SC(n,e=null,t=null,i){const r=CC(n,e,t,i);return r.resolveInjectorInitializers(),r}function CC(n,e=null,t=null,i,r=new Set){const s=[t||dn,VB(n)];return i=i||("object"==typeof n?void 0:S(n)),new Qc(s,e||Qm(),i||null,r)}let sx,Pr=(()=>{class n{static#e=this.THROW_IF_NOT_FOUND=Mh;static#t=this.NULL=new Zm;static create(t,i){if(Array.isArray(t))return SC({name:""},i,t,"");{const r=t.name??"";return SC({name:r},t.parent,t.providers,r)}}static#n=this.\u0275prov=it({token:n,providedIn:"any",factory:()=>_t(mC)});static#i=this.__NG_ELEMENT_ID__=-1}return n})();function nu(){if(void 0!==sx)return sx;if(typeof document<"u")return document;throw new K(210,!1)}const tg=new he("AppId",{providedIn:"root",factory:()=>iV}),iV="ng",AC=new he("Platform Initializer"),iu=new he("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),TC=new he("CSP nonce",{providedIn:"root",factory:()=>nu().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function Jr(n){return n instanceof Function?n():n}function sg(n){return 128==(128&n.flags)}var ou=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(ou||{});const hV=/^>|^->|<!--|-->|--!>|<!-$/g,pV=/(<|>)/g,mV="\u200b$1\u200b";const cx=new Map;let gV=0;const fx="__ngContext__";function Qi(n,e){Wi(e)?(n[fx]=e[Ah],function _V(n){cx.set(n[Ah],n)}(e)):n[fx]=e}let hx;function px(n,e){return hx(n,e)}function Gh(n){const e=n[qn];return Fi(e)?e[qn]:e}function qC(n){return YC(n[Ch])}function XC(n){return YC(n[$s])}function YC(n){for(;null!==n&&!Fi(n);)n=n[$s];return n}function nd(n,e,t,i,r){if(null!=i){let s,o=!1;Fi(i)?s=i:Wi(i)&&(o=!0,i=i[ei]);const a=kn(i);0===n&&null!==t?null==r?QC(e,t,a):cl(e,t,a,r||null,!0):1===n&&null!==t?cl(e,t,a,r||null,!0):2===n?function fg(n,e,t){const i=cg(n,e);i&&function kV(n,e,t,i){n.removeChild(e,t,i)}(n,i,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function VV(n,e,t,i,r){const s=t[bo];s!==kn(t)&&nd(e,n,i,s,r);for(let a=li;a<t.length;a++){const u=t[a];$h(u[De],u,n,e,i,s)}}(e,n,s,t,r)}}function mx(n,e){return n.createComment(function BC(n){return n.replace(hV,e=>e.replace(pV,mV))}(e))}function ug(n,e,t){return n.createElement(e,t)}function KC(n,e){const t=n[kc],i=t.indexOf(e);t.splice(i,1)}function Wh(n,e){if(n.length<=li)return;const t=li+e,i=n[t];if(i){const r=i[Dh];null!==r&&r!==n&&KC(r,i),e>0&&(n[t-1][$s]=i[$s]);const s=jm(n,li+e);!function TV(n,e){$h(n,e,e[Pt],2,null,null),e[ei]=null,e[Ki]=null}(i[De],i);const o=s[xo];null!==o&&o.detachView(s[De]),i[qn]=null,i[$s]=null,i[pt]&=-129}return i}function lg(n,e){if(!(256&e[pt])){const t=e[Pt];t.destroyNode&&$h(n,e,t,3,null,null),function PV(n){let e=n[Ch];if(!e)return gx(n[De],n);for(;e;){let t=null;if(Wi(e))t=e[Ch];else{const i=e[li];i&&(t=i)}if(!t){for(;e&&!e[$s]&&e!==n;)Wi(e)&&gx(e[De],e),e=e[qn];null===e&&(e=n),Wi(e)&&gx(e[De],e),t=e&&e[$s]}e=t}}(e)}}function gx(n,e){if(!(256&e[pt])){e[pt]&=-129,e[pt]|=256,e[il]&&function Qf(n){if(E(n),Gu(n))for(let e=0;e<n.producerNode.length;e++)zu(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}(e[il]),function FV(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let i=0;i<t.length;i+=2){const r=e[t[i]];if(!(r instanceof Oh)){const s=t[i+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=r[s[o]],u=s[o+1];Eo(4,a,u);try{u.call(a)}finally{Eo(5,a,u)}}else{Eo(4,r,s);try{s.call(r)}finally{Eo(5,r,s)}}}}}(n,e),function LV(n,e){const t=n.cleanup,i=e[Oc];if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?i[o]():i[-o].unsubscribe(),s+=2}else t[s].call(i[t[s+1]]);null!==i&&(e[Oc]=null);const r=e[Ja];if(null!==r){e[Ja]=null;for(let s=0;s<r.length;s++)(0,r[s])()}}(n,e),1===e[De].type&&e[Pt].destroy();const t=e[Dh];if(null!==t&&Fi(e[qn])){t!==e[qn]&&KC(t,e);const i=e[xo];null!==i&&i.detachView(n)}!function yV(n){cx.delete(n[Ah])}(e)}}function vx(n,e,t){return function JC(n,e,t){let i=e;for(;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return t[ei];{const{componentOffset:r}=i;if(r>-1){const{encapsulation:s}=n.data[i.directiveStart+r];if(s===Ws.None||s===Ws.Emulated)return null}return dr(i,t)}}(n,e.parent,t)}function cl(n,e,t,i,r){n.insertBefore(e,t,i,r)}function QC(n,e,t){n.appendChild(e,t)}function e1(n,e,t,i,r){null!==i?cl(n,e,t,i,r):QC(n,e,t)}function cg(n,e){return n.parentNode(e)}function t1(n,e,t){return i1(n,e,t)}let _x,hg,pg,i1=function n1(n,e,t){return 40&n.type?dr(n,t):null};function dg(n,e,t,i){const r=vx(n,i,e),s=e[Pt],a=t1(i.parent||e[Ki],i,e);if(null!=r)if(Array.isArray(t))for(let u=0;u<t.length;u++)e1(s,r,t[u],a,!1);else e1(s,r,t,a,!1);void 0!==_x&&_x(s,i,e,t,r)}function jh(n,e){if(null!==e){const t=e.type;if(3&t)return dr(e,n);if(4&t)return yx(-1,n[e.index]);if(8&t){const i=e.child;if(null!==i)return jh(n,i);{const r=n[e.index];return Fi(r)?yx(-1,r):kn(r)}}if(32&t)return px(e,n)()||kn(n[e.index]);{const i=s1(n,e);return null!==i?Array.isArray(i)?i[0]:jh(Gh(n[Zn]),i):jh(n,e.next)}}return null}function s1(n,e){return null!==e?n[Zn][Ki].projection[e.projection]:null}function yx(n,e){const t=li+n+1;if(t<e.length){const i=e[t],r=i[De].firstChild;if(null!==r)return jh(i,r)}return e[bo]}function xx(n,e,t,i,r,s,o){for(;null!=t;){const a=i[t.index],u=t.type;if(o&&0===e&&(a&&Qi(kn(a),i),t.flags|=2),32!=(32&t.flags))if(8&u)xx(n,e,t.child,i,r,s,!1),nd(e,n,r,a,s);else if(32&u){const l=px(t,i);let c;for(;c=l();)nd(e,n,r,c,s);nd(e,n,r,a,s)}else 16&u?a1(n,e,i,t,r,s):nd(e,n,r,a,s);t=o?t.projectionNext:t.next}}function $h(n,e,t,i,r,s){xx(t,i,n.firstChild,e,r,s,!1)}function a1(n,e,t,i,r,s){const o=t[Zn],u=o[Ki].projection[i.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++)nd(e,n,r,u[l],s);else{let l=u;const c=o[qn];sg(i)&&(l.flags|=128),xx(n,e,l,c,r,s,!0)}}function u1(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function l1(n,e,t){const{mergedAttrs:i,classes:r,styles:s}=t;null!==i&&by(n,e,i),null!==r&&u1(n,e,r),null!==s&&function zV(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}function id(n){return function bx(){if(void 0===hg&&(hg=null,Ie.trustedTypes))try{hg=Ie.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return hg}()?.createHTML(n)||n}function c1(n){return function Ex(){if(void 0===pg&&(pg=null,Ie.trustedTypes))try{pg=Ie.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return pg}()?.createHTML(n)||n}class h1{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Me})`}}function au(n){return n instanceof h1?n.changingThisBreaksApplicationSecurity:n}function qh(n,e){const t=function KV(n){return n instanceof h1&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Me})`)}return t===e}class JV{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(id(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class QV{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const t=this.inertDocument.createElement("template");return t.innerHTML=id(e),t}}const t5=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Mx(n){return(n=String(n)).match(t5)?n:"unsafe:"+n}function la(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function Xh(...n){const e={};for(const t of n)for(const i in t)t.hasOwnProperty(i)&&(e[i]=!0);return e}const m1=la("area,br,col,hr,img,wbr"),g1=la("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),v1=la("rp,rt"),wx=Xh(m1,Xh(g1,la("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Xh(v1,la("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Xh(v1,g1)),Sx=la("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),_1=Xh(Sx,la("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),la("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),n5=la("script,style,template");class i5{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,i=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!wx.hasOwnProperty(t))return this.sanitizedSomething=!0,!n5.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const i=e.attributes;for(let r=0;r<i.length;r++){const s=i.item(r),o=s.name,a=o.toLowerCase();if(!_1.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let u=s.value;Sx[a]&&(u=Mx(u)),this.buf.push(" ",o,'="',y1(u),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();wx.hasOwnProperty(t)&&!m1.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(y1(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const r5=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,s5=/([^\#-~ |!])/g;function y1(n){return n.replace(/&/g,"&amp;").replace(r5,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(s5,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let mg;function Cx(n){return"content"in n&&function a5(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var rd=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(rd||{});function uu(n){const e=Yh();return e?c1(e.sanitize(rd.HTML,n)||""):qh(n,"HTML")?c1(au(n)):function o5(n,e){let t=null;try{mg=mg||function p1(n){const e=new QV(n);return function e5(){try{return!!(new window.DOMParser).parseFromString(id(""),"text/html")}catch{return!1}}()?new JV(e):e}(n);let i=e?String(e):"";t=mg.getInertBodyElement(i);let r=5,s=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=s,s=t.innerHTML,t=mg.getInertBodyElement(i)}while(i!==s);return id((new i5).sanitizeChildren(Cx(t)||t))}finally{if(t){const i=Cx(t)||t;for(;i.firstChild;)i.removeChild(i.firstChild)}}}(nu(),He(n))}function hr(n){const e=Yh();return e?e.sanitize(rd.URL,n)||"":qh(n,"URL")?au(n):Mx(He(n))}function Yh(){const n=le();return n&&n[Nc].sanitizer}let E1=(n,e,t)=>null;function Nx(n,e,t=!1){return E1(n,e,t)}class b5{}class S1{}class M5{resolveComponentFactory(e){throw function E5(n){const e=Error(`No component factory found for ${S(n)}.`);return e.ngComponent=n,e}(e)}}let bg=(()=>{class n{static#e=this.NULL=new M5}return n})();function w5(){return ad(wn(),le())}function ad(n,e){return new gi(dr(n,e))}let gi=(()=>{class n{constructor(t){this.nativeElement=t}static#e=this.__NG_ELEMENT_ID__=w5}return n})();function S5(n){return n instanceof gi?n.nativeElement:n}class D1{}let Ao=(()=>{class n{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function C5(){const n=le(),t=Zr(wn().index,n);return(Wi(t)?t:n)[Pt]}()}return n})(),D5=(()=>{class n{static#e=this.\u0275prov=it({token:n,providedIn:"root",factory:()=>null})}return n})();class Jh{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const A5=new Jh("17.0.7"),kx={};function Eg(n){return!!Ux(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function Ux(n){return null!==n&&("function"==typeof n||"object"==typeof n)}class T1{constructor(){}supports(e){return Eg(e)}create(e){return new O5(e)}}const P5=(n,e)=>e;class O5{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||P5}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,i=this._removalsHead,r=0,s=null;for(;t||i;){const o=!i||t&&t.currentIndex<R1(i,r,s)?t:i,a=R1(o,r,s),u=o.currentIndex;if(o===i)r--,i=i._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{s||(s=[]);const l=a-r,c=u-r;if(l!=c){for(let h=0;h<l;h++){const p=h<s.length?s[h]:s[h]=0,g=p+h;c<=g&&g<l&&(s[h]=p+1)}s[o.previousIndex]=c-l}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Eg(e))throw new K(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let r,s,o,t=this._itHead,i=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(i&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),i=!0),t=t._next}else r=0,function R5(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let i;for(;!(i=t.next()).done;)e(i.value)}}(e,a=>{o=this._trackByFn(r,a),null!==t&&Object.is(t.trackById,o)?(i&&(t=this._verifyReinsertion(t,a,o,r)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,r),i=!0),t=t._next,r++}),this.length=r;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,i,r){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(i,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,r)):e=this._addAfter(new N5(t,i),s,r),e}_verifyReinsertion(e,t,i,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(i,null);return null!==s?e=this._reinsertAfter(s,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,i){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,s=e._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(e,t,i),this._addToMoves(e,i),e}_moveAfter(e,t,i){return this._unlink(e),this._insertAfter(e,t,i),this._addToMoves(e,i),e}_addAfter(e,t,i){return this._insertAfter(e,t,i),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,i){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new I1),this._linkedRecords.put(e),e.currentIndex=i,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,i=e._next;return null===t?this._itHead=i:t._next=i,null===i?this._itTail=t:i._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new I1),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class N5{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class L5{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let i;for(i=this._head;null!==i;i=i._nextDup)if((null===t||t<=i.currentIndex)&&Object.is(i.trackById,e))return i;return null}remove(e){const t=e._prevDup,i=e._nextDup;return null===t?this._head=i:t._nextDup=i,null===i?this._tail=t:i._prevDup=t,null===this._head}}class I1{constructor(){this.map=new Map}put(e){const t=e.trackById;let i=this.map.get(t);i||(i=new L5,this.map.set(t,i)),i.add(e)}get(e,t){const r=this.map.get(e);return r?r.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function R1(n,e,t){const i=n.previousIndex;if(null===i)return i;let r=0;return t&&i<t.length&&(r=t[i]),i+e+r}class P1{constructor(){}supports(e){return e instanceof Map||Ux(e)}create(){return new F5}}class F5{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Ux(e)))throw new K(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(i,r)=>{if(t&&t.key===r)this._maybeAddToChanges(t,i),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(r,i);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let i=t;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const i=e._prev;return t._next=e,t._prev=i,e._prev=t,i&&(i._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const r=this._records.get(e);this._maybeAddToChanges(r,t);const s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}const i=new k5(e);return this._records.set(e,i),i.currentValue=t,this._addToAdditions(i),i}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(i=>t(e[i],i))}}class k5{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function O1(){return new Mg([new T1])}let Mg=(()=>{class n{static#e=this.\u0275prov=it({token:n,providedIn:"root",factory:O1});constructor(t){this.factories=t}static create(t,i){if(null!=i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||O1()),deps:[[n,new Xm,new qm]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(null!=i)return i;throw new K(901,!1)}}return n})();function N1(){return new Qh([new P1])}let Qh=(()=>{class n{static#e=this.\u0275prov=it({token:n,providedIn:"root",factory:N1});constructor(t){this.factories=t}static create(t,i){if(i){const r=i.factories.slice();t=t.concat(r)}return new n(t)}static extend(t){return{provide:n,useFactory:i=>n.create(t,i||N1()),deps:[[n,new Xm,new qm]]}}find(t){const i=this.factories.find(r=>r.supports(t));if(i)return i;throw new K(901,!1)}}return n})();function ep(n,e,t,i,r=!1){for(;null!==t;){const s=e[t.index];null!==s&&i.push(kn(s)),Fi(s)&&L1(s,i);const o=t.type;if(8&o)ep(n,e,t.child,i);else if(32&o){const a=px(t,e);let u;for(;u=a();)i.push(u)}else if(16&o){const a=s1(e,t);if(Array.isArray(a))i.push(...a);else{const u=Gh(e[Zn]);ep(u[De],u,a,i,!0)}}t=r?t.projectionNext:t.next}return i}function L1(n,e){for(let t=li;t<n.length;t++){const i=n[t],r=i[De].firstChild;null!==r&&ep(i[De],i,r,e)}n[bo]!==n[ei]&&e.push(n[bo])}let F1=[];const z5={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Nm(n.lView)},consumerOnSignalRead(){this.lView[il]=this}};function Bx(n){return n.ngOriginalError}class ca{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Bx(e);for(;t&&Bx(t);)t=Bx(t);return t||null}}const U1=new he("",{providedIn:"root",factory:()=>Oe(ca).handleError.bind(void 0)}),V1=new he("",{providedIn:"root",factory:()=>!1}),Bt={};function Be(n){W1(an(),le(),Ji()+n,!1)}function W1(n,e,t,i){if(!i)if(3==(3&e[pt])){const s=n.preOrderCheckHooks;null!==s&&Um(e,s,t)}else{const s=n.preOrderHooks;null!==s&&Bm(e,s,0,t)}ol(t)}function ye(n,e=V.Default){const t=le();return null===t?_t(n,e):iC(wn(),t,H(n),e)}function Sg(n,e,t,i,r,s,o,a,u,l,c){const f=e.blueprint.slice();return f[ei]=r,f[pt]=140|i,(null!==l||n&&2048&n[pt])&&(f[pt]|=2048),PS(f),f[qn]=f[Lc]=n,f[Fn]=t,f[Nc]=o||n&&n[Nc],f[Pt]=a||n&&n[Pt],f[cr]=u||n&&n[cr]||null,f[Ki]=s,f[Ah]=function vV(){return gV++}(),f[qs]=c,f[MS]=l,f[Zn]=2==e.type?n[Zn]:f,f}function ud(n,e,t,i,r){let s=n.data[e];if(null===s)s=function Vx(n,e,t,i,r){const s=US(),o=Ry(),u=n.data[e]=function tH(n,e,t,i,r,s){let o=e?e.injectorIndex:-1,a=0;return Vc()&&(a|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,i,r);return null===n.firstChild&&(n.firstChild=u),null!==s&&(o?null==s.child&&null!==u.parent&&(s.child=u):null===s.next&&(s.next=u,u.prev=s)),u}(n,e,t,i,r),function JU(){return Et.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=i,s.attrs=r;const o=function Ph(){const n=Et.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return wo(s,!0),s}function tp(n,e,t,i){if(0===t)return-1;const r=e.length;for(let s=0;s<t;s++)e.push(i),n.blueprint.push(i),n.data.push(null);return r}function $1(n,e,t,i,r){const s=Ji(),o=2&i;try{ol(-1),o&&e.length>Ot&&W1(n,e,Ot,!1),Eo(o?2:0,r),t(i,r)}finally{ol(s),Eo(o?3:1,r)}}function Hx(n,e,t){if(My(e)){const i=rn(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=n.data[o];a.contentQueries&&a.contentQueries(1,t[o],o)}}finally{rn(i)}}}function zx(n,e,t){kS()&&(function uH(n,e,t,i){const r=t.directiveStart,s=t.directiveEnd;rl(t)&&function mH(n,e,t){const i=dr(e,n),r=q1(t);let o=16;t.signals?o=4096:t.onPush&&(o=64);const a=Cg(n,Sg(n,r,null,o,i,e,null,n[Nc].rendererFactory.createRenderer(i,t),null,null,null));n[e.index]=a}(e,t,n.data[r+t.componentOffset]),n.firstCreatePass||Hm(t,e),Qi(i,e);const o=t.initialInputs;for(let a=r;a<s;a++){const u=n.data[a],l=al(e,n,a,t);Qi(l,e),null!==o&&gH(0,a-r,l,u,0,o),Xs(u)&&(Zr(t.index,e)[Fn]=al(e,n,a,t))}}(n,e,t,dr(t,e)),64==(64&t.flags)&&J1(n,e,t))}function Gx(n,e,t=dr){const i=e.localNames;if(null!==i){let r=e.index+1;for(let s=0;s<i.length;s+=2){const o=i[s+1],a=-1===o?t(e,n):n[o];n[r++]=a}}}function q1(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=Wx(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Wx(n,e,t,i,r,s,o,a,u,l,c){const f=Ot+i,h=f+r,p=function Y5(n,e){const t=[];for(let i=0;i<e;i++)t.push(i<n?null:Bt);return t}(f,h),g="function"==typeof l?l():l;return p[De]={type:n,blueprint:p,template:t,queries:null,viewQuery:a,declTNode:e,data:p.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:g,incompleteFirstPass:!1,ssrId:c}}let X1=n=>null;function Y1(n,e,t,i){for(let r in n)if(n.hasOwnProperty(r)){t=null===t?{}:t;const s=n[r];null===i?Z1(t,e,r,s):i.hasOwnProperty(r)&&Z1(t,e,i[r],s)}return t}function Z1(n,e,t,i){n.hasOwnProperty(t)?n[t].push(e,i):n[t]=[e,i]}function jx(n,e,t,i){if(kS()){const r=null===i?null:{"":-1},s=function cH(n,e){const t=n.directiveRegistry;let i=null,r=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(vS(e,o.selectors,!1))if(i||(i=[]),Xs(o))if(null!==o.findHostDirectiveDefs){const a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),i.unshift(...a,o),$x(n,e,a.length)}else i.unshift(o),$x(n,e,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,i,r),i.push(o)}return null===i?null:[i,r]}(n,t);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&K1(n,e,t,o,r,a),r&&function dH(n,e,t){if(e){const i=n.localNames=[];for(let r=0;r<e.length;r+=2){const s=t[e[r+1]];if(null==s)throw new K(-301,!1);i.push(e[r],s)}}}(t,i,r)}t.mergedAttrs=Sh(t.mergedAttrs,t.attrs)}function K1(n,e,t,i,r,s){for(let l=0;l<i.length;l++)Gy(Hm(t,e),n,i[l].type);!function hH(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,i.length);for(let l=0;l<i.length;l++){const c=i[l];c.providersResolver&&c.providersResolver(c)}let o=!1,a=!1,u=tp(n,e,i.length,null);for(let l=0;l<i.length;l++){const c=i[l];t.mergedAttrs=Sh(t.mergedAttrs,c.hostAttrs),pH(n,t,e,u,c),fH(u,c,r),null!==c.contentQueries&&(t.flags|=4),(null!==c.hostBindings||null!==c.hostAttrs||0!==c.hostVars)&&(t.flags|=64);const f=c.type.prototype;!o&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),u++}!function nH(n,e,t){const r=e.directiveEnd,s=n.data,o=e.attrs,a=[];let u=null,l=null;for(let c=e.directiveStart;c<r;c++){const f=s[c],h=t?t.get(f):null,g=h?h.outputs:null;u=Y1(f.inputs,c,u,h?h.inputs:null),l=Y1(f.outputs,c,l,g);const x=null===u||null===o||gS(e)?null:vH(u,c,o);a.push(x)}null!==u&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}(n,t,s)}function J1(n,e,t){const i=t.directiveStart,r=t.directiveEnd,s=t.index,o=function eB(){return Et.lFrame.currentDirectiveIndex}();try{ol(s);for(let a=i;a<r;a++){const u=n.data[a],l=e[a];Oy(a),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&lH(u,l)}}finally{ol(-1),Oy(o)}}function lH(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function $x(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function fH(n,e,t){if(t){if(e.exportAs)for(let i=0;i<e.exportAs.length;i++)t[e.exportAs[i]]=n;Xs(e)&&(t[""]=n)}}function pH(n,e,t,i,r){n.data[i]=r;const s=r.factory||(r.factory=sl(r.type)),o=new Oh(s,Xs(r),ye);n.blueprint[i]=o,t[i]=o,function oH(n,e,t,i,r){const s=r.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~e.index;(function aH(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,i,s)}}(n,e,i,tp(n,t,r.hostVars,Bt),r)}function gH(n,e,t,i,r,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)Q1(i,t,o[a++],o[a++],o[a++])}function Q1(n,e,t,i,r){const s=rn(null);try{const o=n.inputTransforms;null!==o&&o.hasOwnProperty(i)&&(r=o[i].call(e,r)),null!==n.setInput?n.setInput(e,r,t,i):e[i]=r}finally{rn(s)}}function vH(n,e,t){let i=null,r=0;for(;r<t.length;){const s=t[r];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===i&&(i=[]);const o=n[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){i.push(s,o[a+1],t[r+1]);break}}r+=2}else r+=2;else r+=4}return i}function eD(n,e,t,i){return[n,!0,0,e,null,i,null,t,null,null]}function tD(n,e){const t=n.contentQueries;if(null!==t){const i=rn(null);try{for(let r=0;r<t.length;r+=2){const o=t[r+1];if(-1!==o){const a=n.data[o];Ly(t[r]),a.contentQueries(2,e[o],o)}}}finally{rn(i)}}}function Cg(n,e){return n[Ch]?n[ES][$s]=e:n[Ch]=e,n[ES]=e,e}function Xx(n,e,t){Ly(0);const i=rn(null);try{e(n,t)}finally{rn(i)}}function nD(n){return n[Oc]||(n[Oc]=[])}function iD(n){return n.cleanup||(n.cleanup=[])}function Dg(n,e){const t=n[cr],i=t?t.get(ca,null):null;i&&i.handleError(e)}function Yx(n,e,t,i,r){for(let s=0;s<t.length;){const o=t[s++],a=t[s++];Q1(n.data[o],e[o],i,a,r)}}function xH(n,e,t,i){const r=e[pt];if(256==(256&r))return;e[Nc].inlineEffectRunner?.flush(),Fy(e);let o=null,a=null;(function bH(n){return 2!==n.type})(n)&&(a=function B5(n){return n[il]??function V5(n){const e=F1.pop()??Object.create(z5);return e.lView=n,e}(n)}(e),o=function Qo(n){return n&&(n.nextProducerIndex=0),rn(n)}(a));try{PS(e),function VS(n){return Et.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&$1(n,e,t,2,i);const u=3==(3&r);if(u){const f=n.preOrderCheckHooks;null!==f&&Um(e,f,null)}else{const f=n.preOrderHooks;null!==f&&Bm(e,f,0,null),Uy(e,0)}if(function EH(n){for(let e=qC(n);null!==e;e=XC(e)){if(!(e[pt]&Uc.HasTransplantedViews))continue;const t=e[kc];for(let i=0;i<t.length;i++){VU(t[i])}}}(e),sD(e,0),null!==n.contentQueries&&tD(n,e),u){const f=n.contentCheckHooks;null!==f&&Um(e,f)}else{const f=n.contentHooks;null!==f&&Bm(e,f,1),Uy(e,1)}!function X5(n,e){const t=n.hostBindingOpCodes;if(null!==t)try{for(let i=0;i<t.length;i++){const r=t[i];if(r<0)ol(~r);else{const s=r,o=t[++i],a=t[++i];QU(o,s),a(2,e[s])}}}finally{ol(-1)}}(n,e);const l=n.components;null!==l&&aD(e,l,0);const c=n.viewQuery;if(null!==c&&Xx(2,c,i),u){const f=n.viewCheckHooks;null!==f&&Um(e,f)}else{const f=n.viewHooks;null!==f&&Bm(e,f,2),Uy(e,2)}if(!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[Rm]){for(const f of e[Rm])f();e[Rm]=null}e[pt]&=-73}catch(u){throw Nm(e),u}finally{null!==a&&(function Tt(n,e){if(rn(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(Gu(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)zu(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}(a,o),function H5(n){n.lView[il]!==n&&(n.lView=null,F1.push(n))}(a)),ky()}}function sD(n,e){for(let t=qC(n);null!==t;t=XC(t)){t[pt]&=~Uc.HasChildViewsToRefresh;for(let i=li;i<t.length;i++)oD(t[i],e)}}function MH(n,e,t){oD(Zr(e,n),t)}function oD(n,e){Ty(n)&&Kx(n,e)}function Kx(n,e){const i=n[De],r=n[pt],s=n[il];let o=!!(0===e&&16&r);if(o||=!!(64&r&&0===e),o||=!!(1024&r),o||=!(!s?.dirty||!Jf(s)),s&&(s.dirty=!1),n[pt]&=-9217,o)xH(i,n,i.template,n[Fn]);else if(8192&r){sD(n,1);const a=i.components;null!==a&&aD(n,a,1)}}function aD(n,e,t){for(let i=0;i<e.length;i++)MH(n,e[i],t)}function np(n){for(;n;){n[pt]|=64;const e=Gh(n);if(wy(n)&&!e)return n;n=e}return null}class ip{get rootNodes(){const e=this._lView,t=e[De];return ep(t,e,t.firstChild,[])}constructor(e,t,i=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=i,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Fn]}set context(e){this._lView[Fn]=e}get destroyed(){return 256==(256&this._lView[pt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[qn];if(Fi(e)){const t=e[8],i=t?t.indexOf(this):-1;i>-1&&(Wh(e,i),jm(t,i))}this._attachedToViewContainer=!1}lg(this._lView[De],this._lView)}onDestroy(e){Lm(this._lView,e)}markForCheck(){np(this._cdRefInjectingView||this._lView)}detach(){this._lView[pt]&=-129}reattach(){LS(this._lView),this._lView[pt]|=128}detectChanges(){this._lView[pt]|=1024,function Zx(n,e=!0){const t=n[Nc],i=t.rendererFactory,r=t.afterRenderEventManager;i.begin?.(),r?.begin();try{!function yH(n){Kx(n,0);let e=0;for(;NS(n);){if(100===e)throw new K(103,!1);e++,Kx(n,1)}}(n)}catch(o){throw e&&Dg(n,o),o}finally{i.end?.(),t.inlineEffectRunner?.flush(),r?.end()}}(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new K(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function RV(n,e){$h(n,e,e[Pt],2,null,null)}(this._lView[De],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new K(902,!1);this._appRef=e}}let rp=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=wH}return n})();function wH(n){return function SH(n,e,t){if(rl(n)&&!t){const i=Zr(n.index,e);return new ip(i,i)}return 47&n.type?new ip(e[Zn],e):null}(wn(),le(),16==(16&n))}let Ag=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=TH;static#t=this.__NG_ENV_ID__=t=>t}return n})();class AH extends Ag{constructor(e){super(),this._lView=e}onDestroy(e){return Lm(this._lView,e),()=>function Iy(n,e){if(null===n[Ja])return;const t=n[Ja].indexOf(e);-1!==t&&n[Ja].splice(t,1)}(this._lView,e)}}function TH(){return new AH(le())}const uD=new Set;function dl(n){uD.has(n)||(uD.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function Jx(n){return e=>{setTimeout(n,void 0,e)}}const Pn=class FH extends Wr{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,i){let r=e,s=t||(()=>null),o=i;if(e&&"object"==typeof e){const u=e;r=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=Jx(s),r&&(r=Jx(r)),o&&(o=Jx(o)));const a=super.subscribe({next:r,error:s,complete:o});return e instanceof ur&&e.add(a),a}};function lD(...n){}class En{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:i=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Pn(!1),this.onMicrotaskEmpty=new Pn(!1),this.onStable=new Pn(!1),this.onError=new Pn(!1),typeof Zone>"u")throw new K(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!i&&t,r.shouldCoalesceRunChangeDetection=i,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function kH(){const n="function"==typeof Ie.requestAnimationFrame;let e=Ie[n?"requestAnimationFrame":"setTimeout"],t=Ie[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function VH(n){const e=()=>{!function BH(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(Ie,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,eb(n),n.isCheckStableRunning=!0,Qx(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),eb(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,i,r,s,o,a)=>{if(function zH(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(r,s,o,a);try{return cD(n),t.invokeTask(r,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),dD(n)}},onInvoke:(t,i,r,s,o,a,u)=>{try{return cD(n),t.invoke(r,s,o,a,u)}finally{n.shouldCoalesceRunChangeDetection&&e(),dD(n)}},onHasTask:(t,i,r,s)=>{t.hasTask(r,s),i===r&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,eb(n),Qx(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,i,r,s)=>(t.handleError(r,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!En.isInAngularZone())throw new K(909,!1)}static assertNotInAngularZone(){if(En.isInAngularZone())throw new K(909,!1)}run(e,t,i){return this._inner.run(e,t,i)}runTask(e,t,i,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,e,UH,lD,lD);try{return s.runTask(o,t,i)}finally{s.cancelTask(o)}}runGuarded(e,t,i){return this._inner.runGuarded(e,t,i)}runOutsideAngular(e){return this._outer.run(e)}}const UH={};function Qx(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function eb(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function cD(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function dD(n){n._nesting--,Qx(n)}class HH{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Pn,this.onMicrotaskEmpty=new Pn,this.onStable=new Pn,this.onError=new Pn}run(e,t,i){return e.apply(t,i)}runGuarded(e,t,i){return e.apply(t,i)}runOutsideAngular(e){return e()}runTask(e,t,i,r){return e.apply(t,i)}}const fD=new he("",{providedIn:"root",factory:hD});function hD(){const n=Oe(En);let e=!0;return function Qu(...n){const e=Ju(n),t=function hy(n,e){return"number"==typeof ph(n)?n.pop():e}(n,1/0),i=n;return i.length?1===i.length?oi(i[0]):ja(t)(ai(i,e)):Tr}(new Xn(r=>{e=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{r.next(e),r.complete()})}),new Xn(r=>{let s;n.runOutsideAngular(()=>{s=n.onStable.subscribe(()=>{En.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(e=!0,r.next(!0))})})});const o=n.onUnstable.subscribe(()=>{En.assertInAngularZone(),e&&(e=!1,n.runOutsideAngular(()=>{r.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(function gy(n={}){const{connector:e=(()=>new Wr),resetOnError:t=!0,resetOnComplete:i=!0,resetOnRefCountZero:r=!0}=n;return s=>{let o,a,u,l=0,c=!1,f=!1;const h=()=>{a?.unsubscribe(),a=void 0},p=()=>{h(),o=u=void 0,c=f=!1},g=()=>{const x=o;p(),x?.unsubscribe()};return Ln((x,_)=>{l++,!f&&!c&&h();const v=u=u??e();_.add(()=>{l--,0===l&&!f&&!c&&(a=vh(g,r))}),v.subscribe(_),!o&&l>0&&(o=new Gr({next:w=>v.next(w),error:w=>{f=!0,h(),a=vh(p,t,w),v.error(w)},complete:()=>{c=!0,h(),a=vh(p,i),v.complete()}}),oi(x).subscribe(o))})(s)}}()))}var fl=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(fl||{});const pD={destroy(){}};function gD(n,e){!e&&function ix(n){if(!Q()&&!function lU(){return Pc}())throw new K(-203,!1)}();const t=e?.injector??Oe(Pr);if(!function ru(n){return"browser"===(n??Oe(Pr)).get(iu)}(t))return pD;dl("NgAfterNextRender");const i=t.get(Tg),r=i.handler??=new _D,s=e?.phase??fl.MixedReadWrite,o=()=>{r.unregister(u),a()},a=t.get(Ag).onDestroy(o),u=new vD(t,s,()=>{o(),n()});return r.register(u),{destroy:o}}class vD{constructor(e,t,i){this.phase=t,this.callbackFn=i,this.zone=e.get(En),this.errorHandler=e.get(ca,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(e){this.errorHandler?.handleError(e)}}}class _D{constructor(){this.executingCallbacks=!1,this.buckets={[fl.EarlyRead]:new Set,[fl.Write]:new Set,[fl.MixedReadWrite]:new Set,[fl.Read]:new Set},this.deferredCallbacks=new Set}validateBegin(){if(this.executingCallbacks)throw new K(102,!1)}register(e){(this.executingCallbacks?this.deferredCallbacks:this.buckets[e.phase]).add(e)}unregister(e){this.buckets[e.phase].delete(e),this.deferredCallbacks.delete(e)}execute(){this.executingCallbacks=!0;for(const e of Object.values(this.buckets))for(const t of e)t.invoke();this.executingCallbacks=!1;for(const e of this.deferredCallbacks)this.buckets[e.phase].add(e);this.deferredCallbacks.clear()}destroy(){for(const e of Object.values(this.buckets))e.clear();this.deferredCallbacks.clear()}}let Tg=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null,this.internalCallbacks=[]}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth){for(const t of this.internalCallbacks)t();this.internalCallbacks.length=0,this.handler?.execute()}}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=it({token:n,providedIn:"root",factory:()=>new n})}return n})();function jH(n,e){const t=Zr(e,n),i=t[De];!function $H(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(i,t);const r=t[ei];null!==r&&null===t[qs]&&(t[qs]=Nx(r,t[cr])),tb(i,t,t[Fn])}function tb(n,e,t){Fy(e);try{const i=n.viewQuery;null!==i&&Xx(1,i,t);const r=n.template;null!==r&&$1(n,e,r,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&tD(n,e),n.staticViewQueries&&Xx(2,n.viewQuery,t);const s=n.components;null!==s&&function qH(n,e){for(let t=0;t<e.length;t++)jH(n,e[t])}(e,s)}catch(i){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),i}finally{e[pt]&=-5,ky()}}function Ig(n,e,t){let i=t?n.styles:null,r=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?r=C(r,a):2==s&&(i=C(i,a+": "+e[++o]+";"))}t?n.styles=i:n.stylesWithoutHost=i,t?n.classes=r:n.classesWithoutHost=r}class yD extends bg{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Jt(e);return new sp(t,this.ngModule)}}function xD(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class YH{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,i){i=Am(i);const r=this.injector.get(e,kx,i);return r!==kx||t===kx?r:this.parentInjector.get(e,t,i)}}class sp extends S1{get inputs(){const e=this.componentDef,t=e.inputTransforms,i=xD(e.inputs);if(null!==t)for(const r of i)t.hasOwnProperty(r.propName)&&(r.transform=t[r.propName]);return i}get outputs(){return xD(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function MU(n){return n.map(EU).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,i,r){let s=(r=r||this.ngModule)instanceof Es?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new YH(e,s):e,a=o.get(D1,null);if(null===a)throw new K(407,!1);const c={rendererFactory:a,sanitizer:o.get(D5,null),inlineEffectRunner:null,afterRenderEventManager:o.get(Tg,null)},f=a.createRenderer(null,this.componentDef),h=this.componentDef.selectors[0][0]||"div",p=i?function Z5(n,e,t,i){const s=i.get(V1,!1)||t===Ws.ShadowDom,o=n.selectRootElement(e,s);return function K5(n){X1(n)}(o),o}(f,i,this.componentDef.encapsulation,o):ug(f,h,function XH(n){const e=n.toLowerCase();return"svg"===e?IS:"math"===e?"math":null}(h)),_=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let v=null;null!==p&&(v=Nx(p,o,!0));const w=Wx(0,null,null,1,0,null,null,null,null,null,null),M=Sg(null,w,null,_,null,null,c,f,o,null,v);let D,T;Fy(M);try{const P=this.componentDef;let U,W=null;P.findHostDirectiveDefs?(U=[],W=new Map,P.findHostDirectiveDefs(P,U,W),U.push(P)):U=[P];const I=function KH(n,e){const t=n[De],i=Ot;return n[i]=e,ud(t,i,2,"#host",null)}(M,p),F=function JH(n,e,t,i,r,s,o){const a=r[De];!function QH(n,e,t,i){for(const r of n)e.mergedAttrs=Sh(e.mergedAttrs,r.hostAttrs);null!==e.mergedAttrs&&(Ig(e,e.mergedAttrs,!0),null!==t&&l1(i,t,e))}(i,n,e,o);let u=null;null!==e&&(u=Nx(e,r[cr]));const l=s.rendererFactory.createRenderer(e,t);let c=16;t.signals?c=4096:t.onPush&&(c=64);const f=Sg(r,q1(t),null,c,r[n.index],n,s,l,null,null,u);return a.firstCreatePass&&$x(a,n,i.length-1),Cg(r,f),r[n.index]=f}(I,p,P,U,M,c,f);T=Rh(w,Ot),p&&function tz(n,e,t,i){if(i)by(n,t,["ng-version",A5.full]);else{const{attrs:r,classes:s}=function wU(n){const e=[],t=[];let i=1,r=2;for(;i<n.length;){let s=n[i];if("string"==typeof s)2===r?""!==s&&e.push(s,n[++i]):8===r&&t.push(s);else{if(!js(r))break;r=s}i++}return{attrs:e,classes:t}}(e.selectors[0]);r&&by(n,t,r),s&&s.length>0&&u1(n,t,s.join(" "))}}(f,P,p,i),void 0!==t&&function nz(n,e,t){const i=n.projection=[];for(let r=0;r<e.length;r++){const s=t[r];i.push(null!=s?Array.from(s):null)}}(T,this.ngContentSelectors,t),D=function ez(n,e,t,i,r,s){const o=wn(),a=r[De],u=dr(o,r);K1(a,r,o,t,null,i);for(let c=0;c<t.length;c++)Qi(al(r,a,o.directiveStart+c,o),r);J1(a,r,o),u&&Qi(u,r);const l=al(r,a,o.directiveStart+o.componentOffset,o);if(n[Fn]=r[Fn]=l,null!==s)for(const c of s)c(l,e);return Hx(a,o,n),l}(F,P,U,W,M,[iz]),tb(w,M,null)}finally{ky()}return new ZH(this.componentType,D,ad(T,M),M,T)}}class ZH extends b5{constructor(e,t,i,r,s){super(),this.location=i,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new ip(r,void 0,!1),this.componentType=e}setInput(e,t){const i=this._tNode.inputs;let r;if(null!==i&&(r=i[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const s=this._rootLView;Yx(s[De],s,r,e,t),this.previousInputValues.set(e,t),np(Zr(this._tNode.index,s))}}get injector(){return new Di(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function iz(){const n=wn();km(le()[De],n)}function Io(n,e,t){return n[e]=t}function vi(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function Og(n,e){return n<<17|e<<2}function lu(n){return n>>17&32767}function nb(n){return 2|n}function pl(n){return(131068&n)>>2}function ib(n,e){return-131069&n|e<<2}function rb(n){return 1|n}function LD(n,e,t,i,r){const s=n[t+1],o=null===e;let a=i?lu(s):pl(s),u=!1;for(;0!==a&&(!1===u||o);){const c=n[a+1];_z(n[a],e)&&(u=!0,n[a+1]=i?rb(c):nb(c)),a=i?lu(c):pl(c)}u&&(n[t+1]=i?nb(s):rb(s))}function _z(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&Zc(n,e)>=0}const Ti={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function FD(n){return n.substring(Ti.key,Ti.keyEnd)}function kD(n,e){const t=Ti.textEnd;return t===e?-1:(e=Ti.keyEnd=function Ez(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,Ti.key=e,t),_d(n,e,t))}function _d(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function ut(n,e,t){const i=le();return vi(i,So(),e)&&function Qr(n,e,t,i,r,s,o,a){const u=dr(e,t);let c,l=e.inputs;!a&&null!=l&&(c=l[i])?(Yx(n,t,c,i,r),rl(e)&&function rH(n,e){const t=Zr(e,n);16&t[pt]||(t[pt]|=64)}(t,e.index)):3&e.type&&(i=function iH(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(i),r=null!=o?o(r,e.value||"",i):r,s.setProperty(u,i,r))}(an(),function zn(){const n=Et.lFrame;return Rh(n.tView,n.selectedIndex)}(),i,n,e,i[Pt],t,!1),ut}function sb(n,e,t,i,r){const o=r?"class":"style";Yx(n,t,e.inputs[o],o,i)}function ob(n,e,t){return function Ys(n,e,t,i){const r=le(),s=an(),o=ua(2);s.firstUpdatePass&&GD(s,n,o,i),e!==Bt&&vi(r,o,e)&&jD(s,s.data[Ji()],r,r[Pt],n,r[o+1]=function Oz(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=S(au(n)))),n}(e,t),i,o)}(n,e,t,!1),ob}function ab(n){!function Zs(n,e,t,i){const r=an(),s=ua(2);r.firstUpdatePass&&GD(r,null,s,i);const o=le();if(t!==Bt&&vi(o,s,t)){const a=r.data[Ji()];if(qD(a,i)&&!zD(r,s)){let u=i?a.classesWithoutHost:a.stylesWithoutHost;null!==u&&(t=C(u,t||"")),sb(r,a,o,t,i)}else!function Pz(n,e,t,i,r,s,o,a){r===Bt&&(r=dn);let u=0,l=0,c=0<r.length?r[0]:null,f=0<s.length?s[0]:null;for(;null!==c||null!==f;){const h=u<r.length?r[u+1]:void 0,p=l<s.length?s[l+1]:void 0;let x,g=null;c===f?(u+=2,l+=2,h!==p&&(g=f,x=p)):null===f||null!==c&&c<f?(u+=2,g=c):(l+=2,g=f,x=p),null!==g&&jD(n,e,t,i,g,x,o,a),c=u<r.length?r[u]:null,f=l<s.length?s[l]:null}}(r,a,o,o[Pt],o[s+1],o[s+1]=function Iz(n,e,t){if(null==t||""===t)return dn;const i=[],r=au(t);if(Array.isArray(r))for(let s=0;s<r.length;s++)n(i,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&n(i,s,r[s]);else"string"==typeof r&&e(i,r);return i}(n,e,t),i,s)}}(Rz,Oo,n,!0)}function Oo(n,e){for(let t=function xz(n){return function BD(n){Ti.key=0,Ti.keyEnd=0,Ti.value=0,Ti.valueEnd=0,Ti.textEnd=n.length}(n),kD(n,_d(n,0,Ti.textEnd))}(e);t>=0;t=kD(e,t))Kr(n,FD(e),!0)}function zD(n,e){return e>=n.expandoStartIndex}function GD(n,e,t,i){const r=n.data;if(null===r[t+1]){const s=r[Ji()],o=zD(n,t);qD(s,i)&&null===e&&!o&&(e=!1),e=function Cz(n,e,t,i){const r=function Ny(n){const e=Et.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}(n);let s=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(t=ap(t=ub(null,n,e,t,i),e.attrs,i),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==r)if(t=ub(r,n,e,t,i),null===s){let u=function Dz(n,e,t){const i=t?e.classBindings:e.styleBindings;if(0!==pl(i))return n[lu(i)]}(n,e,i);void 0!==u&&Array.isArray(u)&&(u=ub(null,n,e,u[1],i),u=ap(u,e.attrs,i),function Az(n,e,t,i){n[lu(t?e.classBindings:e.styleBindings)]=i}(n,e,i,u))}else s=function Tz(n,e,t){let i;const r=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<r;s++)i=ap(i,n[s].hostAttrs,t);return ap(i,e.attrs,t)}(n,e,i)}return void 0!==s&&(i?e.residualClasses=s:e.residualStyles=s),t}(r,s,e,i),function gz(n,e,t,i,r,s){let o=s?e.classBindings:e.styleBindings,a=lu(o),u=pl(o);n[i]=t;let c,l=!1;if(Array.isArray(t)?(c=t[1],(null===c||Zc(t,c)>0)&&(l=!0)):c=t,r)if(0!==u){const h=lu(n[a+1]);n[i+1]=Og(h,a),0!==h&&(n[h+1]=ib(n[h+1],i)),n[a+1]=function pz(n,e){return 131071&n|e<<17}(n[a+1],i)}else n[i+1]=Og(a,0),0!==a&&(n[a+1]=ib(n[a+1],i)),a=i;else n[i+1]=Og(u,0),0===a?a=i:n[u+1]=ib(n[u+1],i),u=i;l&&(n[i+1]=nb(n[i+1])),LD(n,c,i,!0),LD(n,c,i,!1),function vz(n,e,t,i,r){const s=r?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&Zc(s,e)>=0&&(t[i+1]=rb(t[i+1]))}(e,c,n,i,s),o=Og(a,u),s?e.classBindings=o:e.styleBindings=o}(r,s,e,t,o,i)}}function ub(n,e,t,i,r){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],i=ap(i,s.hostAttrs,r),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),i}function ap(n,e,t){const i=t?1:2;let r=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?r=o:r===i&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Kr(n,o,!!t||e[++s]))}return void 0===n?null:n}function Rz(n,e,t){const i=String(e);""!==i&&!i.includes(" ")&&Kr(n,i,t)}function jD(n,e,t,i,r,s,o,a){if(!(3&e.type))return;const u=n.data,l=u[a+1],c=function mz(n){return 1==(1&n)}(l)?$D(u,e,t,r,pl(l),o):void 0;Lg(c)||(Lg(s)||function hz(n){return 2==(2&n)}(l)&&(s=$D(u,null,t,r,a,o)),function HV(n,e,t,i,r){if(e)r?n.addClass(t,i):n.removeClass(t,i);else{let s=-1===i.indexOf("-")?void 0:ou.DashCase;null==r?n.removeStyle(t,i,s):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=ou.Important),n.setStyle(t,i,r,s))}}(i,o,Ih(Ji(),t),r,s))}function $D(n,e,t,i,r,s){const o=null===e;let a;for(;r>0;){const u=n[r],l=Array.isArray(u),c=l?u[1]:u,f=null===c;let h=t[r+1];h===Bt&&(h=f?dn:void 0);let p=f?qy(h,i):c===i?h:void 0;if(l&&!Lg(p)&&(p=qy(u,i)),Lg(p)&&(a=p,o))return a;const g=n[r+1];r=o?lu(g):pl(g)}if(null!==e){let u=s?e.residualClasses:e.residualStyles;null!=u&&(a=qy(u,i))}return a}function Lg(n){return void 0!==n}function qD(n,e){return 0!=(n.flags&(e?8:16))}function xd(n,e){return!e||null===e.firstChild||sg(n)}function hp(n,e,t,i=!0){const r=e[De];if(function OV(n,e,t,i){const r=li+i,s=t.length;i>0&&(t[r-1][$s]=e),i<s-li?(e[$s]=t[r],lC(t,li+i,e)):(t.push(e),e[$s]=null),e[qn]=t;const o=e[Dh];null!==o&&t!==o&&function NV(n,e){const t=n[kc];e[Zn]!==e[qn][qn][Zn]&&(n[pt]|=Uc.HasTransplantedViews),null===t?n[kc]=[e]:t.push(e)}(o,e);const a=e[xo];null!==a&&a.insertView(n),LS(e),e[pt]|=128}(r,e,n,t),i){const o=yx(t,n),a=e[Pt],u=cg(a,n[bo]);null!==u&&function IV(n,e,t,i,r,s){i[ei]=r,i[Ki]=e,$h(n,i,t,1,r,s)}(r,n[Ki],a,e,u,o)}const s=e[qs];null!==s&&null!==s.firstChild&&(s.firstChild=null)}let Ks=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=h8}return n})();function h8(){return oA(wn(),le())}const p8=Ks,rA=class extends p8{constructor(e,t,i){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=i}get element(){return ad(this._hostTNode,this._hostLView)}get injector(){return new Di(this._hostTNode,this._hostLView)}get parentInjector(){const e=zm(this._hostTNode,this._hostLView);if(Vy(e)){const t=Lh(e,this._hostLView),i=Nh(e);return new Di(t[De].data[i+8],t)}return new Di(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=sA(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-li}createEmbeddedView(e,t,i){let r,s;"number"==typeof i?r=i:null!=i&&(r=i.index,s=i.injector);const a=e.createEmbeddedViewImpl(t||{},s,null);return this.insertImpl(a,r,xd(this._hostTNode,null)),a}createComponent(e,t,i,r,s){const o=e&&!function Fh(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const g=t||{};a=g.index,i=g.injector,r=g.projectableNodes,s=g.environmentInjector||g.ngModuleRef}const u=o?e:new sp(Jt(e)),l=i||this.parentInjector;if(!s&&null==u.ngModule){const x=(o?l:this.parentInjector).get(Es,null);x&&(s=x)}Jt(u.componentType??{});const p=u.create(l,r,null,s);return this.insertImpl(p.hostView,a,xd(this._hostTNode,null)),p}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,i){const r=e._lView;if(function BU(n){return Fi(n[qn])}(r)){const a=this.indexOf(e);if(-1!==a)this.detach(a);else{const u=r[qn],l=new rA(u,u[Ki],u[qn]);l.detach(l.indexOf(e))}}const s=this._adjustIndex(t),o=this._lContainer;return hp(o,r,s,i),e.attachToViewContainerRef(),lC(vb(o),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=sA(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),i=Wh(this._lContainer,t);i&&(jm(vb(this._lContainer),t),lg(i[De],i))}detach(e){const t=this._adjustIndex(e,-1),i=Wh(this._lContainer,t);return i&&null!=jm(vb(this._lContainer),t)?new ip(i):null}_adjustIndex(e,t=0){return e??this.length+t}};function sA(n){return n[8]}function vb(n){return n[8]||(n[8]=[])}function oA(n,e){let t;const i=e[n.index];return Fi(i)?t=i:(t=eD(i,e,null,n),e[n.index]=t,Cg(e,t)),aA(t,e,n,i),new rA(t,n,e)}let aA=function lA(n,e,t,i){if(n[bo])return;let r;r=8&t.type?kn(i):function m8(n,e){const t=n[Pt],i=t.createComment(""),r=dr(e,n);return cl(t,cg(t,r),i,function UV(n,e){return n.nextSibling(e)}(t,r),!1),i}(e,t),n[bo]=r},_b=(n,e,t)=>!1;function ws(n,e,t,i,r,s,o,a){const u=le(),l=an(),c=n+Ot,f=l.firstCreatePass?function y8(n,e,t,i,r,s,o,a,u){const l=e.consts,c=ud(e,n,4,o||null,Mo(l,a));jx(e,t,c,Mo(l,u)),km(e,c);const f=c.tView=Wx(2,c,i,r,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,c),f.queries=e.queries.embeddedTView(c)),c}(c,l,u,e,t,i,r,s,o):l.data[c];wo(f,!1);const h=cA(l,u,f,n);Fm()&&dg(l,u,h,f),Qi(h,u);const p=eD(h,u,h,f);return u[c]=p,Cg(u,p),function uA(n,e,t){return _b(n,e,t)}(p,f,u),Om(f)&&zx(l,u,f),null!=o&&Gx(u,f,a),ws}let cA=function dA(n,e,t,i){return eu(!0),e[Pt].createComment("")};function ee(n,e,t,i){const r=le(),s=an(),o=Ot+n,a=r[Pt],u=s.firstCreatePass?function uG(n,e,t,i,r,s){const o=e.consts,u=ud(e,n,2,i,Mo(o,r));return jx(e,t,u,Mo(o,s)),null!==u.attrs&&Ig(u,u.attrs,!1),null!==u.mergedAttrs&&Ig(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,r,e,t,i):s.data[o],l=NA(s,r,u,a,e,n);r[o]=l;const c=Om(u);return wo(u,!0),l1(a,l,u),32!=(32&u.flags)&&Fm()&&dg(s,r,l,u),0===function HU(){return Et.lFrame.elementDepthCount}()&&Qi(l,r),function zU(){Et.lFrame.elementDepthCount++}(),c&&(zx(s,r,u),Hx(s,u,r)),null!==i&&Gx(r,u),ee}function ue(){let n=wn();Ry()?Py():(n=n.parent,wo(n,!1));const e=n;(function WU(n){return Et.skipHydrationRootTNode===n})(e)&&function XU(){Et.skipHydrationRootTNode=null}(),function GU(){Et.lFrame.elementDepthCount--}();const t=an();return t.firstCreatePass&&(km(t,n),My(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function lB(n){return 0!=(8&n.flags)}(e)&&sb(t,e,le(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function cB(n){return 0!=(16&n.flags)}(e)&&sb(t,e,le(),e.stylesWithoutHost,!1),ue}function Ae(n,e,t,i){return ee(n,e,t,i),ue(),Ae}let NA=(n,e,t,i,r,s)=>(eu(!0),ug(i,r,function XS(){return Et.lFrame.currentNamespace}()));function No(n,e,t){const i=le(),r=an(),s=n+Ot,o=r.firstCreatePass?function dG(n,e,t,i,r){const s=e.consts,o=Mo(s,i),a=ud(e,n,8,"ng-container",o);return null!==o&&Ig(a,o,!0),jx(e,t,a,Mo(s,r)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,r,i,e,t):r.data[s];wo(o,!0);const a=FA(r,i,o,n);return i[s]=a,Fm()&&dg(r,i,a,o),Qi(a,i),Om(o)&&(zx(r,i,o),Hx(r,o,i)),null!=t&&Gx(i,o),No}function Lo(){let n=wn();const e=an();return Ry()?Py():(n=n.parent,wo(n,!1)),e.firstCreatePass&&(km(e,n),My(n)&&e.queries.elementEnd(n)),Lo}let FA=(n,e,t,i)=>(eu(!0),mx(e[Pt],""));const Ad="en-US";let HA=Ad;function Ep(n){return!!n&&"function"==typeof n.then}function fT(n){return!!n&&"function"==typeof n.subscribe}function Ui(n,e,t,i){const r=le(),s=an(),o=wn();return function pT(n,e,t,i,r,s,o){const a=Om(i),l=n.firstCreatePass&&iD(n),c=e[Fn],f=nD(e);let h=!0;if(3&i.type||o){const x=dr(i,e),_=o?o(x):x,v=f.length,w=o?D=>o(kn(D[i.index])):i.index;let M=null;if(!o&&a&&(M=function d6(n,e,t,i){const r=n.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===t&&r[s+1]===i){const a=e[Oc],u=r[s+2];return a.length>u?a[u]:null}"string"==typeof o&&(s+=2)}return null}(n,e,r,i.index)),null!==M)(M.__ngLastListenerFn__||M).__ngNextListenerFn__=s,M.__ngLastListenerFn__=s,h=!1;else{s=gT(i,e,c,s,!1);const D=t.listen(_,r,s);f.push(s,D),l&&l.push(r,w,v,v+1)}}else s=gT(i,e,c,s,!1);const p=i.outputs;let g;if(h&&null!==p&&(g=p[r])){const x=g.length;if(x)for(let _=0;_<x;_+=2){const T=e[g[_]][g[_+1]].subscribe(s),P=f.length;f.push(s,T),l&&l.push(r,i.index,P,-(P+1))}}}(s,r,r[Pt],o,n,e,i),Ui}function mT(n,e,t,i){try{return Eo(6,e,t),!1!==t(i)}catch(r){return Dg(n,r),!1}finally{Eo(7,e,t)}}function gT(n,e,t,i,r){return function s(o){if(o===Function)return i;np(n.componentOffset>-1?Zr(n.index,e):e);let u=mT(e,t,i,o),l=s.__ngNextListenerFn__;for(;l;)u=mT(e,t,l,o)&&u,l=l.__ngNextListenerFn__;return r&&!1===u&&o.preventDefault(),u}}function vl(n=1){return function nB(n){return(Et.lFrame.contextLView=function OS(n,e){for(;n>0;)e=e[Lc],n--;return e}(n,Et.lFrame.contextLView))[Fn]}(n)}function f6(n,e){let t=null;const i=function _U(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let r=0;r<e.length;r++){const s=e[r];if("*"!==s){if(null===i?vS(n,s,!0):bU(i,s))return r}else t=r}return t}function st(n,e=""){const t=le(),i=an(),r=n+Ot,s=i.firstCreatePass?ud(i,r,1,e,null):i.data[r],o=UT(i,t,s,e,n);t[r]=o,Fm()&&dg(i,t,o,s),wo(s,!1)}let UT=(n,e,t,i,r)=>(eu(!0),function ag(n,e){return n.createText(e)}(e[Pt],i));function Sn(n,e,t){const i=le(),r=function cd(n,e,t,i){return vi(n,So(),t)?e+He(t)+i:Bt}(i,n,e,t);return r!==Bt&&function da(n,e,t){const i=Ih(e,n);!function ZC(n,e,t){n.setValue(e,t)}(n[Pt],i,t)}(i,Ji(),r),Sn}function Pb(n,e,t,i,r){if(n=H(n),Array.isArray(n))for(let s=0;s<n.length;s++)Pb(n[s],e,t,i,r);else{const s=an(),o=le(),a=wn();let u=ul(n)?n:H(n.provide);const l=bC(n),c=1048575&a.providerIndexes,f=a.directiveStart,h=a.providerIndexes>>20;if(ul(n)||!n.multi){const p=new Oh(l,r,ye),g=Nb(u,e,r?c:c+h,f);-1===g?(Gy(Hm(a,o),s,u),Ob(s,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(p),o.push(p)):(t[g]=p,o[g]=p)}else{const p=Nb(u,e,c+h,f),g=Nb(u,e,c,c+h),_=g>=0&&t[g];if(r&&!_||!r&&!(p>=0&&t[p])){Gy(Hm(a,o),s,u);const v=function A6(n,e,t,i,r){const s=new Oh(n,t,ye);return s.multi=[],s.index=e,s.componentProviders=0,XT(s,r,i&&!t),s}(r?D6:C6,t.length,r,i,l);!r&&_&&(t[g].providerFactory=v),Ob(s,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),t.push(v),o.push(v)}else Ob(s,n,p>-1?p:g,XT(t[r?g:p],l,!r&&i));!r&&i&&_&&t[g].componentProviders++}}}function Ob(n,e,t,i){const r=ul(e),s=function zB(n){return!!n.useClass}(e);if(r||s){const u=(s?H(e.useClass):e).prototype.ngOnDestroy;if(u){const l=n.destroyHooks||(n.destroyHooks=[]);if(!r&&e.multi){const c=l.indexOf(t);-1===c?l.push(t,[i,u]):l[c+1].push(i,u)}else l.push(t,u)}}}function XT(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function Nb(n,e,t,i){for(let r=t;r<i;r++)if(e[r]===n)return r;return-1}function C6(n,e,t,i){return Lb(this.multi,[])}function D6(n,e,t,i){const r=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=al(t,t[De],this.providerFactory.index,i);s=a.slice(0,o),Lb(r,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],Lb(r,s);return s}function Lb(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Gn(n,e=[]){return t=>{t.providersResolver=(i,r)=>function S6(n,e,t){const i=an();if(i.firstCreatePass){const r=Xs(n);Pb(t,i.data,i.blueprint,r,!0),Pb(e,i.data,i.blueprint,r,!1)}}(i,r?r(n):n,e)}}class _l{}class YT{}class Fb extends _l{constructor(e,t,i){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new yD(this);const r=Zi(e);this._bootstrapComponents=Jr(r.bootstrap),this._r3Injector=CC(e,t,[{provide:_l,useValue:this},{provide:bg,useValue:this.componentFactoryResolver},...i],S(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class kb extends YT{constructor(e){super(),this.moduleType=e}create(e){return new Fb(this.moduleType,e,[])}}class ZT extends _l{constructor(e){super(),this.componentFactoryResolver=new yD(this),this.instance=null;const t=new Qc([...e.providers,{provide:_l,useValue:this},{provide:bg,useValue:this.componentFactoryResolver}],e.parent||Qm(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Ub(n,e,t=null){return new ZT({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let R6=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const i=vC(0,t.type),r=i.length>0?Ub([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=it({token:n,providedIn:"environment",factory:()=>new n(_t(Es))})}return n})();function KT(n){dl("NgStandalone"),n.getStandaloneInjector=e=>e.get(R6).getOrCreateStandaloneInjector(n)}function du(n,e,t){const i=fr()+n,r=le();return r[i]===Bt?Io(r,i,t?e.call(t):e()):function op(n,e){return n[e]}(r,i)}function sI(n,e,t,i){return function oI(n,e,t,i,r,s){const o=e+t;return vi(n,o,r)?Io(n,o+1,s?i.call(s,r):i(r)):function Mp(n,e){const t=n[e];return t===Bt?void 0:t}(n,o+1)}(le(),fr(),n,e,t,i)}function iW(){return this._results[Symbol.iterator]()}class Vb{static#e=Symbol.iterator;get changes(){return this._changes??=new Pn}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const t=Vb.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=iW)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;const i=function Rr(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function MB(n,e,t){if(n.length!==e.length)return!1;for(let i=0;i<n.length;i++){let r=n[i],s=e[i];if(t&&(r=t(r),s=t(s)),s!==r)return!1}return!0}(this._results,i,t))&&(this._results=i,this.length=i.length,this.last=i[this.length-1],this.first=i[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}let fa=(()=>{class n{static#e=this.__NG_ELEMENT_ID__=oW}return n})();const rW=fa,sW=class extends rW{constructor(e,t,i){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,i){const r=function fp(n,e,t,i){const r=e.tView,a=Sg(n,r,t,4096&n[pt]?4096:16,null,e,null,null,null,i?.injector??null,i?.dehydratedView??null);a[Dh]=n[e.index];const l=n[xo];return null!==l&&(a[xo]=l.createEmbeddedView(r)),tb(r,a,t),a}(this._declarationLView,this._declarationTContainer,e,{injector:t,dehydratedView:i});return new ip(r)}};function oW(){return Kg(wn(),le())}function Kg(n,e){return 4&n.type?new sW(e,n,ad(n,e)):null}class Hb{constructor(e){this.queryList=e,this.matches=null}clone(){return new Hb(this.queryList)}setDirty(){this.queryList.setDirty()}}class zb{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const i=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let s=0;s<i;s++){const o=t.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new zb(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==gI(e,t).matches&&this.queries[t].setDirty()}}class dI{constructor(e,t,i=null){this.predicate=e,this.flags=t,this.read=i}}class Gb{constructor(e=[]){this.queries=e}elementStart(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let i=0;i<this.length;i++){const r=null!==t?t.length:0,s=this.getByIndex(i).embeddedTView(e,r);s&&(s.indexInDeclarationView=i,null!==t?t.push(s):t=[s])}return null!==t?new Gb(t):null}template(e,t){for(let i=0;i<this.queries.length;i++)this.queries[i].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Wb{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Wb(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let i=e.parent;for(;null!==i&&8&i.type&&i.index!==t;)i=i.parent;return t===(null!==i?i.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const i=this.metadata.predicate;if(Array.isArray(i))for(let r=0;r<i.length;r++){const s=i[r];this.matchTNodeWithReadOption(e,t,aW(t,s)),this.matchTNodeWithReadOption(e,t,Gm(t,e,s,!1,!1))}else i===fa?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Gm(t,e,i,!1,!1))}matchTNodeWithReadOption(e,t,i){if(null!==i){const r=this.metadata.read;if(null!==r)if(r===gi||r===Ks||r===fa&&4&t.type)this.addMatch(t.index,-2);else{const s=Gm(t,e,r,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,i)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function aW(n,e){const t=n.localNames;if(null!==t)for(let i=0;i<t.length;i+=2)if(t[i]===e)return t[i+1];return null}function lW(n,e,t,i){return-1===t?function uW(n,e){return 11&n.type?ad(n,e):4&n.type?Kg(n,e):null}(e,n):-2===t?function cW(n,e,t){return t===gi?ad(e,n):t===fa?Kg(e,n):t===Ks?oA(e,n):void 0}(n,e,i):al(n,n[De],t,e)}function fI(n,e,t,i){const r=e[xo].queries[i];if(null===r.matches){const s=n.data,o=t.matches,a=[];for(let u=0;u<o.length;u+=2){const l=o[u];a.push(l<0?null:lW(e,s[l],o[u+1],t.metadata.read))}r.matches=a}return r.matches}function jb(n,e,t,i){const r=n.queries.getByIndex(t),s=r.matches;if(null!==s){const o=fI(n,e,r,t);for(let a=0;a<s.length;a+=2){const u=s[a];if(u>0)i.push(o[a/2]);else{const l=s[a+1],c=e[-u];for(let f=li;f<c.length;f++){const h=c[f];h[Dh]===h[qn]&&jb(h[De],h,l,i)}if(null!==c[kc]){const f=c[kc];for(let h=0;h<f.length;h++){const p=f[h];jb(p[De],p,l,i)}}}}}return i}function Cs(n){const e=le(),t=an(),i=zS();Ly(i+1);const r=gI(t,i);if(n.dirty&&function UU(n){return 4==(4&n[pt])}(e)===(2==(2&r.metadata.flags))){if(null===r.matches)n.reset([]);else{const s=r.crossesNgTemplate?jb(t,e,i,[]):fI(t,e,r,i);n.reset(s,S5),n.notifyOnChanges()}return!0}return!1}function Js(n,e,t){const i=an();i.firstCreatePass&&(function mI(n,e,t){null===n.queries&&(n.queries=new Gb),n.queries.track(new Wb(e,t))}(i,new dI(n,e,t),-1),2==(2&e)&&(i.staticViewQueries=!0)),function pI(n,e,t){const i=new Vb(4==(4&t));(function eH(n,e,t,i){const r=nD(e);r.push(t),n.firstCreatePass&&iD(n).push(i,r.length-1)})(n,e,i,i.destroy),null===e[xo]&&(e[xo]=new zb),e[xo].queries.push(new Hb(i))}(i,le(),e)}function Ds(){return function dW(n,e){return n[xo].queries[e].queryList}(le(),zS())}function gI(n,e){return n.queries.getByIndex(e)}function vI(n,e){return Kg(n,e)}let OI=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),NI=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new lr(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class NW{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let LI=(()=>{class n{compileModuleSync(t){return new kb(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const i=this.compileModuleSync(t),s=Jr(Zi(t).declarations).reduce((o,a)=>{const u=Jt(a);return u&&o.push(new sp(u)),o},[]);return new NW(i,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const VI=new he(""),ev=new he("");let Qb,Kb=(()=>{class n{constructor(t,i,r){this._ngZone=t,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Qb||(function sj(n){Qb=n}(r),r.addToWindow(i)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{En.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(t)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,i,r){let s=-1;i&&i>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:r})}whenStable(t,i,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,i,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,i,r){return[]}static#e=this.\u0275fac=function(i){return new(i||n)(_t(En),_t(Jb),_t(ev))};static#t=this.\u0275prov=it({token:n,factory:n.\u0275fac})}return n})(),Jb=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,i){this._applications.set(t,i)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,i=!0){return Qb?.findTestabilityInTree(this,t,i)??null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();const e3=new he("Application Initializer");let t3=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i}),this.appInits=Oe(e3,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const r of this.appInits){const s=r();if(Ep(s))t.push(s);else if(fT(s)){const o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});t.push(o)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),0===t.length&&i(),this.initialized=!0}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const n3=new he("appBootstrapListener");function GI(n,e){return Array.isArray(e)?e.reduce(GI,n):{...n,...e}}let Rd=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Oe(U1),this.zoneIsStable=Oe(fD),this.componentTypes=[],this.components=[],this.isStable=Oe(NI).hasPendingTasks.pipe(jr(t=>t?vt(!1):this.zoneIsStable),function d(n,e=po){return n=n??m,Ln((t,i)=>{let r,s=!0;t.subscribe(Rn(i,o=>{const a=e(o);(s||!n(r,a))&&(s=!1,r=a,i.next(o))}))})}()),this._injector=Oe(Es)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,i){const r=t instanceof S1;if(!this._injector.get(t3).done)throw!r&&function Ka(n){const e=Jt(n)||Ci(n)||Gi(n);return null!==e&&e.standalone}(t),new K(405,!1);let o;o=r?t:this._injector.get(bg).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function aj(n){return n.isBoundToModule}(o)?void 0:this._injector.get(_l),l=o.create(Pr.NULL,[],i||o.selector,a),c=l.location.nativeElement,f=l.injector.get(VI,null);return f?.registerApplication(c),l.onDestroy(()=>{this.detachView(l.hostView),tv(this.components,l),f?.unregisterApplication(c)}),this._loadComponent(l),l}tick(){if(this._runningTick)throw new K(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){const i=t;tv(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const i=this._injector.get(n3,[]);[...this._bootstrapListeners,...i].forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>tv(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new K(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function tv(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}let lj=(()=>{class n{constructor(){this.zone=Oe(En),this.applicationRef=Oe(Rd)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function cj(){const n=Oe(En),e=Oe(ca);return t=>n.runOutsideAngular(()=>e.handleError(t))}const ha=new he("LocaleId",{providedIn:"root",factory:()=>Oe(ha,V.Optional|V.SkipSelf)||function fj(){return typeof $localize<"u"&&$localize.locale||Ad}()}),i3=new he("PlatformDestroyListeners");let qI=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,i){const r=function GH(n="zone.js",e){return"noop"===n?new HH:"zone.js"===n?new En(e):n}(i?.ngZone,function $I(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return r.run(()=>{const s=function I6(n,e,t){return new Fb(n,e,t)}(t.moduleType,this.injector,function jI(n){return[{provide:En,useFactory:n},{provide:Jc,multi:!0,useFactory:()=>{const e=Oe(lj,{optional:!0});return()=>e.initialize()}},{provide:U1,useFactory:cj},{provide:fD,useFactory:hD}]}(()=>r)),o=s.injector.get(ca,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:u=>{o.handleError(u)}});s.onDestroy(()=>{tv(this._modules,s),a.unsubscribe()})}),function zI(n,e,t){try{const i=t();return Ep(i)?i.catch(r=>{throw e.runOutsideAngular(()=>n.handleError(r)),r}):i}catch(i){throw e.runOutsideAngular(()=>n.handleError(i)),i}}(o,r,()=>{const a=s.injector.get(t3);return a.runInitializers(),a.donePromise.then(()=>(function zA(n){qi(n,"Expected localeId to be defined"),"string"==typeof n&&(HA=n.toLowerCase().replace(/_/g,"-"))}(s.injector.get(ha,Ad)||Ad),this._moduleDoBootstrap(s),s))})})}bootstrapModule(t,i=[]){const r=GI({},i);return function oj(n,e,t){const i=new kb(t);return Promise.resolve(i)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(t){const i=t.injector.get(Rd);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>i.bootstrap(r));else{if(!t.instance.ngDoBootstrap)throw new K(-403,!1);t.instance.ngDoBootstrap(i)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new K(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const t=this._injector.get(i3,null);t&&(t.forEach(i=>i()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(i){return new(i||n)(_t(Pr))};static#t=this.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),fu=null;const XI=new he("AllowMultipleToken");function YI(n,e,t=[]){const i=`Platform: ${e}`,r=new he(i);return(s=[])=>{let o=r3();if(!o||o.injector.get(XI,!1)){const a=[...t,...s,{provide:r,useValue:!0}];n?n(a):function mj(n){if(fu&&!fu.get(XI,!1))throw new K(400,!1);(function HI(){!function Us(n){Z0=n}(()=>{throw new K(600,!1)})})(),fu=n;const e=n.get(qI);(function KI(n){n.get(AC,null)?.forEach(t=>t())})(n)}(function ZI(n=[],e){return Pr.create({name:e,providers:[{provide:Qy,useValue:"platform"},{provide:i3,useValue:new Set([()=>fu=null])},...n]})}(a,i))}return function gj(n){const e=r3();if(!e)throw new K(401,!1);return e}()}}function r3(){return fu?.get(qI)??null}const Ej=YI(null,"core",[]);let Mj=(()=>{class n{constructor(t){}static#e=this.\u0275fac=function(i){return new(i||n)(_t(Rd))};static#t=this.\u0275mod=$n({type:n});static#n=this.\u0275inj=xn({})}return n})(),h3=null;function hu(){return h3}class Kj{}const es=new he("DocumentToken");let p3=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=it({token:n,factory:()=>Oe(Qj),providedIn:"platform"})}return n})();const Jj=new he("Location Initialized");let Qj=(()=>{class n extends p3{constructor(){super(),this._doc=Oe(es),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return hu().getBaseHref(this._doc)}onPopState(t){const i=hu().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){const i=hu().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=it({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function m3(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function x2(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function pa(n){return n&&"?"!==n[0]?"?"+n:n}let xl=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=it({token:n,factory:()=>Oe(E2),providedIn:"root"})}return n})();const b2=new he("appBaseHref");let E2=(()=>{class n extends xl{constructor(t,i){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??Oe(es).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return m3(this._baseHref,t)}path(t=!1){const i=this._platformLocation.pathname+pa(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,s){const o=this.prepareExternalUrl(r+pa(s));this._platformLocation.pushState(t,i,o)}replaceState(t,i,r,s){const o=this.prepareExternalUrl(r+pa(s));this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||n)(_t(p3),_t(b2,8))};static#t=this.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),e$=(()=>{class n extends xl{constructor(t,i){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(t){const i=m3(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,s){let o=this.prepareExternalUrl(r+pa(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,i,o)}replaceState(t,i,r,s){let o=this.prepareExternalUrl(r+pa(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,i,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static#e=this.\u0275fac=function(i){return new(i||n)(_t(p3),_t(b2,8))};static#t=this.\u0275prov=it({token:n,factory:n.\u0275fac})}return n})(),Tp=(()=>{class n{constructor(t){this._subject=new Pn,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const i=this._locationStrategy.getBaseHref();this._basePath=function i$(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(x2(M2(i))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+pa(i))}normalize(t){return n.stripTrailingSlash(function n$(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,M2(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+pa(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+pa(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i,complete:r})}static#e=this.normalizeQueryParams=pa;static#t=this.joinWithSlash=m3;static#n=this.stripTrailingSlash=x2;static#i=this.\u0275fac=function(i){return new(i||n)(_t(xl))};static#r=this.\u0275prov=it({token:n,factory:()=>function t$(){return new Tp(_t(xl))}(),providedIn:"root"})}return n})();function M2(n){return n.replace(/\/index.html$/,"")}const S3=/\s+/,P2=[];let O2=(()=>{class n{constructor(t,i,r,s){this._iterableDiffers=t,this._keyValueDiffers=i,this._ngEl=r,this._renderer=s,this.initialClasses=P2,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(S3):P2}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(S3):t}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const i of t)this._updateState(i,!0);else if(null!=t)for(const i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){const r=this.stateMap.get(t);void 0!==r?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){(t=t.trim()).length>0&&t.split(S3).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#e=this.\u0275fac=function(i){return new(i||n)(ye(Mg),ye(Qh),ye(gi),ye(Ao))};static#t=this.\u0275dir=bt({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return n})();class G${constructor(e,t,i,r){this.$implicit=e,this.ngForOf=t,this.index=i,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let C3=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,i,r){this._viewContainer=t,this._template=i,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const i=this._viewContainer;t.forEachOperation((r,s,o)=>{if(null==r.previousIndex)i.createEmbeddedView(this._template,new G$(r.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)i.remove(null===s?void 0:s);else if(null!==s){const a=i.get(s);i.move(a,o),L2(a,r)}});for(let r=0,s=i.length;r<s;r++){const a=i.get(r).context;a.index=r,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(r=>{L2(i.get(r.currentIndex),r)})}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(ye(Ks),ye(fa),ye(Mg))};static#t=this.\u0275dir=bt({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return n})();function L2(n,e){n.context.$implicit=e.item}let xv=(()=>{class n{constructor(t,i){this._viewContainer=t,this._context=new W$,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){F2("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){F2("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,i){return!0}static#e=this.\u0275fac=function(i){return new(i||n)(ye(Ks),ye(fa))};static#t=this.\u0275dir=bt({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return n})();class W${constructor(){this.$implicit=null,this.ngIf=null}}function F2(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${S(e)}'.`)}let U2=(()=>{class n{constructor(t,i,r){this._ngEl=t,this._differs=i,this._renderer=r,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,i){const[r,s]=t.split("."),o=-1===r.indexOf("-")?void 0:ou.DashCase;null!=i?this._renderer.setStyle(this._ngEl.nativeElement,r,s?`${i}${s}`:i,o):this._renderer.removeStyle(this._ngEl.nativeElement,r,o)}_applyChanges(t){t.forEachRemovedItem(i=>this._setStyle(i.key,null)),t.forEachAddedItem(i=>this._setStyle(i.key,i.currentValue)),t.forEachChangedItem(i=>this._setStyle(i.key,i.currentValue))}static#e=this.\u0275fac=function(i){return new(i||n)(ye(gi),ye(Qh),ye(Ao))};static#t=this.\u0275dir=bt({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}return n})(),V2=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$n({type:n});static#n=this.\u0275inj=xn({})}return n})();function bv(n){return"server"===n}let x7=(()=>{class n{static#e=this.\u0275prov=it({token:n,providedIn:"root",factory:()=>new b7(_t(es),window)})}return n})();class b7{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function E7(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const i=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let r=i.currentNode;for(;r;){const s=r.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}r=i.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),i=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(i-s[0],r-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class $7 extends Kj{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class O3 extends $7{static makeCurrent(){!function Zj(n){h3||(h3=n)}(new O3)}onAndCancel(e,t,i){return e.addEventListener(t,i),()=>{e.removeEventListener(t,i)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function q7(){return Op=Op||document.querySelector("base"),Op?Op.getAttribute("href"):null}();return null==t?null:function X7(n){return new URL(n,document.baseURI).pathname}(t)}resetBaseElement(){Op=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function H$(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const i=t.indexOf("="),[r,s]=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let Op=null,Z7=(()=>{class n{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=it({token:n,factory:n.\u0275fac})}return n})();const N3=new he("EventManagerPlugins");let j2=(()=>{class n{constructor(t,i){this._zone=i,this._eventNameToPlugin=new Map,t.forEach(r=>{r.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,i,r){return this._findPluginFor(i).addEventListener(t,i,r)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(s=>s.supports(t)),!i)throw new K(5101,!1);return this._eventNameToPlugin.set(t,i),i}static#e=this.\u0275fac=function(i){return new(i||n)(_t(N3),_t(En))};static#t=this.\u0275prov=it({token:n,factory:n.\u0275fac})}return n})();class $2{constructor(e){this._doc=e}}const L3="ng-app-id";let q2=(()=>{class n{constructor(t,i,r,s={}){this.doc=t,this.appId=i,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=bv(s),this.resetHostNodes()}addStyles(t){for(const i of t)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(t){for(const i of t)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(i=>i.remove()),t.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const i of this.getAllStyles())this.addStyleToHost(t,i)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const i of this.hostNodes)this.addStyleToHost(i,t)}onStyleRemoved(t){const i=this.styleRef;i.get(t)?.elements?.forEach(r=>r.remove()),i.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${L3}="${this.appId}"]`);if(t?.length){const i=new Map;return t.forEach(r=>{null!=r.textContent&&i.set(r.textContent,r)}),i}return null}changeUsageCount(t,i){const r=this.styleRef;if(r.has(t)){const s=r.get(t);return s.usage+=i,s.usage}return r.set(t,{usage:i,elements:[]}),i}getStyleElement(t,i){const r=this.styleNodesInDOM,s=r?.get(i);if(s?.parentNode===t)return r.delete(i),s.removeAttribute(L3),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=i,this.platformIsServer&&o.setAttribute(L3,this.appId),t.appendChild(o),o}}addStyleToHost(t,i){const r=this.getStyleElement(t,i),s=this.styleRef,o=s.get(i)?.elements;o?o.push(r):s.set(i,{elements:[r],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static#e=this.\u0275fac=function(i){return new(i||n)(_t(es),_t(tg),_t(TC,8),_t(iu))};static#t=this.\u0275prov=it({token:n,factory:n.\u0275fac})}return n})();const F3={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},k3=/%COMP%/g,e9=new he("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!0});function Y2(n,e){return e.map(t=>t.replace(k3,n))}let Z2=(()=>{class n{constructor(t,i,r,s,o,a,u,l=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=l,this.rendererByCompId=new Map,this.platformIsServer=bv(a),this.defaultRenderer=new U3(t,o,u,this.platformIsServer)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===Ws.ShadowDom&&(i={...i,encapsulation:Ws.Emulated});const r=this.getOrCreateRenderer(t,i);return r instanceof J2?r.applyToHost(t):r instanceof B3&&r.applyStyles(),r}getOrCreateRenderer(t,i){const r=this.rendererByCompId;let s=r.get(i.id);if(!s){const o=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,c=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case Ws.Emulated:s=new J2(u,l,i,this.appId,c,o,a,f);break;case Ws.ShadowDom:return new r9(u,l,t,i,o,a,this.nonce,f);default:s=new B3(u,l,i,c,o,a,f)}r.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(i){return new(i||n)(_t(j2),_t(q2),_t(tg),_t(e9),_t(es),_t(iu),_t(En),_t(TC))};static#t=this.\u0275prov=it({token:n,factory:n.\u0275fac})}return n})();class U3{constructor(e,t,i,r){this.eventManager=e,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(F3[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(K2(e)?e.content:e).appendChild(t)}insertBefore(e,t,i){e&&(K2(e)?e.content:e).insertBefore(t,i)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let i="string"==typeof e?this.doc.querySelector(e):e;if(!i)throw new K(-5104,!1);return t||(i.textContent=""),i}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,i,r){if(r){t=r+":"+t;const s=F3[r];s?e.setAttributeNS(s,t,i):e.setAttribute(t,i)}else e.setAttribute(t,i)}removeAttribute(e,t,i){if(i){const r=F3[i];r?e.removeAttributeNS(r,t):e.removeAttribute(`${i}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,i,r){r&(ou.DashCase|ou.Important)?e.style.setProperty(t,i,r&ou.Important?"important":""):e.style[t]=i}removeStyle(e,t,i){i&ou.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,i){null!=e&&(e[t]=i)}setValue(e,t){e.nodeValue=t}listen(e,t,i){if("string"==typeof e&&!(e=hu().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(i))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function K2(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class r9 extends U3{constructor(e,t,i,r,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=Y2(r.id,r.styles);for(const c of l){const f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=c,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,i){return super.insertBefore(this.nodeOrShadowRoot(e),t,i)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class B3 extends U3{constructor(e,t,i,r,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r,this.styles=u?Y2(u,i.styles):i.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class J2 extends B3{constructor(e,t,i,r,s,o,a,u){const l=r+"-"+i.id;super(e,t,i,s,o,a,u,l),this.contentAttr=function t9(n){return"_ngcontent-%COMP%".replace(k3,n)}(l),this.hostAttr=function n9(n){return"_nghost-%COMP%".replace(k3,n)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const i=super.createElement(e,t);return super.setAttribute(i,this.contentAttr,""),i}}let s9=(()=>{class n extends $2{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r){return t.addEventListener(i,r,!1),()=>this.removeEventListener(t,i,r)}removeEventListener(t,i,r){return t.removeEventListener(i,r)}static#e=this.\u0275fac=function(i){return new(i||n)(_t(es))};static#t=this.\u0275prov=it({token:n,factory:n.\u0275fac})}return n})();const Q2=["alt","control","meta","shift"],o9={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},a9={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let u9=(()=>{class n extends $2{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,i,r){const s=n.parseEventName(i),o=n.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>hu().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const i=t.toLowerCase().split("."),r=i.shift();if(0===i.length||"keydown"!==r&&"keyup"!==r)return null;const s=n._normalizeKey(i.pop());let o="",a=i.indexOf("code");if(a>-1&&(i.splice(a,1),o="code."),Q2.forEach(l=>{const c=i.indexOf(l);c>-1&&(i.splice(c,1),o+=l+".")}),o+=s,0!=i.length||0===s.length)return null;const u={};return u.domEventName=r,u.fullKey=o,u}static matchEventFullKeyCode(t,i){let r=o9[t.key]||t.key,s="";return i.indexOf("code.")>-1&&(r=t.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),Q2.forEach(o=>{o!==r&&(0,a9[o])(t)&&(s+=o+".")}),s+=r,s===i)}static eventCallback(t,i,r){return s=>{n.matchEventFullKeyCode(s,t)&&r.runGuarded(()=>i(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}static#e=this.\u0275fac=function(i){return new(i||n)(_t(es))};static#t=this.\u0275prov=it({token:n,factory:n.\u0275fac})}return n})();const f9=YI(Ej,"browser",[{provide:iu,useValue:"browser"},{provide:AC,useValue:function l9(){O3.makeCurrent()},multi:!0},{provide:es,useFactory:function d9(){return function nV(n){sx=n}(document),document},deps:[]}]),h9=new he(""),nR=[{provide:ev,useClass:class Y7{addToWindow(e){Ie.getAngularTestability=(i,r=!0)=>{const s=e.findTestabilityInTree(i,r);if(null==s)throw new K(5103,!1);return s},Ie.getAllAngularTestabilities=()=>e.getAllTestabilities(),Ie.getAllAngularRootElements=()=>e.getAllRootElements(),Ie.frameworkStabilizers||(Ie.frameworkStabilizers=[]),Ie.frameworkStabilizers.push(i=>{const r=Ie.getAllAngularTestabilities();let s=r.length,o=!1;const a=function(u){o=o||u,s--,0==s&&i(o)};r.forEach(u=>{u.whenStable(a)})})}findTestabilityInTree(e,t,i){return null==t?null:e.getTestability(t)??(i?hu().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:VI,useClass:Kb,deps:[En,Jb,ev]},{provide:Kb,useClass:Kb,deps:[En,Jb,ev]}],iR=[{provide:Qy,useValue:"root"},{provide:ca,useFactory:function c9(){return new ca},deps:[]},{provide:N3,useClass:s9,multi:!0,deps:[es,En,iu]},{provide:N3,useClass:u9,multi:!0,deps:[es]},Z2,q2,j2,{provide:D1,useExisting:Z2},{provide:class M7{},useClass:Z7,deps:[]},[]];let ns=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:tg,useValue:t.appId}]}}static#e=this.\u0275fac=function(i){return new(i||n)(_t(h9,12))};static#t=this.\u0275mod=$n({type:n});static#n=this.\u0275inj=xn({providers:[...iR,...nR],imports:[V2,Mj]})}return n})(),rR=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static#e=this.\u0275fac=function(i){return new(i||n)(_t(es))};static#t=this.\u0275prov=it({token:n,factory:function(i){let r=null;return r=i?new i:function m9(){return new rR(_t(es))}(),r},providedIn:"root"})}return n})();typeof window<"u"&&window;const{isArray:x9}=Array,{getPrototypeOf:b9,prototype:E9,keys:M9}=Object;const{isArray:S9}=Array;const to=new he("NgValueAccessor"),Fd=new he("CallSetDisabledState",{providedIn:"root",factory:()=>Tv}),Tv="always";let KR=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$n({type:n});static#n=this.\u0275inj=xn({})}return n})(),wq=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$n({type:n});static#n=this.\u0275inj=xn({imports:[KR]})}return n})(),is=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Fd,useValue:t.callSetDisabledState??Tv}]}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$n({type:n});static#n=this.\u0275inj=xn({imports:[wq]})}return n})();function Nt(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),i=1;i<e;i++)t[i-1]=arguments[i];throw new Error("number"==typeof n?"[MobX] minified error nr: "+n+(t.length?" "+t.map(String).join(","):"")+". Find the full error at: https://github.com/mobxjs/mobx/blob/main/packages/mobx/src/errors.ts":"[MobX] "+n)}var Cq={};function aE(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:Cq}var mP=Object.assign,Nv=Object.getOwnPropertyDescriptor,Fo=Object.defineProperty,Up=Object.prototype,uE=[];Object.freeze(uE);var lE={};Object.freeze(lE);var Dq=typeof Proxy<"u",Aq=Object.toString();function gP(){Dq||Nt("Proxy not available")}function vP(n){var e=!1;return function(){if(!e)return e=!0,n.apply(this,arguments)}}var kd=function(){};function yr(n){return"function"==typeof n}function Ml(n){switch(typeof n){case"string":case"symbol":case"number":return!0}return!1}function Lv(n){return null!==n&&"object"==typeof n}function va(n){if(!Lv(n))return!1;var e=Object.getPrototypeOf(n);if(null==e)return!0;var t=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return"function"==typeof t&&t.toString()===Aq}function _P(n){var e=n?.constructor;return!!e&&("GeneratorFunction"===e.name||"GeneratorFunction"===e.displayName)}function Bp(n,e,t){Fo(n,e,{enumerable:!1,writable:!0,configurable:!0,value:t})}function yP(n,e,t){Fo(n,e,{enumerable:!1,writable:!1,configurable:!0,value:t})}function wl(n,e){var t="isMobX"+n;return e.prototype[t]=!0,function(i){return Lv(i)&&!0===i[t]}}function Ud(n){return n instanceof Map}function Vp(n){return n instanceof Set}var xP=typeof Object.getOwnPropertySymbols<"u",Bd=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:xP?function(n){return Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n))}:Object.getOwnPropertyNames;function bP(n){return null===n?null:"object"==typeof n?""+n:n}function _a(n,e){return Up.hasOwnProperty.call(n,e)}var Iq=Object.getOwnPropertyDescriptors||function(e){var t={};return Bd(e).forEach(function(i){t[i]=Nv(e,i)}),t};function EP(n,e){for(var t=0;t<e.length;t++){var i=e[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,Oq(i.key),i)}}function cE(n,e,t){return e&&EP(n.prototype,e),t&&EP(n,t),Object.defineProperty(n,"prototype",{writable:!1}),n}function ko(){return ko=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},ko.apply(this,arguments)}function MP(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,dE(n,e)}function dE(n,e){return(dE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i})(n,e)}function fE(n){if(void 0===n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function wP(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,i=new Array(e);t<e;t++)i[t]=n[t];return i}function Vd(n,e){var t=typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t)return(t=t.call(n)).next.bind(t);if(Array.isArray(n)||(t=function Rq(n,e){if(n){if("string"==typeof n)return wP(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if("Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t)return Array.from(n);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return wP(n,e)}}(n))||e&&n&&"number"==typeof n.length){t&&(n=t);var i=0;return function(){return i>=n.length?{done:!0}:{done:!1,value:n[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Oq(n){var e=function Pq(n,e){if("object"!=typeof n||null===n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var i=t.call(n,e||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"==typeof e?e:String(e)}var Uo=Symbol("mobx-stored-annotations");function no(n){return Object.assign(function e(t,i){if(Hp(i))return n.decorate_20223_(t,i);Hd(t,i,n)},n)}function Hd(n,e,t){_a(n,Uo)||Bp(n,Uo,ko({},n[Uo])),function zq(n){return n.annotationType_===CP}(t)||(n[Uo][e]=t)}function Hp(n){return"object"==typeof n&&"string"==typeof n.kind}var lt=Symbol("mobx administration"),zp=function(){function n(t){void 0===t&&(t="Atom"),this.name_=void 0,this.isPendingUnobservation_=!1,this.isBeingObserved_=!1,this.observers_=new Set,this.diffValue_=0,this.lastAccessedBy_=0,this.lowestObserverState_=mn.NOT_TRACKING_,this.onBOL=void 0,this.onBUOL=void 0,this.name_=t}var e=n.prototype;return e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(i){return i()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(i){return i()})},e.reportObserved=function(){return YP(this)},e.reportChanged=function(){Lr(),ZP(this),Fr()},e.toString=function(){return this.name_},n}(),hE=wl("Atom",zp);function SP(n,e,t){void 0===e&&(e=kd),void 0===t&&(t=kd);var i=new zp(n);return e!==kd&&function ZX(n,e,t){oO(XX,n,e,t)}(i,e),t!==kd&&sO(i,t),i}var zd={identity:function Fq(n,e){return n===e},structural:function kq(n,e){return PE(n,e)},default:function Bq(n,e){return Object.is?Object.is(n,e):n===e?0!==n||1/n==1/e:n!=n&&e!=e},shallow:function Uq(n,e){return PE(n,e,1)}};function Sl(n,e,t){return CE(n)?n:Array.isArray(n)?xi.array(n,{name:t}):va(n)?xi.object(n,void 0,{name:t}):Ud(n)?xi.map(n,{name:t}):Vp(n)?xi.set(n,{name:t}):"function"!=typeof n||Yv(n)||qp(n)?n:_P(n)?Gd(n):$p(t,n)}function Fv(n){return n}var CP="override";function Gp(n,e){return{annotationType_:n,options_:e,make_:$q,extend_:qq,decorate_20223_:Xq}}function $q(n,e,t,i){var r;if(null!=(r=this.options_)&&r.bound)return null===this.extend_(n,e,t,!1)?0:1;if(i===n.target_)return null===this.extend_(n,e,t,!1)?0:2;if(Yv(t.value))return 1;var s=DP(n,this,e,t,!1);return Fo(i,e,s),2}function qq(n,e,t,i){var r=DP(n,this,e,t);return n.defineProperty_(e,r,i)}function Xq(n,e){var t=e.kind,i=e.name,r=e.addInitializer,s=this;if("field"!=t){var a,l,c,f,h,p;if("method"==t)return Yv(n)||(l=n,n=_u(null!=(c=null==(f=s.options_)?void 0:f.name)?c:i.toString(),l,null!=(h=null==(p=s.options_)?void 0:p.autoAction)&&h)),null!=(a=this.options_)&&a.bound&&r(function(){var u=this,l=u[i].bind(u);l.isMobxAction=!0,u[i]=l}),n;Nt("Cannot apply '"+s.annotationType_+"' to '"+String(i)+"' (kind: "+t+"):\n'"+s.annotationType_+"' can only be used on properties with a function value.")}else r(function(){Hd(this,i,s)})}function DP(n,e,t,i,r){var s,o,a,u,l,c,f;void 0===r&&(r=Se.safeDescriptors);var p,h=i.value;return null!=(s=e.options_)&&s.bound&&(h=h.bind(null!=(p=n.proxy_)?p:n.target_)),{value:_u(null!=(o=null==(a=e.options_)?void 0:a.name)?o:t.toString(),h,null!=(u=null==(l=e.options_)?void 0:l.autoAction)&&u,null!=(c=e.options_)&&c.bound?null!=(f=n.proxy_)?f:n.target_:void 0),configurable:!r||n.isPlainObject_,enumerable:!1,writable:!r}}function AP(n,e){return{annotationType_:n,options_:e,make_:Zq,extend_:Kq,decorate_20223_:Jq}}function Zq(n,e,t,i){var r;if(i===n.target_)return null===this.extend_(n,e,t,!1)?0:2;if(null!=(r=this.options_)&&r.bound&&(!_a(n.target_,e)||!qp(n.target_[e]))&&null===this.extend_(n,e,t,!1))return 0;if(qp(t.value))return 1;var s=TP(n,0,0,t,!1,!1);return Fo(i,e,s),2}function Kq(n,e,t,i){var r,s=TP(n,0,0,t,null==(r=this.options_)?void 0:r.bound);return n.defineProperty_(e,s,i)}function Jq(n,e){var t,i=e.name,r=e.addInitializer;return qp(n)||(n=Gd(n)),null!=(t=this.options_)&&t.bound&&r(function(){var s=this,o=s[i].bind(s);o.isMobXFlow=!0,s[i]=o}),n}function TP(n,e,t,i,r,s){void 0===s&&(s=Se.safeDescriptors);var a,o=i.value;return qp(o)||(o=Gd(o)),r&&((o=o.bind(null!=(a=n.proxy_)?a:n.target_)).isMobXFlow=!0),{value:o,configurable:!s||n.isPlainObject_,enumerable:!1,writable:!s}}function pE(n,e){return{annotationType_:n,options_:e,make_:eX,extend_:tX,decorate_20223_:nX}}function eX(n,e,t){return null===this.extend_(n,e,t,!1)?0:1}function tX(n,e,t,i){return n.defineComputedProperty_(e,ko({},this.options_,{get:t.get,set:t.set}),i)}function nX(n,e){var t=this,i=e.name;return(0,e.addInitializer)(function(){var s=Rl(this)[lt],o=ko({},t.options_,{get:n,context:this});o.name||(o.name="ObservableObject."+i.toString()),s.values_.set(i,new Dl(o))}),function(){return this[lt].getObservablePropValue_(i)}}function kv(n,e){return{annotationType_:n,options_:e,make_:rX,extend_:sX,decorate_20223_:oX}}function rX(n,e,t){return null===this.extend_(n,e,t,!1)?0:1}function sX(n,e,t,i){var r,s;return n.defineObservableProperty_(e,t.value,null!=(r=null==(s=this.options_)?void 0:s.enhancer)?r:Sl,i)}function oX(n,e){var t=this,i=e.kind,r=e.name,s=new WeakSet;function o(a,u){var l,c,f=Rl(a)[lt],h=new Cl(u,null!=(l=null==(c=t.options_)?void 0:c.enhancer)?l:Sl,"ObservableObject."+r.toString(),!1);f.values_.set(r,h),s.add(a)}if("accessor"==i)return{get:function(){return s.has(this)||o(this,n.get.call(this)),this[lt].getObservablePropValue_(r)},set:function(u){return s.has(this)||o(this,u),this[lt].setObservablePropValue_(r,u)},init:function(u){return s.has(this)||o(this,u),u}}}var uX="true",lX=IP();function IP(n){return{annotationType_:uX,options_:n,make_:cX,extend_:dX,decorate_20223_:fX}}function cX(n,e,t,i){var r,s,a,u;if(t.get)return Vv.make_(n,e,t,i);if(t.set){var o=_u(e.toString(),t.set);return i===n.target_?null===n.defineProperty_(e,{configurable:!Se.safeDescriptors||n.isPlainObject_,set:o})?0:2:(Fo(i,e,{configurable:!0,set:o}),2)}if(i!==n.target_&&"function"==typeof t.value)return _P(t.value)?(null!=(u=this.options_)&&u.autoBind?Gd.bound:Gd).make_(n,e,t,i):(null!=(a=this.options_)&&a.autoBind?$p.bound:$p).make_(n,e,t,i);var h,f=!1===(null==(r=this.options_)?void 0:r.deep)?xi.ref:xi;return"function"==typeof t.value&&null!=(s=this.options_)&&s.autoBind&&(t.value=t.value.bind(null!=(h=n.proxy_)?h:n.target_)),f.make_(n,e,t,i)}function dX(n,e,t,i){var r,s,o;return t.get?Vv.extend_(n,e,t,i):t.set?n.defineProperty_(e,{configurable:!Se.safeDescriptors||n.isPlainObject_,set:_u(e.toString(),t.set)},i):("function"==typeof t.value&&null!=(r=this.options_)&&r.autoBind&&(t.value=t.value.bind(null!=(o=n.proxy_)?o:n.target_)),(!1===(null==(s=this.options_)?void 0:s.deep)?xi.ref:xi).extend_(n,e,t,i))}function fX(n,e){Nt("'"+this.annotationType_+"' cannot be used as a decorator")}var RP={deep:!0,name:void 0,defaultDecorator:void 0,proxy:!0};function Uv(n){return n||RP}Object.freeze(RP);var mE=kv("observable"),vX=kv("observable.ref",{enhancer:Fv}),_X=kv("observable.shallow",{enhancer:function Vq(n,e,t){return null==n||nr(n)||os(n)||tr(n)||kr(n)?n:Array.isArray(n)?xi.array(n,{name:t,deep:!1}):va(n)?xi.object(n,void 0,{name:t,deep:!1}):Ud(n)?xi.map(n,{name:t,deep:!1}):Vp(n)?xi.set(n,{name:t,deep:!1}):void 0}}),yX=kv("observable.struct",{enhancer:function Hq(n,e){return PE(n,e)?e:n}}),PP=no(mE);function Bv(n){return!0===n.deep?Sl:!1===n.deep?Fv:function bX(n){var e,t;return n&&null!=(e=null==(t=n.options_)?void 0:t.enhancer)?e:Sl}(n.defaultDecorator)}function OP(n,e,t){return Hp(e)?mE.decorate_20223_(n,e):Ml(e)?void Hd(n,e,mE):CE(n)?n:va(n)?xi.object(n,e,t):Array.isArray(n)?xi.array(n,e):Ud(n)?xi.map(n,e):Vp(n)?xi.set(n,e):"object"==typeof n&&null!==n?n:xi.box(n,e)}mP(OP,PP);var xi=mP(OP,{box:function(e,t){var i=Uv(t);return new Cl(e,Bv(i),i.name,!0,i.equals)},array:function(e,t){var i=Uv(t);return(!1===Se.useProxies||!1===i.proxy?DY:vY)(e,Bv(i),i.name)},map:function(e,t){var i=Uv(t);return new _O(e,Bv(i),i.name)},set:function(e,t){var i=Uv(t);return new bO(e,Bv(i),i.name)},object:function(e,t,i){return Eu(function(){return function aO(n,e,t,i){var r=Iq(e);return Eu(function(){var s=Rl(n,i)[lt];Bd(r).forEach(function(o){s.extend_(o,r[o],!t||!(o in t)||t[o])})}),n}(!1===Se.useProxies||!1===i?.proxy?Rl({},i):function pY(n,e){var t,i;return gP(),null!=(i=(t=(n=Rl(n,e))[lt]).proxy_)?i:t.proxy_=new Proxy(n,hY)}({},i),e,t)})},ref:no(vX),shallow:no(_X),deep:PP,struct:no(yX)}),NP="computed",gE=pE(NP),wX=pE("computed.struct",{equals:zd.structural}),Vv=function(e,t){if(Hp(t))return gE.decorate_20223_(e,t);if(Ml(t))return Hd(e,t,gE);if(va(e))return no(pE(NP,e));var i=va(t)?t:{};return i.get=e,i.name||(i.name=e.name||""),new Dl(i)};Object.assign(Vv,gE),Vv.struct=no(wX);var LP,FP,VP,Hv=0,SX=1,CX=null!=(LP=null==(FP=Nv(function(){},"name"))?void 0:FP.configurable)&&LP,kP={value:"action",configurable:!0,writable:!1,enumerable:!1};function _u(n,e,t,i){function r(){return function UP(n,e,t,i,r){var s=function DX(n,e,t,i){var r=!1,s=0,a=Se.trackingDerivation,u=!e||!a;Lr();var l=Se.allowStateChanges;u&&(Tl(),l=zv(!0));var f={runAsAction_:u,prevDerivation_:a,prevAllowStateChanges_:l,prevAllowStateReads_:yE(!0),notifySpy_:r,startTime_:s,actionId_:SX++,parentActionId_:Hv};return Hv=f.actionId_,f}(0,e);try{return t.apply(i,r)}catch(o){throw s.error_=o,o}finally{!function AX(n){Hv!==n.actionId_&&Nt(30),Hv=n.parentActionId_,void 0!==n.error_&&(Se.suppressReactionErrors=!0),Gv(n.prevAllowStateChanges_),Wp(n.prevAllowStateReads_),Fr(),n.runAsAction_&&ya(n.prevDerivation_),Se.suppressReactionErrors=!1}(s)}}(0,t,e,i||this,arguments)}return void 0===t&&(t=!1),r.isMobxAction=!0,r.toString=function(){return e.toString()},CX&&(kP.value=n,Fo(r,"name",kP)),r}function zv(n){var e=Se.allowStateChanges;return Se.allowStateChanges=n,e}function Gv(n){Se.allowStateChanges=n}VP=Symbol.toPrimitive;var zP,Cl=function(n){function e(i,r,s,o,a){var u;return void 0===s&&(s="ObservableValue"),void 0===o&&(o=!0),void 0===a&&(a=zd.default),(u=n.call(this,s)||this).enhancer=void 0,u.name_=void 0,u.equals=void 0,u.hasUnreportedChange_=!1,u.interceptors_=void 0,u.changeListeners_=void 0,u.value_=void 0,u.dehancer=void 0,u.enhancer=r,u.name_=s,u.equals=a,u.value_=r(i,void 0,s),u}MP(e,n);var t=e.prototype;return t.dehanceValue=function(r){return void 0!==this.dehancer?this.dehancer(r):r},t.set=function(r){(r=this.prepareNewValue_(r))!==Se.UNCHANGED&&this.setNewValue_(r)},t.prepareNewValue_=function(r){if(Is(this)){var s=Rs(this,{object:this,type:Vo,newValue:r});if(!s)return Se.UNCHANGED;r=s.newValue}return r=this.enhancer(r,this.value_,this.name_),this.equals(this.value_,r)?Se.UNCHANGED:r},t.setNewValue_=function(r){var s=this.value_;this.value_=r,this.reportChanged(),io(this)&&ro(this,{type:Vo,object:this,newValue:r,oldValue:s})},t.get=function(){return this.reportObserved(),this.dehanceValue(this.value_)},t.intercept_=function(r){return Xp(this,r)},t.observe_=function(r,s){return s&&r({observableKind:"value",debugObjectName:this.name_,object:this,type:Vo,newValue:this.value_,oldValue:void 0}),Yp(this,r)},t.raw=function(){return this.value_},t.toJSON=function(){return this.get()},t.toString=function(){return this.name_+"["+this.value_+"]"},t.valueOf=function(){return bP(this.get())},t[VP]=function(){return this.valueOf()},e}(zp);zP=Symbol.toPrimitive;var Dl=function(){function n(t){this.dependenciesState_=mn.NOT_TRACKING_,this.observing_=[],this.newObserving_=null,this.isBeingObserved_=!1,this.isPendingUnobservation_=!1,this.observers_=new Set,this.diffValue_=0,this.runId_=0,this.lastAccessedBy_=0,this.lowestObserverState_=mn.UP_TO_DATE_,this.unboundDepsCount_=0,this.value_=new Wv(null),this.name_=void 0,this.triggeredBy_=void 0,this.isComputing_=!1,this.isRunningSetter_=!1,this.derivation=void 0,this.setter_=void 0,this.isTracing_=yu.NONE,this.scope_=void 0,this.equals_=void 0,this.requiresReaction_=void 0,this.keepAlive_=void 0,this.onBOL=void 0,this.onBUOL=void 0,t.get||Nt(31),this.derivation=t.get,this.name_=t.name||"ComputedValue",t.set&&(this.setter_=_u("ComputedValue-setter",t.set)),this.equals_=t.equals||(t.compareStructural||t.struct?zd.structural:zd.default),this.scope_=t.context,this.requiresReaction_=t.requiresReaction,this.keepAlive_=!!t.keepAlive}var e=n.prototype;return e.onBecomeStale_=function(){!function FX(n){n.lowestObserverState_===mn.UP_TO_DATE_&&(n.lowestObserverState_=mn.POSSIBLY_STALE_,n.observers_.forEach(function(e){e.dependenciesState_===mn.UP_TO_DATE_&&(e.dependenciesState_=mn.POSSIBLY_STALE_,e.onBecomeStale_())}))}(this)},e.onBO=function(){this.onBOL&&this.onBOL.forEach(function(i){return i()})},e.onBUO=function(){this.onBUOL&&this.onBUOL.forEach(function(i){return i()})},e.get=function(){if(this.isComputing_&&Nt(32,this.name_,this.derivation),0!==Se.inBatch||0!==this.observers_.size||this.keepAlive_){if(YP(this),vE(this)){var i=Se.trackingContext;this.keepAlive_&&!i&&(Se.trackingContext=this),this.trackAndCompute()&&function LX(n){n.lowestObserverState_!==mn.STALE_&&(n.lowestObserverState_=mn.STALE_,n.observers_.forEach(function(e){e.dependenciesState_===mn.POSSIBLY_STALE_?e.dependenciesState_=mn.STALE_:e.dependenciesState_===mn.UP_TO_DATE_&&(n.lowestObserverState_=mn.UP_TO_DATE_)}))}(this),Se.trackingContext=i}}else vE(this)&&(this.warnAboutUntrackedRead_(),Lr(),this.value_=this.computeValue_(!1),Fr());var r=this.value_;if(jv(r))throw r.cause;return r},e.set=function(i){if(this.setter_){this.isRunningSetter_&&Nt(33,this.name_),this.isRunningSetter_=!0;try{this.setter_.call(this.scope_,i)}finally{this.isRunningSetter_=!1}}else Nt(34,this.name_)},e.trackAndCompute=function(){var i=this.value_,r=this.dependenciesState_===mn.NOT_TRACKING_,s=this.computeValue_(!0),o=r||jv(i)||jv(s)||!this.equals_(i,s);return o&&(this.value_=s),o},e.computeValue_=function(i){this.isComputing_=!0;var s,r=zv(!1);if(i)s=GP(this,this.derivation,this.scope_);else if(!0===Se.disableErrorBoundaries)s=this.derivation.call(this.scope_);else try{s=this.derivation.call(this.scope_)}catch(o){s=new Wv(o)}return Gv(r),this.isComputing_=!1,s},e.suspend_=function(){this.keepAlive_||(_E(this),this.value_=void 0)},e.observe_=function(i,r){var s=this,o=!0,a=void 0;return function iO(n,e){var t,i,r,s,o;void 0===e&&(e=lE);var l,a=null!=(t=null==(i=e)?void 0:i.name)?t:"Autorun";if(e.scheduler||e.delay){var c=function rO(n){return n.scheduler?n.scheduler:n.delay?function(e){return setTimeout(e,n.delay)}:$X}(e),f=!1;l=new qv(a,function(){f||(f=!0,c(function(){f=!1,l.isDisposed_||l.track(h)}))},e.onError,e.requiresObservable)}else l=new qv(a,function(){this.track(h)},e.onError,e.requiresObservable);function h(){n(l)}return null!=(r=e)&&null!=(s=r.signal)&&s.aborted||l.schedule_(),l.getDisposer_(null==(o=e)?void 0:o.signal)}(function(){var u=s.get();if(!o||r){var l=Tl();i({observableKind:"computed",debugObjectName:s.name_,type:Vo,object:s,newValue:u,oldValue:a}),ya(l)}o=!1,a=u})},e.warnAboutUntrackedRead_=function(){},e.toString=function(){return this.name_+"["+this.derivation.toString()+"]"},e.valueOf=function(){return bP(this.get())},e[zP]=function(){return this.valueOf()},n}(),Al=wl("ComputedValue",Dl),mn=function(n){return n[n.NOT_TRACKING_=-1]="NOT_TRACKING_",n[n.UP_TO_DATE_=0]="UP_TO_DATE_",n[n.POSSIBLY_STALE_=1]="POSSIBLY_STALE_",n[n.STALE_=2]="STALE_",n}(mn||{}),yu=function(n){return n[n.NONE=0]="NONE",n[n.LOG=1]="LOG",n[n.BREAK=2]="BREAK",n}(yu||{}),Wv=function(e){this.cause=void 0,this.cause=e};function jv(n){return n instanceof Wv}function vE(n){switch(n.dependenciesState_){case mn.UP_TO_DATE_:return!1;case mn.NOT_TRACKING_:case mn.STALE_:return!0;case mn.POSSIBLY_STALE_:for(var e=yE(!0),t=Tl(),i=n.observing_,r=i.length,s=0;s<r;s++){var o=i[s];if(Al(o)){if(Se.disableErrorBoundaries)o.get();else try{o.get()}catch{return ya(t),Wp(e),!0}if(n.dependenciesState_===mn.STALE_)return ya(t),Wp(e),!0}}return jP(n),ya(t),Wp(e),!1}}function GP(n,e,t){var i=yE(!0);jP(n),n.newObserving_=new Array(n.observing_.length+100),n.unboundDepsCount_=0,n.runId_=++Se.runId;var s,r=Se.trackingDerivation;if(Se.trackingDerivation=n,Se.inBatch++,!0===Se.disableErrorBoundaries)s=e.call(t);else try{s=e.call(t)}catch(o){s=new Wv(o)}return Se.inBatch--,Se.trackingDerivation=r,function TX(n){for(var e=n.observing_,t=n.observing_=n.newObserving_,i=mn.UP_TO_DATE_,r=0,s=n.unboundDepsCount_,o=0;o<s;o++){var a=t[o];0===a.diffValue_&&(a.diffValue_=1,r!==o&&(t[r]=a),r++),a.dependenciesState_>i&&(i=a.dependenciesState_)}for(t.length=r,n.newObserving_=null,s=e.length;s--;){var u=e[s];0===u.diffValue_&&qP(u,n),u.diffValue_=0}for(;r--;){var l=t[r];1===l.diffValue_&&(l.diffValue_=0,NX(l,n))}i!==mn.UP_TO_DATE_&&(n.dependenciesState_=i,n.onBecomeStale_())}(n),Wp(i),s}function _E(n){var e=n.observing_;n.observing_=[];for(var t=e.length;t--;)qP(e[t],n);n.dependenciesState_=mn.NOT_TRACKING_}function WP(n){var e=Tl();try{return n()}finally{ya(e)}}function Tl(){var n=Se.trackingDerivation;return Se.trackingDerivation=null,n}function ya(n){Se.trackingDerivation=n}function yE(n){var e=Se.allowStateReads;return Se.allowStateReads=n,e}function Wp(n){Se.allowStateReads=n}function jP(n){if(n.dependenciesState_!==mn.UP_TO_DATE_){n.dependenciesState_=mn.UP_TO_DATE_;for(var e=n.observing_,t=e.length;t--;)e[t].lowestObserverState_=mn.UP_TO_DATE_}}var jp=function(){this.version=6,this.UNCHANGED={},this.trackingDerivation=null,this.trackingContext=null,this.runId=0,this.mobxGuid=0,this.inBatch=0,this.pendingUnobservations=[],this.pendingReactions=[],this.isRunningReactions=!1,this.allowStateChanges=!1,this.allowStateReads=!0,this.enforceActions=!0,this.spyListeners=[],this.globalReactionErrorHandlers=[],this.computedRequiresReaction=!1,this.reactionRequiresObservable=!1,this.observableRequiresReaction=!1,this.disableErrorBoundaries=!1,this.suppressReactionErrors=!1,this.useProxies=!0,this.verifyProxies=!1,this.safeDescriptors=!0},$v=!0,Se=function(){var n=aE();return n.__mobxInstanceCount>0&&!n.__mobxGlobals&&($v=!1),n.__mobxGlobals&&n.__mobxGlobals.version!==(new jp).version&&($v=!1),$v?n.__mobxGlobals?(n.__mobxInstanceCount+=1,n.__mobxGlobals.UNCHANGED||(n.__mobxGlobals.UNCHANGED={}),n.__mobxGlobals):(n.__mobxInstanceCount=1,n.__mobxGlobals=new jp):(setTimeout(function(){Nt(35)},1),new jp)}();function NX(n,e){n.observers_.add(e),n.lowestObserverState_>e.dependenciesState_&&(n.lowestObserverState_=e.dependenciesState_)}function qP(n,e){n.observers_.delete(e),0===n.observers_.size&&XP(n)}function XP(n){!1===n.isPendingUnobservation_&&(n.isPendingUnobservation_=!0,Se.pendingUnobservations.push(n))}function Lr(){Se.inBatch++}function Fr(){if(0==--Se.inBatch){JP();for(var n=Se.pendingUnobservations,e=0;e<n.length;e++){var t=n[e];t.isPendingUnobservation_=!1,0===t.observers_.size&&(t.isBeingObserved_&&(t.isBeingObserved_=!1,t.onBUO()),t instanceof Dl&&t.suspend_())}Se.pendingUnobservations=[]}}function YP(n){var e=Se.trackingDerivation;return null!==e?(e.runId_!==n.lastAccessedBy_&&(n.lastAccessedBy_=e.runId_,e.newObserving_[e.unboundDepsCount_++]=n,!n.isBeingObserved_&&Se.trackingContext&&(n.isBeingObserved_=!0,n.onBO())),n.isBeingObserved_):(0===n.observers_.size&&Se.inBatch>0&&XP(n),!1)}function ZP(n){n.lowestObserverState_!==mn.STALE_&&(n.lowestObserverState_=mn.STALE_,n.observers_.forEach(function(e){e.dependenciesState_===mn.UP_TO_DATE_&&e.onBecomeStale_(),e.dependenciesState_=mn.STALE_}))}var qv=function(){function n(t,i,r,s){void 0===t&&(t="Reaction"),this.name_=void 0,this.onInvalidate_=void 0,this.errorHandler_=void 0,this.requiresObservable_=void 0,this.observing_=[],this.newObserving_=[],this.dependenciesState_=mn.NOT_TRACKING_,this.diffValue_=0,this.runId_=0,this.unboundDepsCount_=0,this.isDisposed_=!1,this.isScheduled_=!1,this.isTrackPending_=!1,this.isRunning_=!1,this.isTracing_=yu.NONE,this.name_=t,this.onInvalidate_=i,this.errorHandler_=r,this.requiresObservable_=s}var e=n.prototype;return e.onBecomeStale_=function(){this.schedule_()},e.schedule_=function(){this.isScheduled_||(this.isScheduled_=!0,Se.pendingReactions.push(this),JP())},e.isScheduled=function(){return this.isScheduled_},e.runReaction_=function(){if(!this.isDisposed_){Lr(),this.isScheduled_=!1;var i=Se.trackingContext;if(Se.trackingContext=this,vE(this)){this.isTrackPending_=!0;try{this.onInvalidate_()}catch(r){this.reportExceptionInDerivation_(r)}}Se.trackingContext=i,Fr()}},e.track=function(i){if(!this.isDisposed_){Lr(),this.isRunning_=!0;var o=Se.trackingContext;Se.trackingContext=this;var a=GP(this,i,void 0);Se.trackingContext=o,this.isRunning_=!1,this.isTrackPending_=!1,this.isDisposed_&&_E(this),jv(a)&&this.reportExceptionInDerivation_(a.cause),Fr()}},e.reportExceptionInDerivation_=function(i){var r=this;if(this.errorHandler_)this.errorHandler_(i,this);else{if(Se.disableErrorBoundaries)throw i;Se.suppressReactionErrors||console.error("[mobx] uncaught error in '"+this+"'",i),Se.globalReactionErrorHandlers.forEach(function(o){return o(i,r)})}},e.dispose=function(){this.isDisposed_||(this.isDisposed_=!0,this.isRunning_||(Lr(),_E(this),Fr()))},e.getDisposer_=function(i){var r=this,s=function o(){r.dispose(),null==i||null==i.removeEventListener||i.removeEventListener("abort",o)};return null==i||null==i.addEventListener||i.addEventListener("abort",s),s[lt]=this,s},e.toString=function(){return"Reaction["+this.name_+"]"},e.trace=function(i){void 0===i&&(i=!1)},n}(),kX=100,xE=function(e){return e()};function JP(){Se.inBatch>0||Se.isRunningReactions||xE(UX)}function UX(){Se.isRunningReactions=!0;for(var n=Se.pendingReactions,e=0;n.length>0;){++e===kX&&(console.error("[mobx] cycle in reaction: "+n[0]),n.splice(0));for(var t=n.splice(0),i=0,r=t.length;i<r;i++)t[i].runReaction_()}Se.isRunningReactions=!1}var Xv=wl("Reaction",qv),eO="autoAction",EE=Gp("action"),WX=Gp("action.bound",{bound:!0}),ME=Gp(eO,{autoAction:!0}),jX=Gp("autoAction.bound",{autoAction:!0,bound:!0});function nO(n){return function(i,r){return yr(i)?_u(i.name||"<unnamed action>",i,n):yr(r)?_u(i,r,n):Hp(r)?(n?ME:EE).decorate_20223_(i,r):Ml(r)?Hd(i,r,n?ME:EE):Ml(i)?no(Gp(n?eO:"action",{name:i,autoAction:n})):void 0}}var rs=nO(!1);Object.assign(rs,EE);var $p=nO(!0);function Yv(n){return yr(n)&&!0===n.isMobxAction}Object.assign($p,ME),rs.bound=no(WX),$p.bound=no(jX);var $X=function(e){return e()};var XX="onBO",YX="onBUO";function sO(n,e,t){return oO(YX,n,e,t)}function oO(n,e,t,i){var r="function"==typeof i?Ho(e,t):Ho(e),s=yr(i)?i:t,o=n+"L";return r[o]?r[o].add(s):r[o]=new Set([s]),function(){var a=r[o];a&&(a.delete(s),0===a.size&&delete r[o])}}var tY=0;function wE(){this.message="FLOW_CANCELLED"}wE.prototype=Object.create(Error.prototype);var SE=AP("flow"),nY=AP("flow.bound",{bound:!0}),Gd=Object.assign(function(e,t){if(Hp(t))return SE.decorate_20223_(e,t);if(Ml(t))return Hd(e,t,SE);var i=e,r=i.name||"<unnamed flow>",s=function(){var f,u=arguments,l=++tY,c=rs(r+" - runid: "+l+" - init",i).apply(this,u),h=void 0,p=new Promise(function(g,x){var _=0;function v(D){var T;h=void 0;try{T=rs(r+" - runid: "+l+" - yield "+_++,c.next).call(c,D)}catch(P){return x(P)}M(T)}function w(D){var T;h=void 0;try{T=rs(r+" - runid: "+l+" - yield "+_++,c.throw).call(c,D)}catch(P){return x(P)}M(T)}function M(D){if(!yr(D?.then))return D.done?g(D.value):(h=Promise.resolve(D.value)).then(v,w);D.then(M,x)}f=x,v(void 0)});return p.cancel=rs(r+" - runid: "+l+" - cancel",function(){try{h&&cO(h);var g=c.return(void 0),x=Promise.resolve(g.value);x.then(kd,kd),cO(x),f(new wE)}catch(_){f(_)}}),p};return s.isMobXFlow=!0,s},SE);function cO(n){yr(n.cancel)&&n.cancel()}function qp(n){return!0===n?.isMobXFlow}function CE(n){return function fO(n,e){return!!n&&(void 0!==e?!!nr(n)&&n[lt].values_.has(e):nr(n)||!!n[lt]||hE(n)||Xv(n)||Al(n))}(n)}function xa(n,e){void 0===e&&(e=void 0),Lr();try{return n.apply(e)}finally{Fr()}}function jd(n){return n[lt]}Gd.bound=no(nY);var hY={has:function(e,t){return jd(e).has_(t)},get:function(e,t){return jd(e).get_(t)},set:function(e,t,i){var r;return!!Ml(t)&&(null==(r=jd(e).set_(t,i,!0))||r)},deleteProperty:function(e,t){var i;return!!Ml(t)&&(null==(i=jd(e).delete_(t,!0))||i)},defineProperty:function(e,t,i){var r;return null==(r=jd(e).defineProperty_(t,i))||r},ownKeys:function(e){return jd(e).ownKeys_()},preventExtensions:function(e){Nt(13)}};function Is(n){return void 0!==n.interceptors_&&n.interceptors_.length>0}function Xp(n,e){var t=n.interceptors_||(n.interceptors_=[]);return t.push(e),vP(function(){var i=t.indexOf(e);-1!==i&&t.splice(i,1)})}function Rs(n,e){var t=Tl();try{for(var i=[].concat(n.interceptors_||[]),r=0,s=i.length;r<s&&((e=i[r](e))&&!e.type&&Nt(14),e);r++);return e}finally{ya(t)}}function io(n){return void 0!==n.changeListeners_&&n.changeListeners_.length>0}function Yp(n,e){var t=n.changeListeners_||(n.changeListeners_=[]);return t.push(e),vP(function(){var i=t.indexOf(e);-1!==i&&t.splice(i,1)})}function ro(n,e){var t=Tl(),i=n.changeListeners_;if(i){for(var r=0,s=(i=i.slice()).length;r<s;r++)i[r](e);ya(t)}}var Vo="update",gY={get:function(e,t){var i=e[lt];return t===lt?i:"length"===t?i.getArrayLength_():"string"!=typeof t||isNaN(t)?_a(Qv,t)?Qv[t]:e[t]:i.get_(parseInt(t))},set:function(e,t,i){var r=e[lt];return"length"===t&&r.setArrayLength_(i),"symbol"==typeof t||isNaN(t)?e[t]=i:r.set_(parseInt(t),i),!0},preventExtensions:function(){Nt(15)}},AE=function(){function n(t,i,r,s){void 0===t&&(t="ObservableArray"),this.owned_=void 0,this.legacyMode_=void 0,this.atom_=void 0,this.values_=[],this.interceptors_=void 0,this.changeListeners_=void 0,this.enhancer_=void 0,this.dehancer=void 0,this.proxy_=void 0,this.lastKnownLength_=0,this.owned_=r,this.legacyMode_=s,this.atom_=new zp(t),this.enhancer_=function(o,a){return i(o,a,"ObservableArray[..]")}}var e=n.prototype;return e.dehanceValue_=function(i){return void 0!==this.dehancer?this.dehancer(i):i},e.dehanceValues_=function(i){return void 0!==this.dehancer&&i.length>0?i.map(this.dehancer):i},e.intercept_=function(i){return Xp(this,i)},e.observe_=function(i,r){return void 0===r&&(r=!1),r&&i({observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:0,added:this.values_.slice(),addedCount:this.values_.length,removed:[],removedCount:0}),Yp(this,i)},e.getArrayLength_=function(){return this.atom_.reportObserved(),this.values_.length},e.setArrayLength_=function(i){("number"!=typeof i||isNaN(i)||i<0)&&Nt("Out of range: "+i);var r=this.values_.length;if(i!==r)if(i>r){for(var s=new Array(i-r),o=0;o<i-r;o++)s[o]=void 0;this.spliceWithArray_(r,0,s)}else this.spliceWithArray_(i,r-i)},e.updateArrayLength_=function(i,r){i!==this.lastKnownLength_&&Nt(16),this.lastKnownLength_+=r,this.legacyMode_&&r>0&&IO(i+r+1)},e.spliceWithArray_=function(i,r,s){var o=this,a=this.values_.length;if(void 0===i?i=0:i>a?i=a:i<0&&(i=Math.max(0,a+i)),r=1===arguments.length?a-i:null==r?0:Math.max(0,Math.min(r,a-i)),void 0===s&&(s=uE),Is(this)){var u=Rs(this,{object:this.proxy_,type:"splice",index:i,removedCount:r,added:s});if(!u)return uE;r=u.removedCount,s=u.added}s=0===s.length?s:s.map(function(f){return o.enhancer_(f,void 0)}),this.legacyMode_&&this.updateArrayLength_(a,s.length-r);var c=this.spliceItemsIntoValues_(i,r,s);return(0!==r||0!==s.length)&&this.notifyArraySplice_(i,s,c),this.dehanceValues_(c)},e.spliceItemsIntoValues_=function(i,r,s){var o;if(s.length<1e4)return(o=this.values_).splice.apply(o,[i,r].concat(s));var a=this.values_.slice(i,i+r),u=this.values_.slice(i+r);this.values_.length+=s.length-r;for(var l=0;l<s.length;l++)this.values_[i+l]=s[l];for(var c=0;c<u.length;c++)this.values_[i+s.length+c]=u[c];return a},e.notifyArrayChildUpdate_=function(i,r,s){var o=!this.owned_&&!1,a=io(this),u=a||o?{observableKind:"array",object:this.proxy_,type:Vo,debugObjectName:this.atom_.name_,index:i,newValue:r,oldValue:s}:null;this.atom_.reportChanged(),a&&ro(this,u)},e.notifyArraySplice_=function(i,r,s){var o=!this.owned_&&!1,a=io(this),u=a||o?{observableKind:"array",object:this.proxy_,debugObjectName:this.atom_.name_,type:"splice",index:i,removed:s,added:r,removedCount:s.length,addedCount:r.length}:null;this.atom_.reportChanged(),a&&ro(this,u)},e.get_=function(i){if(!(this.legacyMode_&&i>=this.values_.length))return this.atom_.reportObserved(),this.dehanceValue_(this.values_[i]);console.warn("[mobx] Out of bounds read: "+i)},e.set_=function(i,r){var s=this.values_;if(this.legacyMode_&&i>s.length&&Nt(17,i,s.length),i<s.length){var o=s[i];if(Is(this)){var a=Rs(this,{type:Vo,object:this.proxy_,index:i,newValue:r});if(!a)return;r=a.newValue}(r=this.enhancer_(r,o))!==o&&(s[i]=r,this.notifyArrayChildUpdate_(i,r,o))}else{for(var l=new Array(i+1-s.length),c=0;c<l.length-1;c++)l[c]=void 0;l[l.length-1]=r,this.spliceWithArray_(s.length,0,l)}},n}();function vY(n,e,t,i){return void 0===t&&(t="ObservableArray"),void 0===i&&(i=!1),gP(),Eu(function(){var r=new AE(t,e,i,!1);yP(r.values_,lt,r);var s=new Proxy(r.values_,gY);return r.proxy_=s,n&&n.length&&r.spliceWithArray_(0,0,n),s})}var Qv={clear:function(){return this.splice(0)},replace:function(e){var t=this[lt];return t.spliceWithArray_(0,t.values_.length,e)},toJSON:function(){return this.slice()},splice:function(e,t){for(var i=arguments.length,r=new Array(i>2?i-2:0),s=2;s<i;s++)r[s-2]=arguments[s];var o=this[lt];switch(arguments.length){case 0:return[];case 1:return o.spliceWithArray_(e);case 2:return o.spliceWithArray_(e,t)}return o.spliceWithArray_(e,t,r)},spliceWithArray:function(e,t,i){return this[lt].spliceWithArray_(e,t,i)},push:function(){for(var e=this[lt],t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return e.spliceWithArray_(e.values_.length,0,i),e.values_.length},pop:function(){return this.splice(Math.max(this[lt].values_.length-1,0),1)[0]},shift:function(){return this.splice(0,1)[0]},unshift:function(){for(var e=this[lt],t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];return e.spliceWithArray_(0,0,i),e.values_.length},reverse:function(){return Se.trackingDerivation&&Nt(37,"reverse"),this.replace(this.slice().reverse()),this},sort:function(){Se.trackingDerivation&&Nt(37,"sort");var e=this.slice();return e.sort.apply(e,arguments),this.replace(e),this},remove:function(e){var t=this[lt],i=t.dehanceValues_(t.values_).indexOf(e);return i>-1&&(this.splice(i,1),!0)}};function Vn(n,e){"function"==typeof Array.prototype[n]&&(Qv[n]=e(n))}function ss(n){return function(){var e=this[lt];e.atom_.reportObserved();var t=e.dehanceValues_(e.values_);return t[n].apply(t,arguments)}}function so(n){return function(e,t){var i=this,r=this[lt];return r.atom_.reportObserved(),r.dehanceValues_(r.values_)[n](function(o,a){return e.call(t,o,a,i)})}}function mO(n){return function(){var e=this,t=this[lt];t.atom_.reportObserved();var i=t.dehanceValues_(t.values_),r=arguments[0];return arguments[0]=function(s,o,a){return r(s,o,a,e)},i[n].apply(i,arguments)}}Vn("at",ss),Vn("concat",ss),Vn("flat",ss),Vn("includes",ss),Vn("indexOf",ss),Vn("join",ss),Vn("lastIndexOf",ss),Vn("slice",ss),Vn("toString",ss),Vn("toLocaleString",ss),Vn("toSorted",ss),Vn("toSpliced",ss),Vn("with",ss),Vn("every",so),Vn("filter",so),Vn("find",so),Vn("findIndex",so),Vn("findLast",so),Vn("findLastIndex",so),Vn("flatMap",so),Vn("forEach",so),Vn("map",so),Vn("some",so),Vn("toReversed",so),Vn("reduce",mO),Vn("reduceRight",mO);var _Y=wl("ObservableArrayAdministration",AE);function os(n){return Lv(n)&&_Y(n[lt])}var gO,vO,yY={},xu="add",e4="delete";gO=Symbol.iterator,vO=Symbol.toStringTag;var yO,xO,_O=function(){function n(t,i,r){var s=this;void 0===i&&(i=Sl),void 0===r&&(r="ObservableMap"),this.enhancer_=void 0,this.name_=void 0,this[lt]=yY,this.data_=void 0,this.hasMap_=void 0,this.keysAtom_=void 0,this.interceptors_=void 0,this.changeListeners_=void 0,this.dehancer=void 0,this.enhancer_=i,this.name_=r,yr(Map)||Nt(18),Eu(function(){s.keysAtom_=SP("ObservableMap.keys()"),s.data_=new Map,s.hasMap_=new Map,t&&s.merge(t)})}var e=n.prototype;return e.has_=function(i){return this.data_.has(i)},e.has=function(i){var r=this;if(!Se.trackingDerivation)return this.has_(i);var s=this.hasMap_.get(i);if(!s){var o=s=new Cl(this.has_(i),Fv,"ObservableMap.key?",!1);this.hasMap_.set(i,o),sO(o,function(){return r.hasMap_.delete(i)})}return s.get()},e.set=function(i,r){var s=this.has_(i);if(Is(this)){var o=Rs(this,{type:s?Vo:xu,object:this,newValue:r,name:i});if(!o)return this;r=o.newValue}return s?this.updateValue_(i,r):this.addValue_(i,r),this},e.delete=function(i){var r=this;if(Is(this)&&!Rs(this,{type:e4,object:this,name:i}))return!1;if(this.has_(i)){var a=io(this),u=a?{observableKind:"map",debugObjectName:this.name_,type:e4,object:this,oldValue:this.data_.get(i).value_,name:i}:null;return xa(function(){var l;r.keysAtom_.reportChanged(),null==(l=r.hasMap_.get(i))||l.setNewValue_(!1),r.data_.get(i).setNewValue_(void 0),r.data_.delete(i)}),a&&ro(this,u),!0}return!1},e.updateValue_=function(i,r){var s=this.data_.get(i);if((r=s.prepareNewValue_(r))!==Se.UNCHANGED){var a=io(this),u=a?{observableKind:"map",debugObjectName:this.name_,type:Vo,object:this,oldValue:s.value_,name:i,newValue:r}:null;s.setNewValue_(r),a&&ro(this,u)}},e.addValue_=function(i,r){var s=this;xa(function(){var l,c=new Cl(r,s.enhancer_,"ObservableMap.key",!1);s.data_.set(i,c),r=c.value_,null==(l=s.hasMap_.get(i))||l.setNewValue_(!0),s.keysAtom_.reportChanged()});var a=io(this);a&&ro(this,a?{observableKind:"map",debugObjectName:this.name_,type:xu,object:this,name:i,newValue:r}:null)},e.get=function(i){return this.has(i)?this.dehanceValue_(this.data_.get(i).get()):this.dehanceValue_(void 0)},e.dehanceValue_=function(i){return void 0!==this.dehancer?this.dehancer(i):i},e.keys=function(){return this.keysAtom_.reportObserved(),this.data_.keys()},e.values=function(){var i=this,r=this.keys();return Zp({next:function(){var o=r.next(),a=o.done;return{done:a,value:a?void 0:i.get(o.value)}}})},e.entries=function(){var i=this,r=this.keys();return Zp({next:function(){var o=r.next(),a=o.done,u=o.value;return{done:a,value:a?void 0:[u,i.get(u)]}}})},e[gO]=function(){return this.entries()},e.forEach=function(i,r){for(var o,s=Vd(this);!(o=s()).done;){var a=o.value;i.call(r,a[1],a[0],this)}},e.merge=function(i){var r=this;return tr(i)&&(i=new Map(i)),xa(function(){va(i)?function Tq(n){var e=Object.keys(n);if(!xP)return e;var t=Object.getOwnPropertySymbols(n);return t.length?[].concat(e,t.filter(function(i){return Up.propertyIsEnumerable.call(n,i)})):e}(i).forEach(function(s){return r.set(s,i[s])}):Array.isArray(i)?i.forEach(function(s){return r.set(s[0],s[1])}):Ud(i)?(i.constructor!==Map&&Nt(19,i),i.forEach(function(s,o){return r.set(o,s)})):null!=i&&Nt(20,i)}),this},e.clear=function(){var i=this;xa(function(){WP(function(){for(var s,r=Vd(i.keys());!(s=r()).done;)i.delete(s.value)})})},e.replace=function(i){var r=this;return xa(function(){for(var l,s=function xY(n){if(Ud(n)||tr(n))return n;if(Array.isArray(n))return new Map(n);if(va(n)){var e=new Map;for(var t in n)e.set(t,n[t]);return e}return Nt(21,n)}(i),o=new Map,a=!1,u=Vd(r.data_.keys());!(l=u()).done;){var c=l.value;if(!s.has(c))if(r.delete(c))a=!0;else{var h=r.data_.get(c);o.set(c,h)}}for(var g,p=Vd(s.entries());!(g=p()).done;){var x=g.value,_=x[0],v=x[1],w=r.data_.has(_);if(r.set(_,v),r.data_.has(_)){var M=r.data_.get(_);o.set(_,M),w||(a=!0)}}if(!a)if(r.data_.size!==o.size)r.keysAtom_.reportChanged();else for(var D=r.data_.keys(),T=o.keys(),P=D.next(),U=T.next();!P.done;){if(P.value!==U.value){r.keysAtom_.reportChanged();break}P=D.next(),U=T.next()}r.data_=o}),this},e.toString=function(){return"[object ObservableMap]"},e.toJSON=function(){return Array.from(this)},e.observe_=function(i,r){return Yp(this,i)},e.intercept_=function(i){return Xp(this,i)},cE(n,[{key:"size",get:function(){return this.keysAtom_.reportObserved(),this.data_.size}},{key:vO,get:function(){return"Map"}}]),n}(),tr=wl("ObservableMap",_O),bY={};yO=Symbol.iterator,xO=Symbol.toStringTag;var bO=function(){function n(t,i,r){var s=this;void 0===i&&(i=Sl),void 0===r&&(r="ObservableSet"),this.name_=void 0,this[lt]=bY,this.data_=new Set,this.atom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.dehancer=void 0,this.enhancer_=void 0,this.name_=r,yr(Set)||Nt(22),this.enhancer_=function(o,a){return i(o,a,r)},Eu(function(){s.atom_=SP(s.name_),t&&s.replace(t)})}var e=n.prototype;return e.dehanceValue_=function(i){return void 0!==this.dehancer?this.dehancer(i):i},e.clear=function(){var i=this;xa(function(){WP(function(){for(var s,r=Vd(i.data_.values());!(s=r()).done;)i.delete(s.value)})})},e.forEach=function(i,r){for(var o,s=Vd(this);!(o=s()).done;){var a=o.value;i.call(r,a,a,this)}},e.add=function(i){var r=this;if(Is(this)&&!Rs(this,{type:xu,object:this,newValue:i}))return this;if(!this.has(i)){xa(function(){r.data_.add(r.enhancer_(i,void 0)),r.atom_.reportChanged()});var a=io(this);a&&ro(this,a?{observableKind:"set",debugObjectName:this.name_,type:xu,object:this,newValue:i}:null)}return this},e.delete=function(i){var r=this;if(Is(this)&&!Rs(this,{type:e4,object:this,oldValue:i}))return!1;if(this.has(i)){var a=io(this),u=a?{observableKind:"set",debugObjectName:this.name_,type:e4,object:this,oldValue:i}:null;return xa(function(){r.atom_.reportChanged(),r.data_.delete(i)}),a&&ro(this,u),!0}return!1},e.has=function(i){return this.atom_.reportObserved(),this.data_.has(this.dehanceValue_(i))},e.entries=function(){var i=0,r=Array.from(this.keys()),s=Array.from(this.values());return Zp({next:function(){var a=i;return i+=1,a<s.length?{value:[r[a],s[a]],done:!1}:{done:!0}}})},e.keys=function(){return this.values()},e.values=function(){this.atom_.reportObserved();var i=this,r=0,s=Array.from(this.data_.values());return Zp({next:function(){return r<s.length?{value:i.dehanceValue_(s[r++]),done:!1}:{done:!0}}})},e.replace=function(i){var r=this;return kr(i)&&(i=new Set(i)),xa(function(){Array.isArray(i)||Vp(i)?(r.clear(),i.forEach(function(s){return r.add(s)})):null!=i&&Nt("Cannot initialize set from "+i)}),this},e.observe_=function(i,r){return Yp(this,i)},e.intercept_=function(i){return Xp(this,i)},e.toJSON=function(){return Array.from(this)},e.toString=function(){return"[object ObservableSet]"},e[yO]=function(){return this.values()},cE(n,[{key:"size",get:function(){return this.atom_.reportObserved(),this.data_.size}},{key:xO,get:function(){return"Set"}}]),n}(),kr=wl("ObservableSet",bO),EO=Object.create(null),wO=function(){function n(t,i,r,s){void 0===i&&(i=new Map),void 0===s&&(s=lX),this.target_=void 0,this.values_=void 0,this.name_=void 0,this.defaultAnnotation_=void 0,this.keysAtom_=void 0,this.changeListeners_=void 0,this.interceptors_=void 0,this.proxy_=void 0,this.isPlainObject_=void 0,this.appliedAnnotations_=void 0,this.pendingKeys_=void 0,this.target_=t,this.values_=i,this.name_=r,this.defaultAnnotation_=s,this.keysAtom_=new zp("ObservableObject.keys"),this.isPlainObject_=va(this.target_)}var e=n.prototype;return e.getObservablePropValue_=function(i){return this.values_.get(i).get()},e.setObservablePropValue_=function(i,r){var s=this.values_.get(i);if(s instanceof Dl)return s.set(r),!0;if(Is(this)){var o=Rs(this,{type:Vo,object:this.proxy_||this.target_,name:i,newValue:r});if(!o)return null;r=o.newValue}if((r=s.prepareNewValue_(r))!==Se.UNCHANGED){var a=io(this),l=a?{type:Vo,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,oldValue:s.value_,name:i,newValue:r}:null;s.setNewValue_(r),a&&ro(this,l)}return!0},e.get_=function(i){return Se.trackingDerivation&&!_a(this.target_,i)&&this.has_(i),this.target_[i]},e.set_=function(i,r,s){return void 0===s&&(s=!1),_a(this.target_,i)?this.values_.has(i)?this.setObservablePropValue_(i,r):s?Reflect.set(this.target_,i,r):(this.target_[i]=r,!0):this.extend_(i,{value:r,enumerable:!0,writable:!0,configurable:!0},this.defaultAnnotation_,s)},e.has_=function(i){if(!Se.trackingDerivation)return i in this.target_;this.pendingKeys_||(this.pendingKeys_=new Map);var r=this.pendingKeys_.get(i);return r||(r=new Cl(i in this.target_,Fv,"ObservableObject.key?",!1),this.pendingKeys_.set(i,r)),r.get()},e.make_=function(i,r){if(!0===r&&(r=this.defaultAnnotation_),!1!==r){if(!(i in this.target_)){var s;if(null!=(s=this.target_[Uo])&&s[i])return;Nt(1,r.annotationType_,this.name_+"."+i.toString())}for(var o=this.target_;o&&o!==Up;){var a=Nv(o,i);if(a){var u=r.make_(this,i,a,o);if(0===u)return;if(1===u)break}o=Object.getPrototypeOf(o)}CO(this,0,i)}},e.extend_=function(i,r,s,o){if(void 0===o&&(o=!1),!0===s&&(s=this.defaultAnnotation_),!1===s)return this.defineProperty_(i,r,o);var a=s.extend_(this,i,r,o);return a&&CO(this,0,i),a},e.defineProperty_=function(i,r,s){void 0===s&&(s=!1);try{Lr();var o=this.delete_(i);if(!o)return o;if(Is(this)){var a=Rs(this,{object:this.proxy_||this.target_,name:i,type:xu,newValue:r.value});if(!a)return null;var u=a.newValue;r.value!==u&&(r=ko({},r,{value:u}))}if(s){if(!Reflect.defineProperty(this.target_,i,r))return!1}else Fo(this.target_,i,r);this.notifyPropertyAddition_(i,r.value)}finally{Fr()}return!0},e.defineObservableProperty_=function(i,r,s,o){void 0===o&&(o=!1);try{Lr();var a=this.delete_(i);if(!a)return a;if(Is(this)){var u=Rs(this,{object:this.proxy_||this.target_,name:i,type:xu,newValue:r});if(!u)return null;r=u.newValue}var l=SO(i),c={configurable:!Se.safeDescriptors||this.isPlainObject_,enumerable:!0,get:l.get,set:l.set};if(o){if(!Reflect.defineProperty(this.target_,i,c))return!1}else Fo(this.target_,i,c);var f=new Cl(r,s,"ObservableObject.key",!1);this.values_.set(i,f),this.notifyPropertyAddition_(i,f.value_)}finally{Fr()}return!0},e.defineComputedProperty_=function(i,r,s){void 0===s&&(s=!1);try{Lr();var o=this.delete_(i);if(!o)return o;if(Is(this)&&!Rs(this,{object:this.proxy_||this.target_,name:i,type:xu,newValue:void 0}))return null;r.name||(r.name="ObservableObject.key"),r.context=this.proxy_||this.target_;var u=SO(i),l={configurable:!Se.safeDescriptors||this.isPlainObject_,enumerable:!1,get:u.get,set:u.set};if(s){if(!Reflect.defineProperty(this.target_,i,l))return!1}else Fo(this.target_,i,l);this.values_.set(i,new Dl(r)),this.notifyPropertyAddition_(i,void 0)}finally{Fr()}return!0},e.delete_=function(i,r){if(void 0===r&&(r=!1),!_a(this.target_,i))return!0;if(Is(this)&&!Rs(this,{object:this.proxy_||this.target_,name:i,type:"remove"}))return null;try{var o,a;Lr();var h,u=io(this),c=this.values_.get(i),f=void 0;if(!c&&u&&(f=null==(h=Nv(this.target_,i))?void 0:h.value),r){if(!Reflect.deleteProperty(this.target_,i))return!1}else delete this.target_[i];c&&(this.values_.delete(i),c instanceof Cl&&(f=c.value_),ZP(c)),this.keysAtom_.reportChanged(),null==(o=this.pendingKeys_)||null==(a=o.get(i))||a.set(i in this.target_),u&&u&&ro(this,{type:"remove",observableKind:"object",object:this.proxy_||this.target_,debugObjectName:this.name_,oldValue:f,name:i})}finally{Fr()}return!0},e.observe_=function(i,r){return Yp(this,i)},e.intercept_=function(i){return Xp(this,i)},e.notifyPropertyAddition_=function(i,r){var s,o,a=io(this);a&&a&&ro(this,a?{type:xu,observableKind:"object",debugObjectName:this.name_,object:this.proxy_||this.target_,name:i,newValue:r}:null),null==(s=this.pendingKeys_)||null==(o=s.get(i))||o.set(!0),this.keysAtom_.reportChanged()},e.ownKeys_=function(){return this.keysAtom_.reportObserved(),Bd(this.target_)},e.keys_=function(){return this.keysAtom_.reportObserved(),Object.keys(this.target_)},n}();function Rl(n,e){var t;if(_a(n,lt))return n;var i=null!=(t=e?.name)?t:"ObservableObject",r=new wO(n,new Map,String(i),function xX(n){var e;return n?null!=(e=n.defaultDecorator)?e:IP(n):void 0}(e));return Bp(n,lt,r),n}var EY=wl("ObservableObjectAdministration",wO);function SO(n){return EO[n]||(EO[n]={get:function(){return this[lt].getObservablePropValue_(n)},set:function(t){return this[lt].setObservablePropValue_(n,t)}})}function nr(n){return!!Lv(n)&&EY(n[lt])}function CO(n,e,t){var i;null==(i=n.target_[Uo])||delete i[t]}var MY=TO(0),wY=function(){var n=!1,e={};return Object.defineProperty(e,"0",{set:function(){n=!0}}),Object.create(e)[0]=1,!1===n}(),TE=0,AO=function(){};!function SY(n,e){Object.setPrototypeOf?Object.setPrototypeOf(n.prototype,e):void 0!==n.prototype.__proto__?n.prototype.__proto__=e:n.prototype=e}(AO,Array.prototype);var IE=function(n,e,t){function i(s,o,a,u){var l;return void 0===a&&(a="ObservableArray"),void 0===u&&(u=!1),l=n.call(this)||this,Eu(function(){var c=new AE(a,o,u,!0);c.proxy_=fE(l),yP(fE(l),lt,c),s&&s.length&&l.spliceWithArray(0,0,s),wY&&Object.defineProperty(fE(l),"0",MY)}),l}MP(i,n);var r=i.prototype;return r.concat=function(){this[lt].atom_.reportObserved();for(var o=arguments.length,a=new Array(o),u=0;u<o;u++)a[u]=arguments[u];return Array.prototype.concat.apply(this.slice(),a.map(function(l){return os(l)?l.slice():l}))},r[t]=function(){var s=this,o=0;return Zp({next:function(){return o<s.length?{value:s[o++],done:!1}:{done:!0,value:void 0}}})},cE(i,[{key:"length",get:function(){return this[lt].getArrayLength_()},set:function(o){this[lt].setArrayLength_(o)}},{key:e,get:function(){return"Array"}}]),i}(AO,Symbol.toStringTag,Symbol.iterator);function TO(n){return{enumerable:!1,configurable:!0,get:function(){return this[lt].get_(n)},set:function(t){this[lt].set_(n,t)}}}function CY(n){Fo(IE.prototype,""+n,TO(n))}function IO(n){if(n>TE){for(var e=TE;e<n+100;e++)CY(e);TE=n}}function DY(n,e,t){return new IE(n,e,t)}function Ho(n,e){if("object"==typeof n&&null!==n){if(os(n))return void 0!==e&&Nt(23),n[lt].atom_;if(kr(n))return n.atom_;if(tr(n)){if(void 0===e)return n.keysAtom_;var t=n.data_.get(e)||n.hasMap_.get(e);return t||Nt(25,e,RE(n)),t}if(nr(n)){if(!e)return Nt(26);var i=n[lt].values_.get(e);return i||Nt(27,e,RE(n)),i}if(hE(n)||Al(n)||Xv(n))return n}else if(yr(n)&&Xv(n[lt]))return n[lt];Nt(28)}function bu(n,e){return n||Nt(29),void 0!==e?bu(Ho(n,e)):hE(n)||Al(n)||Xv(n)||tr(n)||kr(n)?n:n[lt]?n[lt]:void Nt(24,n)}function RE(n,e){var t;if(void 0!==e)t=Ho(n,e);else{if(Yv(n))return n.name;t=nr(n)||tr(n)||kr(n)?bu(n):Ho(n)}return t.name_}function Eu(n){var e=Tl(),t=zv(!0);Lr();try{return n()}finally{Fr(),Gv(t),ya(e)}}Object.entries(Qv).forEach(function(n){var e=n[0];"concat"!==e&&Bp(IE.prototype,e,n[1])}),IO(1e3);var RO=Up.toString;function PE(n,e,t){return void 0===t&&(t=-1),OE(n,e,t)}function OE(n,e,t,i,r){if(n===e)return 0!==n||1/n==1/e;if(null==n||null==e)return!1;if(n!=n)return e!=e;var s=typeof n;if("function"!==s&&"object"!==s&&"object"!=typeof e)return!1;var o=RO.call(n);if(o!==RO.call(e))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+n==""+e;case"[object Number]":return+n!=+n?+e!=+e:0==+n?1/+n==1/e:+n==+e;case"[object Date]":case"[object Boolean]":return+n==+e;case"[object Symbol]":return typeof Symbol<"u"&&Symbol.valueOf.call(n)===Symbol.valueOf.call(e);case"[object Map]":case"[object Set]":t>=0&&t++}n=PO(n),e=PO(e);var a="[object Array]"===o;if(!a){if("object"!=typeof n||"object"!=typeof e)return!1;var u=n.constructor,l=e.constructor;if(u!==l&&!(yr(u)&&u instanceof u&&yr(l)&&l instanceof l)&&"constructor"in n&&"constructor"in e)return!1}if(0===t)return!1;t<0&&(t=-1),r=r||[];for(var c=(i=i||[]).length;c--;)if(i[c]===n)return r[c]===e;if(i.push(n),r.push(e),a){if((c=n.length)!==e.length)return!1;for(;c--;)if(!OE(n[c],e[c],t-1,i,r))return!1}else{var h,f=Object.keys(n);if(c=f.length,Object.keys(e).length!==c)return!1;for(;c--;)if(!_a(e,h=f[c])||!OE(n[h],e[h],t-1,i,r))return!1}return i.pop(),r.pop(),!0}function PO(n){return os(n)?n.slice():Ud(n)||tr(n)||Vp(n)||kr(n)?Array.from(n.entries()):n}function Zp(n){return n[Symbol.iterator]=AY,n}function AY(){return this}["Symbol","Map","Set"].forEach(function(n){typeof aE()[n]>"u"&&Nt("MobX requires global '"+n+"' to be available or polyfilled")}),"object"==typeof __MOBX_DEVTOOLS_GLOBAL_HOOK__&&__MOBX_DEVTOOLS_GLOBAL_HOOK__.injectMobx({spy:function HX(n){return console.warn("[mobx.spy] Is a no-op in production builds"),function(){}},extras:{getDebugName:RE},$mobx:lt});class xr{constructor(){this.popupState=-1,this.isShown=!1,this.mobileMenuOpened=!1}isWainig(){return-1===this.popupState}openMobileMenu(){this.mobileMenuOpened=!0}closeMobileMenu(){this.mobileMenuOpened=!1}isMobileMenuOpened(){return this.mobileMenuOpened}show(){this.isShown=!0}hide(){this.isShown=!1,this.popupState=-1}sending(){this.popupState=0}waiting(){this.popupState=-1}}vs([xi],xr.prototype,"popupState",void 0),vs([xi],xr.prototype,"isShown",void 0),vs([xi],xr.prototype,"mobileMenuOpened",void 0),vs([rs],xr.prototype,"openMobileMenu",null),vs([rs],xr.prototype,"closeMobileMenu",null),vs([rs],xr.prototype,"show",null),vs([rs],xr.prototype,"hide",null),vs([rs],xr.prototype,"sending",null),vs([rs],xr.prototype,"waiting",null);const TY=["*"];let t4=(()=>{class n{config;afterChange=new Pn;beforeChange=new Pn;breakpoint=new Pn;destroy=new Pn;init=new Pn;$instance;currentIndex=0;slides=[];initialized=!1;_removedSlides=[];_addedSlides=[];el=Oe(gi);zone=Oe(En);isServer=bv(Oe(iu));ngOnDestroy(){this.unslick()}ngAfterViewInit(){this.ngAfterViewChecked()}ngAfterViewChecked(){if(!this.isServer&&(this._addedSlides.length>0||this._removedSlides.length>0)){const t=this.slides.length-this._removedSlides.length+this._addedSlides.length;this.initialized?0===t?this.unslick():(this._addedSlides.forEach(i=>{this.slides.push(i),this.zone.runOutsideAngular(()=>{this.$instance.slick("slickAdd",i.el.nativeElement)})}),this._addedSlides=[],this._removedSlides.forEach(i=>{const r=this.slides.indexOf(i);this.slides=this.slides.filter(s=>s!==i),this.zone.runOutsideAngular(()=>{this.$instance.slick("slickRemove",r)})}),this._removedSlides=[]):t>0&&this.initSlick()}}initSlick(){this.slides=this._addedSlides,this._addedSlides=[],this._removedSlides=[],this.zone.runOutsideAngular(()=>{this.$instance=jQuery(this.el.nativeElement),this.$instance.on("init",(t,i)=>{this.zone.run(()=>{this.init.emit({event:t,slick:i})})}),this.$instance.slick(this.config),this.zone.run(()=>{this.initialized=!0,this.currentIndex=this.config?.initialSlide||0}),this.$instance.on("afterChange",(t,i,r)=>{this.zone.run(()=>{this.afterChange.emit({event:t,slick:i,currentSlide:r,first:0===r,last:i.$slides.length===r+i.options.slidesToScroll}),this.currentIndex=r})}),this.$instance.on("beforeChange",(t,i,r,s)=>{this.zone.run(()=>{this.beforeChange.emit({event:t,slick:i,currentSlide:r,nextSlide:s}),this.currentIndex=s})}),this.$instance.on("breakpoint",(t,i,r)=>{this.zone.run(()=>{this.breakpoint.emit({event:t,slick:i,breakpoint:r})})}),this.$instance.on("destroy",(t,i)=>{this.zone.run(()=>{this.destroy.emit({event:t,slick:i}),this.initialized=!1})})})}addSlide(t){this._addedSlides.push(t)}removeSlide(t){this._removedSlides.push(t)}slickGoTo(t){this.zone.runOutsideAngular(()=>{this.$instance.slick("slickGoTo",t)})}slickNext(){this.zone.runOutsideAngular(()=>{this.$instance.slick("slickNext")})}slickPrev(){this.zone.runOutsideAngular(()=>{this.$instance.slick("slickPrev")})}slickPause(){this.zone.runOutsideAngular(()=>{this.$instance.slick("slickPause")})}slickPlay(){this.zone.runOutsideAngular(()=>{this.$instance.slick("slickPlay")})}unslick(){this.$instance&&(this.zone.runOutsideAngular(()=>{this.$instance.slick("unslick")}),this.$instance=void 0),this.initialized=!1}ngOnChanges(t){if(this.initialized){const i=t.config;if(i.previousValue!==i.currentValue&&void 0!==i.currentValue){const r=i.currentValue.refresh,s=Object.assign({},i.currentValue);delete s.refresh,this.zone.runOutsideAngular(()=>{this.$instance.slick("slickSetOption",s,r)})}}}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=cn({type:n,selectors:[["ngx-slick-carousel"]],inputs:{config:"config"},outputs:{afterChange:"afterChange",beforeChange:"beforeChange",breakpoint:"breakpoint",destroy:"destroy",init:"init"},exportAs:["slick-carousel"],features:[Gn([{provide:to,useExisting:L(()=>n),multi:!0}]),Yr],ngContentSelectors:TY,decls:1,vars:0,template:function(i,r){1&i&&(function vT(n){const e=le()[Zn][Ki];if(!e.projection){const i=e.projection=kh(n?n.length:1,null),r=i.slice();let s=e.child;for(;null!==s;){const o=n?f6(s,n):0;null!==o&&(r[o]?r[o].projectionNext=s:i[o]=s,r[o]=s),s=s.next}}}(),function _T(n,e=0,t){const i=le(),r=an(),s=ud(r,Ot+n,16,null,t||null);null===s.projection&&(s.projection=e),Py(),(!i[qs]||Vc())&&32!=(32&s.flags)&&function BV(n,e,t){a1(e[Pt],0,e,t,vx(n,t,e),t1(t.parent||e[Ki],t,e))}(r,i,s)}(0))},encapsulation:2})}return n})(),OO=(()=>{class n{carousel=Oe(t4,{host:!0});renderer=Oe(Ao);el=Oe(gi);isServer=bv(Oe(iu));ngOnInit(){this.carousel.addSlide(this),this.isServer&&this.carousel.slides.length>0&&this.renderer.setStyle(this.el,"display","none")}ngOnDestroy(){this.carousel.removeSlide(this)}static \u0275fac=function(i){return new(i||n)};static \u0275dir=bt({type:n,selectors:[["","ngxSlickItem",""]]})}return n})(),NE=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275mod=$n({type:n});static \u0275inj=xn({imports:[V2]})}return n})(),IY=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$n({type:n});static#n=this.\u0275inj=xn({imports:[ns,is]})}return n})(),RY=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$n({type:n});static#n=this.\u0275inj=xn({imports:[ns,is,NE]})}return n})(),PY=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$n({type:n});static#n=this.\u0275inj=xn({imports:[ns,is]})}return n})(),OY=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$n({type:n});static#n=this.\u0275inj=xn({imports:[ns,is]})}return n})(),NY=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$n({type:n});static#n=this.\u0275inj=xn({imports:[ns,is,NE]})}return n})(),NO=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$n({type:n});static#n=this.\u0275inj=xn({providers:[xr],imports:[ns,is]})}return n})(),LY=(()=>{class n{constructor(){this.title="drupal project"}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$n({type:n});static#n=this.\u0275inj=xn({providers:[xr],imports:[ns,is,NO]})}return n})(),FY=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$n({type:n});static#n=this.\u0275inj=xn({imports:[ns,is]})}return n})(),kY=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$n({type:n});static#n=this.\u0275inj=xn({imports:[ns,is]})}return n})(),UY=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$n({type:n});static#n=this.\u0275inj=xn({imports:[ns,is]})}return n})(),BY=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$n({type:n});static#n=this.\u0275inj=xn({imports:[ns,is]})}return n})(),VY=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$n({type:n});static#n=this.\u0275inj=xn({imports:[ns,is]})}return n})();function LE(...n){const e=Ju(n),t=function Em(n){return In(ph(n))?n.pop():void 0}(n),{args:i,keys:r}=function uR(n){if(1===n.length){const e=n[0];if(x9(e))return{args:e,keys:null};if(function w9(n){return n&&"object"==typeof n&&b9(n)===E9}(e)){const t=M9(e);return{args:t.map(i=>e[i]),keys:t}}}return{args:n,keys:null}}(n);if(0===i.length)return ai([],e);const s=new Xn(function zY(n,e,t=po){return i=>{LO(e,()=>{const{length:r}=n,s=new Array(r);let o=r,a=r;for(let u=0;u<r;u++)LO(e,()=>{const l=ai(n[u],e);let c=!1;l.subscribe(Rn(i,f=>{s[u]=f,c||(c=!0,a--),a||i.next(t(s.slice()))},()=>{--o||i.complete()}))},i)},i)}}(i,e,r?o=>function cR(n,e){return n.reduce((t,i,r)=>(t[i]=e[r],t),{})}(r,o):po));return t?s.pipe(function lR(n){return ln(e=>function C9(n,e){return S9(e)?n(...e):n(e)}(n,e))}(t)):s}function LO(n,e,t){n?zs(t,n,e):e()}const n4=ho(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function FE(...n){return function GY(){return ja(1)}()(ai(n,Ju(n)))}function FO(n){return new Xn(e=>{oi(n()).subscribe(e)})}function i4(n,e){const t=In(n)?n:()=>n,i=r=>r.error(t());return new Xn(e?r=>e.schedule(i,0,r):i)}function kE(){return Ln((n,e)=>{let t=null;n._refCount++;const i=Rn(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const r=n._connection,s=t;t=null,r&&(!s||r===s)&&r.unsubscribe(),e.unsubscribe()});n.subscribe(i),i.closed||(t=n.connect())})}class kO extends Xn{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,rh(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ur;const t=this.getSubject();e.add(this.source.subscribe(Rn(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ur.EMPTY)}return e}refCount(){return kE()(this)}}function $d(n){return n<=0?()=>Tr:Ln((e,t)=>{let i=0;e.subscribe(Rn(t,r=>{++i<=n&&(t.next(r),n<=i&&t.complete())}))})}function Mu(n,e){return Ln((t,i)=>{let r=0;t.subscribe(Rn(i,s=>n.call(e,s,r++)&&i.next(s)))})}function r4(n){return Ln((e,t)=>{let i=!1;e.subscribe(Rn(t,r=>{i=!0,t.next(r)},()=>{i||t.next(n),t.complete()}))})}function UO(n=jY){return Ln((e,t)=>{let i=!1;e.subscribe(Rn(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(n())))})}function jY(){return new n4}function Pl(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Mu((r,s)=>n(r,s,i)):po,$d(1),t?r4(e):UO(()=>new n4))}function Kp(n,e){return In(e)?Ni(n,e,1):Ni(n,1)}function ir(n,e,t){const i=In(n)||e||t?{next:n,error:e,complete:t}:n;return i?Ln((r,s)=>{var o;null===(o=i.subscribe)||void 0===o||o.call(i);let a=!0;r.subscribe(Rn(s,u=>{var l;null===(l=i.next)||void 0===l||l.call(i,u),s.next(u)},()=>{var u;a=!1,null===(u=i.complete)||void 0===u||u.call(i),s.complete()},u=>{var l;a=!1,null===(l=i.error)||void 0===l||l.call(i,u),s.error(u)},()=>{var u,l;a&&(null===(u=i.unsubscribe)||void 0===u||u.call(i)),null===(l=i.finalize)||void 0===l||l.call(i)}))}):po}function qd(n){return Ln((e,t)=>{let s,i=null,r=!1;i=e.subscribe(Rn(t,void 0,void 0,o=>{s=oi(n(o,qd(n)(e))),i?(i.unsubscribe(),i=null,s.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,s.subscribe(t))})}function UE(n){return n<=0?()=>Tr:Ln((e,t)=>{let i=[];e.subscribe(Rn(t,r=>{i.push(r),n<i.length&&i.shift()},()=>{for(const r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function BE(n){return Ln((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Xt="primary",Jp=Symbol("RouteTitle");class KY{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Xd(n){return new KY(n)}function JY(n,e,t){const i=t.path.split("/");if(i.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||i.length<n.length))return null;const r={};for(let s=0;s<i.length;s++){const o=i[s],a=n[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,i.length),posParams:r}}function zo(n,e){const t=n?VE(n):void 0,i=e?VE(e):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let s=0;s<t.length;s++)if(r=t[s],!BO(n[r],e[r]))return!1;return!0}function VE(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function BO(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),i=[...e].sort();return t.every((r,s)=>i[s]===r)}return n===e}function VO(n){return n.length>0?n[n.length-1]:null}function wu(n){return function HY(n){return!!n&&(n instanceof Xn||In(n.lift)&&In(n.subscribe))}(n)?n:Ep(n)?ai(Promise.resolve(n)):vt(n)}const eZ={exact:function GO(n,e,t){if(!Ol(n.segments,e.segments)||!s4(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const i in e.children)if(!n.children[i]||!GO(n.children[i],e.children[i],t))return!1;return!0},subset:WO},HO={exact:function tZ(n,e){return zo(n,e)},subset:function nZ(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>BO(n[t],e[t]))},ignored:()=>!0};function zO(n,e,t){return eZ[t.paths](n.root,e.root,t.matrixParams)&&HO[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function WO(n,e,t){return jO(n,e,e.segments,t)}function jO(n,e,t,i){if(n.segments.length>t.length){const r=n.segments.slice(0,t.length);return!(!Ol(r,t)||e.hasChildren()||!s4(r,t,i))}if(n.segments.length===t.length){if(!Ol(n.segments,t)||!s4(n.segments,t,i))return!1;for(const r in e.children)if(!n.children[r]||!WO(n.children[r],e.children[r],i))return!1;return!0}{const r=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Ol(n.segments,r)&&s4(n.segments,r,i)&&n.children[Xt])&&jO(n.children[Xt],e,s,i)}}function s4(n,e,t){return e.every((i,r)=>HO[t](n[r].parameters,i.parameters))}class Yd{constructor(e=new Cn([],{}),t={},i=null){this.root=e,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xd(this.queryParams)),this._queryParamMap}toString(){return sZ.serialize(this)}}class Cn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return o4(this)}}class Qp{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Xd(this.parameters)),this._parameterMap}toString(){return XO(this)}}function Ol(n,e){return n.length===e.length&&n.every((t,i)=>t.path===e[i].path)}let Zd=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=it({token:n,factory:()=>new HE,providedIn:"root"})}return n})();class HE{parse(e){const t=new gZ(e);return new Yd(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${e0(e.root,!0)}`,i=function uZ(n){const e=Object.keys(n).map(t=>{const i=n[t];return Array.isArray(i)?i.map(r=>`${a4(t)}=${a4(r)}`).join("&"):`${a4(t)}=${a4(i)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${i}${"string"==typeof e.fragment?`#${function oZ(n){return encodeURI(n)}(e.fragment)}`:""}`}}const sZ=new HE;function o4(n){return n.segments.map(e=>XO(e)).join("/")}function e0(n,e){if(!n.hasChildren())return o4(n);if(e){const t=n.children[Xt]?e0(n.children[Xt],!1):"",i=[];return Object.entries(n.children).forEach(([r,s])=>{r!==Xt&&i.push(`${r}:${e0(s,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}{const t=function rZ(n,e){let t=[];return Object.entries(n.children).forEach(([i,r])=>{i===Xt&&(t=t.concat(e(r,i)))}),Object.entries(n.children).forEach(([i,r])=>{i!==Xt&&(t=t.concat(e(r,i)))}),t}(n,(i,r)=>r===Xt?[e0(n.children[Xt],!1)]:[`${r}:${e0(i,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Xt]?`${o4(n)}/${t[0]}`:`${o4(n)}/(${t.join("//")})`}}function $O(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function a4(n){return $O(n).replace(/%3B/gi,";")}function zE(n){return $O(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function u4(n){return decodeURIComponent(n)}function qO(n){return u4(n.replace(/\+/g,"%20"))}function XO(n){return`${zE(n.path)}${function aZ(n){return Object.keys(n).map(e=>`;${zE(e)}=${zE(n[e])}`).join("")}(n.parameters)}`}const lZ=/^[^\/()?;#]+/;function GE(n){const e=n.match(lZ);return e?e[0]:""}const cZ=/^[^\/()?;=#]+/,fZ=/^[^=?&#]+/,pZ=/^[^&#]+/;class gZ{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Cn([],{}):new Cn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(i[Xt]=new Cn(e,t)),i}parseSegment(){const e=GE(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new K(4009,!1);return this.capture(e),new Qp(u4(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function dZ(n){const e=n.match(cZ);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const r=GE(this.remaining);r&&(i=r,this.capture(i))}e[u4(t)]=u4(i)}parseQueryParam(e){const t=function hZ(n){const e=n.match(fZ);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){const o=function mZ(n){const e=n.match(pZ);return e?e[0]:""}(this.remaining);o&&(i=o,this.capture(i))}const r=qO(t),s=qO(i);if(e.hasOwnProperty(r)){let o=e[r];Array.isArray(o)||(o=[o],e[r]=o),o.push(s)}else e[r]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const i=GE(this.remaining),r=this.remaining[i.length];if("/"!==r&&")"!==r&&";"!==r)throw new K(4010,!1);let s;i.indexOf(":")>-1?(s=i.slice(0,i.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Xt);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[Xt]:new Cn([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new K(4011,!1)}}function YO(n){return n.segments.length>0?new Cn([],{[Xt]:n}):n}function ZO(n){const e={};for(const i of Object.keys(n.children)){const s=ZO(n.children[i]);if(i===Xt&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[i]=s)}return function vZ(n){if(1===n.numberOfChildren&&n.children[Xt]){const e=n.children[Xt];return new Cn(n.segments.concat(e.segments),e.children)}return n}(new Cn(n.segments,e))}function Nl(n){return n instanceof Yd}function KO(n){let e;const r=YO(function t(s){const o={};for(const u of s.children){const l=t(u);o[u.outlet]=l}const a=new Cn(s.url,o);return s===n&&(e=a),a}(n.root));return e??r}function JO(n,e,t,i){let r=n;for(;r.parent;)r=r.parent;if(0===e.length)return WE(r,r,r,t,i);const s=function yZ(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new eN(!0,0,n);let e=0,t=!1;const i=n.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([u,l])=>{a[u]="string"==typeof l?l.split("/"):l}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((a,u)=>{0==u&&"."===a||(0==u&&""===a?t=!0:".."===a?e++:""!=a&&r.push(a))}),r):[...r,s]},[]);return new eN(t,e,i)}(e);if(s.toRoot())return WE(r,r,new Cn([],{}),t,i);const o=function xZ(n,e,t){if(n.isAbsolute)return new c4(e,!0,0);if(!t)return new c4(e,!1,NaN);if(null===t.parent)return new c4(t,!0,0);const i=l4(n.commands[0])?0:1;return function bZ(n,e,t){let i=n,r=e,s=t;for(;s>r;){if(s-=r,i=i.parent,!i)throw new K(4005,!1);r=i.segments.length}return new c4(i,!1,r-s)}(t,t.segments.length-1+i,n.numberOfDoubleDots)}(s,r,n),a=o.processChildren?n0(o.segmentGroup,o.index,s.commands):tN(o.segmentGroup,o.index,s.commands);return WE(r,o.segmentGroup,a,t,i)}function l4(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function t0(n){return"object"==typeof n&&null!=n&&n.outlets}function WE(n,e,t,i,r){let o,s={};i&&Object.entries(i).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(c=>`${c}`):`${l}`}),o=n===e?t:QO(n,e,t);const a=YO(ZO(o));return new Yd(a,s,r)}function QO(n,e,t){const i={};return Object.entries(n.children).forEach(([r,s])=>{i[r]=s===e?t:QO(s,e,t)}),new Cn(n.segments,i)}class eN{constructor(e,t,i){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=i,e&&i.length>0&&l4(i[0]))throw new K(4003,!1);const r=i.find(t0);if(r&&r!==VO(i))throw new K(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class c4{constructor(e,t,i){this.segmentGroup=e,this.processChildren=t,this.index=i}}function tN(n,e,t){if(n||(n=new Cn([],{})),0===n.segments.length&&n.hasChildren())return n0(n,e,t);const i=function MZ(n,e,t){let i=0,r=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(i>=t.length)return s;const o=n.segments[r],a=t[i];if(t0(a))break;const u=`${a}`,l=i<t.length-1?t[i+1]:null;if(r>0&&void 0===u)break;if(u&&l&&"object"==typeof l&&void 0===l.outlets){if(!iN(u,l,o))return s;i+=2}else{if(!iN(u,{},o))return s;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(n,e,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<n.segments.length){const s=new Cn(n.segments.slice(0,i.pathIndex),{});return s.children[Xt]=new Cn(n.segments.slice(i.pathIndex),n.children),n0(s,0,r)}return i.match&&0===r.length?new Cn(n.segments,{}):i.match&&!n.hasChildren()?jE(n,e,t):i.match?n0(n,0,r):jE(n,e,t)}function n0(n,e,t){if(0===t.length)return new Cn(n.segments,{});{const i=function EZ(n){return t0(n[0])?n[0].outlets:{[Xt]:n}}(t),r={};if(Object.keys(i).some(s=>s!==Xt)&&n.children[Xt]&&1===n.numberOfChildren&&0===n.children[Xt].segments.length){const s=n0(n.children[Xt],e,t);return new Cn(n.segments,s.children)}return Object.entries(i).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(r[s]=tN(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{void 0===i[s]&&(r[s]=o)}),new Cn(n.segments,r)}}function jE(n,e,t){const i=n.segments.slice(0,e);let r=0;for(;r<t.length;){const s=t[r];if(t0(s)){const u=wZ(s.outlets);return new Cn(i,u)}if(0===r&&l4(t[0])){i.push(new Qp(n.segments[e].path,nN(t[0]))),r++;continue}const o=t0(s)?s.outlets[Xt]:`${s}`,a=r<t.length-1?t[r+1]:null;o&&a&&l4(a)?(i.push(new Qp(o,nN(a))),r+=2):(i.push(new Qp(o,{})),r++)}return new Cn(i,{})}function wZ(n){const e={};return Object.entries(n).forEach(([t,i])=>{"string"==typeof i&&(i=[i]),null!==i&&(e[t]=jE(new Cn([],{}),0,i))}),e}function nN(n){const e={};return Object.entries(n).forEach(([t,i])=>e[t]=`${i}`),e}function iN(n,e,t){return n==t.path&&zo(e,t.parameters)}const r0="imperative";class Go{constructor(e,t){this.id=e,this.url=t}}class d4 extends Go{constructor(e,t,i="imperative",r=null){super(e,t),this.type=0,this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ba extends Go{constructor(e,t,i){super(e,t),this.urlAfterRedirects=i,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Kd extends Go{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Jd extends Go{constructor(e,t,i,r){super(e,t),this.reason=i,this.code=r,this.type=16}}class f4 extends Go{constructor(e,t,i,r){super(e,t),this.error=i,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class rN extends Go{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class SZ extends Go{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class CZ extends Go{constructor(e,t,i,r,s){super(e,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class DZ extends Go{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class AZ extends Go{constructor(e,t,i,r){super(e,t),this.urlAfterRedirects=i,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class TZ{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class IZ{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class RZ{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class PZ{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class OZ{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class NZ{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class sN{constructor(e,t,i){this.routerEvent=e,this.position=t,this.anchor=i,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class $E{}class qE{constructor(e){this.url=e}}class LZ{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new s0,this.attachRef=null}}let s0=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,i){const r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){const i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new LZ,this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class oN{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=XE(e,this._root);return t?t.children.map(i=>i.value):[]}firstChild(e){const t=XE(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=YE(e,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==e)}pathFromRoot(e){return YE(e,this._root).map(t=>t.value)}}function XE(n,e){if(n===e.value)return e;for(const t of e.children){const i=XE(n,t);if(i)return i}return null}function YE(n,e){if(n===e.value)return[e];for(const t of e.children){const i=YE(n,t);if(i.length)return i.unshift(e),i}return[]}class oo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Qd(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class aN extends oN{constructor(e,t){super(e),this.snapshot=t,JE(this,e)}toString(){return this.snapshot.toString()}}function uN(n,e){const t=function FZ(n,e){const o=new KE([],{},{},"",{},Xt,e,null,{});return new lN("",new oo(o,[]))}(0,e),i=new lr([new Qp("",{})]),r=new lr({}),s=new lr({}),o=new lr({}),a=new lr(""),u=new ef(i,r,o,a,s,Xt,e,t.root);return u.snapshot=t.root,new aN(new oo(u,[]),t)}class ef{constructor(e,t,i,r,s,o,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ln(l=>l[Jp]))??vt(void 0),this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ln(e=>Xd(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ln(e=>Xd(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ZE(n,e,t="emptyOnly"){let i;const{routeConfig:r}=n;return i=null===e||"always"!==t&&""!==r?.path&&(e.component||e.routeConfig?.loadComponent)?{params:n.params,data:n.data,resolve:{...n.data,...n._resolvedData??{}}}:{params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.data,...r?.data,...n._resolvedData}},r&&dN(r)&&(i.resolve[Jp]=r.title),i}class KE{get title(){return this.data?.[Jp]}constructor(e,t,i,r,s,o,a,u,l){this.url=e,this.params=t,this.queryParams=i,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Xd(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Xd(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(i=>i.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class lN extends oN{constructor(e,t){super(t),this.url=e,JE(this,t)}toString(){return cN(this._root)}}function JE(n,e){e.value._routerState=n,e.children.forEach(t=>JE(n,t))}function cN(n){const e=n.children.length>0?` { ${n.children.map(cN).join(", ")} } `:"";return`${n.value}${e}`}function QE(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,zo(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),zo(e.params,t.params)||n.paramsSubject.next(t.params),function QY(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!zo(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),zo(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function eM(n,e){const t=zo(n.params,e.params)&&function iZ(n,e){return Ol(n,e)&&n.every((t,i)=>zo(t.parameters,e[i].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||eM(n.parent,e.parent))}function dN(n){return"string"==typeof n.title||null===n.title}let tM=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Xt,this.activateEvents=new Pn,this.deactivateEvents=new Pn,this.attachEvents=new Pn,this.detachEvents=new Pn,this.parentContexts=Oe(s0),this.location=Oe(Ks),this.changeDetector=Oe(rp),this.environmentInjector=Oe(Es),this.inputBinder=Oe(h4,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new K(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new K(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new K(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new K(4013,!1);this._activatedRoute=t;const r=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new kZ(t,a,r.injector);this.activated=r.createComponent(o,{index:r.length,injector:u,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=bt({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Yr]})}return n})();class kZ{constructor(e,t,i){this.route=e,this.childContexts=t,this.parent=i}get(e,t){return e===ef?this.route:e===s0?this.childContexts:this.parent.get(e,t)}}const h4=new he("");let fN=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:i}=t,r=LE([i.queryParams,i.params,i.data]).pipe(jr(([s,o,a],u)=>(a={...s,...o,...a},0===u?vt(a):Promise.resolve(a)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(t);const o=function Yj(n){const e=Jt(n);if(!e)return null;const t=new sp(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(i.component);if(o)for(const{templateName:a}of o.inputs)t.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,r)}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=it({token:n,factory:n.\u0275fac})}return n})();function o0(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const i=t.value;i._futureSnapshot=e.value;const r=function BZ(n,e,t){return e.children.map(i=>{for(const r of t.children)if(n.shouldReuseRoute(i.value,r.value.snapshot))return o0(n,i,r);return o0(n,i)})}(n,e,t);return new oo(i,r)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>o0(n,a)),o}}const i=function VZ(n){return new ef(new lr(n.url),new lr(n.params),new lr(n.queryParams),new lr(n.fragment),new lr(n.data),n.outlet,n.component,n)}(e.value),r=e.children.map(s=>o0(n,s));return new oo(i,r)}}const nM="ngNavigationCancelingError";function hN(n,e){const{redirectTo:t,navigationBehaviorOptions:i}=Nl(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,r=pN(!1,0,e);return r.url=t,r.navigationBehaviorOptions=i,r}function pN(n,e,t){const i=new Error("NavigationCancelingError: "+(n||""));return i[nM]=!0,i.cancellationCode=e,t&&(i.url=t),i}function mN(n){return n&&n[nM]}let gN=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=cn({type:n,selectors:[["ng-component"]],standalone:!0,features:[KT],decls:1,vars:0,template:function(i,r){1&i&&Ae(0,"router-outlet")},dependencies:[tM],encapsulation:2})}return n})();function iM(n){const e=n.children&&n.children.map(iM),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Xt&&(t.component=gN),t}function Wo(n){return n.outlet||Xt}function a0(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class XZ{constructor(e,t,i,r,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=s}activate(e){const t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,e),QE(this.futureState.root),this.activateChildRoutes(t,i,e)}deactivateChildRoutes(e,t,i){const r=Qd(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],i),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,i)})}deactivateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(r===s)if(r.component){const o=i.getContext(r.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,i);else s&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Qd(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);if(i&&i.outlet){const o=i.outlet.detach(),a=i.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const i=t.getContext(e.value.outlet),r=i&&e.value.component?i.children:t,s=Qd(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(e,t,i){const r=Qd(t);e.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],i),this.forwardEvent(new NZ(s.value.snapshot))}),e.children.length&&this.forwardEvent(new PZ(e.value.snapshot))}activateRoutes(e,t,i){const r=e.value,s=t?t.value:null;if(QE(r),r===s)if(r.component){const o=i.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,i);else if(r.component){const o=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),QE(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=a0(r.snapshot);o.attachRef=null,o.route=r,o.injector=a,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,i)}}class vN{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class p4{constructor(e,t){this.component=e,this.route=t}}function YZ(n,e,t){const i=n._root;return u0(i,e?e._root:null,t,[i.value])}function tf(n,e){const t=Symbol(),i=e.get(n,t);return i===t?"function"!=typeof n||function _y(n){return null!==Xa(n)}(n)?e.get(n):n:i}function u0(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Qd(e);return n.children.forEach(o=>{(function KZ(n,e,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function JZ(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Ol(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Ol(n.url,e.url)||!zo(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!eM(n,e)||!zo(n.queryParams,e.queryParams);default:return!eM(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?r.canActivateChecks.push(new vN(i)):(s.data=o.data,s._resolvedData=o._resolvedData),u0(n,e,s.component?a?a.children:null:t,i,r),u&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new p4(a.outlet.component,o))}else o&&l0(e,a,r),r.canActivateChecks.push(new vN(i)),u0(n,null,s.component?a?a.children:null:t,i,r)})(o,s[o.value.outlet],t,i.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>l0(a,t.getContext(o),r)),r}function l0(n,e,t){const i=Qd(n),r=n.value;Object.entries(i).forEach(([s,o])=>{l0(o,r.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new p4(r.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,r))}function c0(n){return"function"==typeof n}function _N(n){return n instanceof n4||"EmptyError"===n?.name}const m4=Symbol("INITIAL_VALUE");function nf(){return jr(n=>LE(n.map(e=>e.pipe($d(1),function WY(...n){const e=Ju(n);return Ln((t,i)=>{(e?FE(n,t,e):FE(n,t)).subscribe(i)})}(m4)))).pipe(ln(e=>{for(const t of e)if(!0!==t){if(t===m4)return m4;if(!1===t||t instanceof Yd)return t}return!0}),Mu(e=>e!==m4),$d(1)))}function yN(n){return function Ha(...n){return za(n)}(ir(e=>{if(Nl(e))throw hN(0,e)}),ln(e=>!0===e))}class rM{constructor(e){this.segmentGroup=e||null}}class sM extends Error{constructor(e){super(),this.urlTree=e}}function rf(n){return i4(new rM(n))}class _K{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),0===r.numberOfChildren)return vt(i);if(r.numberOfChildren>1||!r.children[Xt])return i4(new K(4e3,!1));r=r.children[Xt]}}applyRedirectCommands(e,t,i){const r=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,i);if(t.startsWith("/"))throw new sM(r);return r}applyRedirectCreateUrlTree(e,t,i,r){const s=this.createSegmentGroup(e,t.root,i,r);return new Yd(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const i={};return Object.entries(e).forEach(([r,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);i[r]=t[a]}else i[r]=s}),i}createSegmentGroup(e,t,i,r){const s=this.createSegments(e,t.segments,i,r);let o={};return Object.entries(t.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,i,r)}),new Cn(s,o)}createSegments(e,t,i,r){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,r):this.findOrReturn(s,i))}findPosParam(e,t,i){const r=i[t.path.substring(1)];if(!r)throw new K(4001,!1);return r}findOrReturn(e,t){let i=0;for(const r of t){if(r.path===e.path)return t.splice(i),r;i++}return e}}const oM={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function yK(n,e,t,i,r){const s=aM(n,e,t);return s.matched?(i=function zZ(n,e){return n.providers&&!n._injector&&(n._injector=Ub(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,i),function mK(n,e,t,i){const r=e.canMatch;return r&&0!==r.length?vt(r.map(o=>{const a=tf(o,n);return wu(function rK(n){return n&&c0(n.canMatch)}(a)?a.canMatch(e,t):ll(n,()=>a(e,t)))})).pipe(nf(),yN()):vt(!0)}(i,e,t).pipe(ln(o=>!0===o?s:{...oM}))):vt(s)}function aM(n,e,t){if("**"===e.path)return function xK(n){return{matched:!0,parameters:n.length>0?VO(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}(t);if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...oM}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const r=(e.matcher||JY)(t,n,e);if(!r)return{...oM};const s={};Object.entries(r.posParams??{}).forEach(([a,u])=>{s[a]=u.path});const o=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function xN(n,e,t,i){return t.length>0&&function MK(n,e,t){return t.some(i=>g4(n,e,i)&&Wo(i)!==Xt)}(n,t,i)?{segmentGroup:new Cn(e,EK(i,new Cn(t,n.children))),slicedSegments:[]}:0===t.length&&function wK(n,e,t){return t.some(i=>g4(n,e,i))}(n,t,i)?{segmentGroup:new Cn(n.segments,bK(n,0,t,i,n.children)),slicedSegments:t}:{segmentGroup:new Cn(n.segments,n.children),slicedSegments:t}}function bK(n,e,t,i,r){const s={};for(const o of i)if(g4(n,t,o)&&!r[Wo(o)]){const a=new Cn([],{});s[Wo(o)]=a}return{...r,...s}}function EK(n,e){const t={};t[Xt]=e;for(const i of n)if(""===i.path&&Wo(i)!==Xt){const r=new Cn([],{});t[Wo(i)]=r}return t}function g4(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class DK{}class IK{constructor(e,t,i,r,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new _K(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new K(4002,`'${e.segmentGroup}'`)}recognize(){const e=xN(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ln(t=>{const i=new KE([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Xt,this.rootComponentType,null,{}),r=new oo(i,t),s=new lN("",r),o=function _Z(n,e,t=null,i=null){return JO(KO(n),e,t,i)}(i,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e,Xt).pipe(qd(i=>{if(i instanceof sM)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof rM?this.noMatchError(i):i}))}inheritParamsAndData(e,t){const i=e.value,r=ZE(i,t,this.paramsInheritanceStrategy);i.params=Object.freeze(r.params),i.data=Object.freeze(r.data),e.children.forEach(s=>this.inheritParamsAndData(s,i))}processSegmentGroup(e,t,i,r){return 0===i.segments.length&&i.hasChildren()?this.processChildren(e,t,i):this.processSegment(e,t,i,i.segments,r,!0).pipe(ln(s=>s instanceof oo?[s]:[]))}processChildren(e,t,i){const r=[];for(const s of Object.keys(i.children))"primary"===s?r.unshift(s):r.push(s);return ai(r).pipe(Kp(s=>{const o=i.children[s],a=function $Z(n,e){const t=n.filter(i=>Wo(i)===e);return t.push(...n.filter(i=>Wo(i)!==e)),t}(t,s);return this.processSegmentGroup(e,a,o,s)}),function qY(n,e){return Ln(function $Y(n,e,t,i,r){return(s,o)=>{let a=t,u=e,l=0;s.subscribe(Rn(o,c=>{const f=l++;u=a?n(u,c,f):(a=!0,c),i&&o.next(u)},r&&(()=>{a&&o.next(u),o.complete()})))}}(n,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),r4(null),function XY(n,e){const t=arguments.length>=2;return i=>i.pipe(n?Mu((r,s)=>n(r,s,i)):po,UE(1),t?r4(e):UO(()=>new n4))}(),Ni(s=>{if(null===s)return rf(i);const o=bN(s);return function RK(n){n.sort((e,t)=>e.value.outlet===Xt?-1:t.value.outlet===Xt?1:e.value.outlet.localeCompare(t.value.outlet))}(o),vt(o)}))}processSegment(e,t,i,r,s,o){return ai(t).pipe(Kp(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,i,r,s,o).pipe(qd(u=>{if(u instanceof rM)return vt(null);throw u}))),Pl(a=>!!a),qd(a=>{if(_N(a))return function CK(n,e,t){return 0===e.length&&!n.children[t]}(i,r,s)?vt(new DK):rf(i);throw a}))}processSegmentAgainstRoute(e,t,i,r,s,o,a){return function SK(n,e,t,i){return!!(Wo(n)===i||i!==Xt&&g4(e,t,n))&&aM(e,n,t).matched}(i,r,s,o)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,r,i,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,r,t,i,s,o):rf(r):rf(r)}expandSegmentAgainstRouteUsingRedirect(e,t,i,r,s,o){const{matched:a,consumedSegments:u,positionalParamSegments:l,remainingSegments:c}=aM(t,r,s);if(!a)return rf(t);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const f=this.applyRedirects.applyRedirectCommands(u,r.redirectTo,l);return this.applyRedirects.lineralizeSegments(r,f).pipe(Ni(h=>this.processSegment(e,i,t,h.concat(c),o,!1)))}matchSegmentAgainstRoute(e,t,i,r,s){const o=yK(t,i,r,e);return"**"===i.path&&(t.children={}),o.pipe(jr(a=>a.matched?this.getChildConfig(e=i._injector??e,i,r).pipe(jr(({routes:u})=>{const l=i._loadedInjector??e,{consumedSegments:c,remainingSegments:f,parameters:h}=a,p=new KE(c,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function OK(n){return n.data||{}}(i),Wo(i),i.component??i._loadedComponent??null,i,function NK(n){return n.resolve||{}}(i)),{segmentGroup:g,slicedSegments:x}=xN(t,c,f,u);if(0===x.length&&g.hasChildren())return this.processChildren(l,u,g).pipe(ln(v=>null===v?null:new oo(p,v)));if(0===u.length&&0===x.length)return vt(new oo(p,[]));const _=Wo(i)===s;return this.processSegment(l,u,g,x,_?Xt:s,!0).pipe(ln(v=>new oo(p,v instanceof oo?[v]:[])))})):rf(t)))}getChildConfig(e,t,i){return t.children?vt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?vt({routes:t._loadedRoutes,injector:t._loadedInjector}):function pK(n,e,t,i){const r=e.canLoad;return void 0===r||0===r.length?vt(!0):vt(r.map(o=>{const a=tf(o,n);return wu(function eK(n){return n&&c0(n.canLoad)}(a)?a.canLoad(e,t):ll(n,()=>a(e,t)))})).pipe(nf(),yN())}(e,t,i).pipe(Ni(r=>r?this.configLoader.loadChildren(e,t).pipe(ir(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function vK(n){return i4(pN(!1,3))}())):vt({routes:[],injector:e})}}function PK(n){const e=n.value.routeConfig;return e&&""===e.path}function bN(n){const e=[],t=new Set;for(const i of n){if(!PK(i)){e.push(i);continue}const r=e.find(s=>i.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...i.children),t.add(r)):e.push(i)}for(const i of t){const r=bN(i.children);e.push(new oo(i.value,r))}return e.filter(i=>!t.has(i))}function EN(n){const e=n.children.map(t=>EN(t)).flat();return[n,...e]}function uM(n){return jr(e=>{const t=n(e);return t?ai(t).pipe(ln(()=>e)):vt(e)})}let MN=(()=>{class n{buildTitle(t){let i,r=t.root;for(;void 0!==r;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(s=>s.outlet===Xt);return i}getResolvedTitleForRoute(t){return t.data[Jp]}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=it({token:n,factory:()=>Oe(VK),providedIn:"root"})}return n})(),VK=(()=>{class n extends MN{constructor(t){super(),this.title=t}updateTitle(t){const i=this.buildTitle(t);void 0!==i&&this.title.setTitle(i)}static#e=this.\u0275fac=function(i){return new(i||n)(_t(rR))};static#t=this.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const sf=new he("",{providedIn:"root",factory:()=>({})}),af=new he("ROUTES");let lM=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Oe(LI)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return vt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const i=wu(t.loadComponent()).pipe(ln(wN),ir(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),BE(()=>{this.componentLoaders.delete(t)})),r=new kO(i,()=>new Wr).pipe(kE());return this.componentLoaders.set(t,r),r}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return vt({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const s=function HK(n,e,t,i){return wu(n.loadChildren()).pipe(ln(wN),Ni(r=>r instanceof YT||Array.isArray(r)?vt(r):ai(e.compileModuleAsync(r))),ln(r=>{i&&i(n);let s,o,a=!1;return Array.isArray(r)?(o=r,!0):(s=r.create(t).injector,o=s.get(af,[],{optional:!0,self:!0}).flat()),{routes:o.map(iM),injector:s}}))}(i,this.compiler,t,this.onLoadEndListener).pipe(BE(()=>{this.childrenLoaders.delete(i)})),o=new kO(s,()=>new Wr).pipe(kE());return this.childrenLoaders.set(i,o),o}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function wN(n){return function zK(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let cM=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=it({token:n,factory:()=>Oe(GK),providedIn:"root"})}return n})(),GK=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const SN=new he(""),CN=new he("");function WK(n,e,t){const i=n.get(CN),r=n.get(es);return n.get(En).runOutsideAngular(()=>{if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,Promise.resolve();let s;const o=new Promise(l=>{s=l}),a=r.startViewTransition(()=>(s(),function jK(n){return new Promise(e=>{gD(e,{injector:n})})}(n))),{onViewTransitionCreated:u}=i;return u&&ll(n,()=>u({transition:a,from:e,to:t})),o})}let v4=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Wr,this.transitionAbortSubject=new Wr,this.configLoader=Oe(lM),this.environmentInjector=Oe(Es),this.urlSerializer=Oe(Zd),this.rootContexts=Oe(s0),this.location=Oe(Tp),this.inputBindingEnabled=null!==Oe(h4,{optional:!0}),this.titleStrategy=Oe(MN),this.options=Oe(sf,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=Oe(cM),this.createViewTransition=Oe(SN,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>vt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new IZ(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new TZ(r))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:i})}setupNavigations(t,i,r){return this.transitions=new lr({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:r0,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Mu(s=>0!==s.id),ln(s=>({...s,extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),jr(s=>{this.currentTransition=s;let o=!1,a=!1;return vt(s).pipe(ir(u=>{this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),jr(u=>{const l=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!l&&"reload"!==(u.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const f="";return this.events.next(new Jd(u.id,this.urlSerializer.serialize(u.rawUrl),f,0)),u.resolve(null),Tr}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return vt(u).pipe(jr(f=>{const h=this.transitions?.getValue();return this.events.next(new d4(f.id,this.urlSerializer.serialize(f.extractedUrl),f.source,f.restoredState)),h!==this.transitions?.getValue()?Tr:Promise.resolve(f)}),function LK(n,e,t,i,r,s){return Ni(o=>function AK(n,e,t,i,r,s,o="emptyOnly"){return new IK(n,e,t,i,r,o,s).recognize()}(n,e,t,i,o.extractedUrl,r,s).pipe(ln(({state:a,tree:u})=>({...o,targetSnapshot:a,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),ir(f=>{s.targetSnapshot=f.targetSnapshot,s.urlAfterRedirects=f.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:f.urlAfterRedirects};const h=new rN(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(h)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){const{id:f,extractedUrl:h,source:p,restoredState:g,extras:x}=u,_=new d4(f,this.urlSerializer.serialize(h),p,g);this.events.next(_);const v=uN(0,this.rootComponentType).snapshot;return this.currentTransition=s={...u,targetSnapshot:v,urlAfterRedirects:h,extras:{...x,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=h,vt(s)}{const f="";return this.events.next(new Jd(u.id,this.urlSerializer.serialize(u.extractedUrl),f,1)),u.resolve(null),Tr}}),ir(u=>{const l=new SZ(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(l)}),ln(u=>(this.currentTransition=s={...u,guards:YZ(u.targetSnapshot,u.currentSnapshot,this.rootContexts)},s)),function oK(n,e){return Ni(t=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?vt({...t,guardsResult:!0}):function aK(n,e,t,i){return ai(n).pipe(Ni(r=>function hK(n,e,t,i,r){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?vt(s.map(a=>{const u=a0(e)??r,l=tf(a,u);return wu(function iK(n){return n&&c0(n.canDeactivate)}(l)?l.canDeactivate(n,e,t,i):ll(u,()=>l(n,e,t,i))).pipe(Pl())})).pipe(nf()):vt(!0)}(r.component,r.route,t,e,i)),Pl(r=>!0!==r,!0))}(o,i,r,n).pipe(Ni(a=>a&&function QZ(n){return"boolean"==typeof n}(a)?function uK(n,e,t,i){return ai(e).pipe(Kp(r=>FE(function cK(n,e){return null!==n&&e&&e(new RZ(n)),vt(!0)}(r.route.parent,i),function lK(n,e){return null!==n&&e&&e(new OZ(n)),vt(!0)}(r.route,i),function fK(n,e,t){const i=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function ZZ(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>FO(()=>vt(o.guards.map(u=>{const l=a0(o.node)??t,c=tf(u,l);return wu(function nK(n){return n&&c0(n.canActivateChild)}(c)?c.canActivateChild(i,n):ll(l,()=>c(i,n))).pipe(Pl())})).pipe(nf())));return vt(s).pipe(nf())}(n,r.path,t),function dK(n,e,t){const i=e.routeConfig?e.routeConfig.canActivate:null;if(!i||0===i.length)return vt(!0);const r=i.map(s=>FO(()=>{const o=a0(e)??t,a=tf(s,o);return wu(function tK(n){return n&&c0(n.canActivate)}(a)?a.canActivate(e,n):ll(o,()=>a(e,n))).pipe(Pl())}));return vt(r).pipe(nf())}(n,r.route,t))),Pl(r=>!0!==r,!0))}(i,s,n,e):vt(a)),ln(a=>({...t,guardsResult:a})))})}(this.environmentInjector,u=>this.events.next(u)),ir(u=>{if(s.guardsResult=u.guardsResult,Nl(u.guardsResult))throw hN(0,u.guardsResult);const l=new CZ(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(l)}),Mu(u=>!!u.guardsResult||(this.cancelNavigationTransition(u,"",3),!1)),uM(u=>{if(u.guards.canActivateChecks.length)return vt(u).pipe(ir(l=>{const c=new DZ(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}),jr(l=>{let c=!1;return vt(l).pipe(function FK(n,e){return Ni(t=>{const{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return vt(t);const s=new Set(r.map(u=>u.route)),o=new Set;for(const u of s)if(!o.has(u))for(const l of EN(u))o.add(l);let a=0;return ai(o).pipe(Kp(u=>s.has(u)?function kK(n,e,t,i){const r=n.routeConfig,s=n._resolve;return void 0!==r?.title&&!dN(r)&&(s[Jp]=r.title),function UK(n,e,t,i){const r=VE(n);if(0===r.length)return vt({});const s={};return ai(r).pipe(Ni(o=>function BK(n,e,t,i){const r=a0(e)??i,s=tf(n,r);return wu(s.resolve?s.resolve(e,t):ll(r,()=>s(e,t)))}(n[o],e,t,i).pipe(Pl(),ir(a=>{s[o]=a}))),UE(1),function YY(n){return ln(()=>n)}(s),qd(o=>_N(o)?Tr:i4(o)))}(s,n,e,i).pipe(ln(o=>(n._resolvedData=o,n.data=ZE(n,n.parent,t).resolve,null)))}(u,i,n,e):(u.data=ZE(u,u.parent,n).resolve,vt(void 0))),ir(()=>a++),UE(1),Ni(u=>a===o.size?vt(t):Tr))})}(this.paramsInheritanceStrategy,this.environmentInjector),ir({next:()=>c=!0,complete:()=>{c||this.cancelNavigationTransition(l,"",2)}}))}),ir(l=>{const c=new AZ(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}))}),uM(u=>{const l=c=>{const f=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(c.routeConfig).pipe(ir(h=>{c.component=h}),ln(()=>{})));for(const h of c.children)f.push(...l(h));return f};return LE(l(u.targetSnapshot.root)).pipe(r4(),$d(1))}),uM(()=>this.afterPreactivation()),jr(()=>{const{currentSnapshot:u,targetSnapshot:l}=s,c=this.createViewTransition?.(this.environmentInjector,u.root,l.root);return c?ai(c).pipe(ln(()=>s)):vt(s)}),ln(u=>{const l=function UZ(n,e,t){const i=o0(n,e._root,t?t._root:void 0);return new aN(i,e)}(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s={...u,targetRouterState:l},this.currentNavigation.targetRouterState=l,s}),ir(()=>{this.events.next(new $E)}),((n,e,t,i)=>ln(r=>(new XZ(e,r.targetRouterState,r.currentRouterState,t,i).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),$d(1),ir({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ba(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),function ZY(n){return Ln((e,t)=>{oi(n).subscribe(Rn(t,()=>t.complete(),Cr)),!t.closed&&e.subscribe(t)})}(this.transitionAbortSubject.pipe(ir(u=>{throw u}))),BE(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),qd(u=>{if(a=!0,mN(u))this.events.next(new Kd(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),function HZ(n){return mN(n)&&Nl(n.url)}(u)?this.events.next(new qE(u.url)):s.resolve(!1);else{this.events.next(new f4(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0));try{s.resolve(t.errorHandler(u))}catch(l){s.reject(l)}}return Tr}))}))}cancelNavigationTransition(t,i,r){const s=new Kd(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function $K(n){return n!==r0}let qK=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=it({token:n,factory:()=>Oe(YK),providedIn:"root"})}return n})();class XK{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let YK=(()=>{class n extends XK{static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=ki(n)))(r||n)}})();static#t=this.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),DN=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=it({token:n,factory:()=>Oe(ZK),providedIn:"root"})}return n})(),ZK=(()=>{class n extends DN{constructor(){super(...arguments),this.location=Oe(Tp),this.urlSerializer=Oe(Zd),this.options=Oe(sf,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=Oe(cM),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Yd,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=uN(0,null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{"popstate"===i.type&&t(i.url,i.state)})}handleRouterEvent(t,i){if(t instanceof d4)this.stateMemento=this.createStateMemento();else if(t instanceof Jd)this.rawUrlTree=i.initialUrl;else if(t instanceof rN){if("eager"===this.urlUpdateStrategy&&!i.extras.skipLocationChange){const r=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(r,i)}}else t instanceof $E?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i))):t instanceof Kd&&(3===t.code||2===t.code)?this.restoreHistory(i):t instanceof f4?this.restoreHistory(i,!0):t instanceof ba&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,i){const r=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(r)||i.extras.replaceUrl){const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(r,"",o)}else{const s={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(r,"",s)}}restoreHistory(t,i=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===t.finalUrl&&0===s&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static#e=this.\u0275fac=(()=>{let t;return function(r){return(t||(t=ki(n)))(r||n)}})();static#t=this.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var d0=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(d0||{});function AN(n,e){n.events.pipe(Mu(t=>t instanceof ba||t instanceof Kd||t instanceof f4||t instanceof Jd),ln(t=>t instanceof ba||t instanceof Jd?d0.COMPLETE:t instanceof Kd&&(0===t.code||1===t.code)?d0.REDIRECTING:d0.FAILED),Mu(t=>t!==d0.REDIRECTING),$d(1)).subscribe(()=>{e()})}function KK(n){throw n}const JK={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},QK={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let as=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=Oe(OI),this.stateManager=Oe(DN),this.options=Oe(sf,{optional:!0})||{},this.pendingTasks=Oe(NI),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=Oe(v4),this.urlSerializer=Oe(Zd),this.location=Oe(Tp),this.urlHandlingStrategy=Oe(cM),this._events=new Wr,this.errorHandler=this.options.errorHandler||KK,this.navigated=!1,this.routeReuseStrategy=Oe(qK),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=Oe(af,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!Oe(h4,{optional:!0}),this.eventsSubscription=new ur,this.isNgZoneEnabled=Oe(En)instanceof En&&En.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(i=>{try{const r=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(null!==r&&null!==s)if(this.stateManager.handleRouterEvent(i,s),i instanceof Kd&&0!==i.code&&1!==i.code)this.navigated=!0;else if(i instanceof ba)this.navigated=!0;else if(i instanceof qE){const o=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),a={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||$K(r.source)};this.scheduleNavigation(o,r0,null,a,{resolve:r.resolve,reject:r.reject,promise:r.promise})}(function tJ(n){return!(n instanceof $E||n instanceof qE)})(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),r0,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",i)},0)}))}navigateToSyncWithBrowser(t,i,r){const s={replaceUrl:!0},o=r?.navigationId?r:null;if(r){const u={...r};delete u.navigationId,delete u.\u0275routerPageId,0!==Object.keys(u).length&&(s.state=u)}const a=this.parseUrl(t);this.scheduleNavigation(a,i,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(iM),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=i,l=u?this.currentUrlTree.fragment:o;let f,c=null;switch(a){case"merge":c={...this.currentUrlTree.queryParams,...s};break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=s||null}null!==c&&(c=this.removeEmptyProps(c));try{f=KO(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),f=this.currentUrlTree.root}return JO(f,t,c,l??null)}navigateByUrl(t,i={skipLocationChange:!1}){const r=Nl(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,r0,null,i)}navigate(t,i={skipLocationChange:!1}){return function eJ(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new K(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,i){let r;if(r=!0===i?{...JK}:!1===i?{...QK}:i,Nl(t))return zO(this.currentUrlTree,t,r);const s=this.parseUrl(t);return zO(this.currentUrlTree,s,r)}removeEmptyProps(t){return Object.keys(t).reduce((i,r)=>{const s=t[r];return null!=s&&(i[r]=s),i},{})}scheduleNavigation(t,i,r,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,l;o?(a=o.resolve,u=o.reject,l=o.promise):l=new Promise((f,h)=>{a=f,u=h});const c=this.pendingTasks.add();return AN(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(c))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(f=>Promise.reject(f))}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class TN{}let rJ=(()=>{class n{constructor(t,i,r,s,o){this.router=t,this.injector=r,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Mu(t=>t instanceof ba),Kp(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){const r=[];for(const s of i){s.providers&&!s._injector&&(s._injector=Ub(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(a,s.children??s._loadedRoutes))}return ai(r).pipe(ja())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;r=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(t,i):vt(null);const s=r.pipe(Ni(o=>null===o?vt(void 0):(i._loadedRoutes=o.routes,i._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return i.loadComponent&&!i._loadedComponent?ai([s,this.loader.loadComponent(i)]).pipe(ja()):s})}static#e=this.\u0275fac=function(i){return new(i||n)(_t(as),_t(LI),_t(Es),_t(TN),_t(lM))};static#t=this.\u0275prov=it({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const fM=new he("");let IN=(()=>{class n{constructor(t,i,r,s,o={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof d4?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ba?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Jd&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof sN&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new sN(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(i){!function j1(){throw new Error("invalid")}()};static#t=this.\u0275prov=it({token:n,factory:n.\u0275fac})}return n})();function jo(n,e){return{\u0275kind:n,\u0275providers:e}}function PN(){const n=Oe(Pr);return e=>{const t=n.get(Rd);if(e!==t.components[0])return;const i=n.get(as),r=n.get(ON);1===n.get(hM)&&i.initialNavigation(),n.get(NN,null,V.Optional)?.setUpPreloading(),n.get(fM,null,V.Optional)?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const ON=new he("",{factory:()=>new Wr}),hM=new he("",{providedIn:"root",factory:()=>1}),NN=new he("");function uJ(n){return jo(0,[{provide:NN,useExisting:rJ},{provide:TN,useExisting:n}])}function cJ(n){return jo(9,[{provide:SN,useValue:WK},{provide:CN,useValue:{skipNextTransition:!!n?.skipInitialTransition,...n}}])}const LN=new he("ROUTER_FORROOT_GUARD"),dJ=[Tp,{provide:Zd,useClass:HE},as,s0,{provide:ef,useFactory:function RN(n){return n.routerState.root},deps:[as]},lM,[]];let FN=(()=>{class n{constructor(t){}static forRoot(t,i){return{ngModule:n,providers:[dJ,[],{provide:af,multi:!0,useValue:t},{provide:LN,useFactory:mJ,deps:[[as,new qm,new Xm]]},{provide:sf,useValue:i||{}},i?.useHash?{provide:xl,useClass:e$}:{provide:xl,useClass:E2},{provide:fM,useFactory:()=>{const n=Oe(x7),e=Oe(En),t=Oe(sf),i=Oe(v4),r=Oe(Zd);return t.scrollOffset&&n.setOffset(t.scrollOffset),new IN(r,i,n,e,t)}},i?.preloadingStrategy?uJ(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?gJ(i):[],i?.bindToComponentInputs?jo(8,[fN,{provide:h4,useExisting:fN}]).\u0275providers:[],i?.enableViewTransitions?cJ().\u0275providers:[],[{provide:kN,useFactory:PN},{provide:n3,multi:!0,useExisting:kN}]]}}static forChild(t){return{ngModule:n,providers:[{provide:af,multi:!0,useValue:t}]}}static#e=this.\u0275fac=function(i){return new(i||n)(_t(LN,8))};static#t=this.\u0275mod=$n({type:n});static#n=this.\u0275inj=xn({})}return n})();function mJ(n){return"guarded"}function gJ(n){return["disabled"===n.initialNavigation?jo(3,[{provide:e3,multi:!0,useFactory:()=>{const e=Oe(as);return()=>{e.setUpLocationChangeListener()}}},{provide:hM,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?jo(2,[{provide:hM,useValue:0},{provide:e3,multi:!0,deps:[Pr],useFactory:e=>{const t=e.get(Jj,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const r=e.get(as),s=e.get(ON);AN(r,()=>{i(!0)}),e.get(v4).afterPreactivation=()=>(i(!0),s.closed?vt(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const kN=new he("");function UN(n,e,t,i,r,s,o){try{var a=n[s](o),u=a.value}catch(l){return void t(l)}a.done?e(u):Promise.resolve(u).then(i,r)}function pM(n){return function(){var e=this,t=arguments;return new Promise(function(i,r){var s=n.apply(e,t);function o(u){UN(s,i,r,o,a,"next",u)}function a(u){UN(s,i,r,o,a,"throw",u)}o(void 0)})}}const VN=1,xJ=2,Ea=3,y4=0,WJ=1,jJ=2,Du=0,$J=1,qJ=2,XJ=3,YJ=4,ZJ=5,Au=301,Fl=302,f0=306,br=1001,bi=1003,Ei=1006,kl=1008,Tu=1009,Iu=1014,wa=1015,h0=1016,Ul=1020,Ps=1023,Bl=1026,lf=1027,Vl=3001,Bi="srgb",Sa="srgb-linear",AM="display-p3",A4="display-p3-linear",T4="linear",Wn="srgb",I4="rec709",R4="p3",ff=7680,AL="300 es",Ca=2e3;class hf{addEventListener(e,t){void 0===this._listeners&&(this._listeners={});const i=this._listeners;void 0===i[e]&&(i[e]=[]),-1===i[e].indexOf(t)&&i[e].push(t)}hasEventListener(e,t){if(void 0===this._listeners)return!1;const i=this._listeners;return void 0!==i[e]&&-1!==i[e].indexOf(t)}removeEventListener(e,t){if(void 0===this._listeners)return;const r=this._listeners[e];if(void 0!==r){const s=r.indexOf(t);-1!==s&&r.splice(s,1)}}dispatchEvent(e){if(void 0===this._listeners)return;const i=this._listeners[e.type];if(void 0!==i){e.target=this;const r=i.slice(0);for(let s=0,o=r.length;s<o;s++)r[s].call(this,e);e.target=null}}}const rr=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"],zl=Math.PI/180,pf=180/Math.PI;function us(){const n=4294967295*Math.random()|0,e=4294967295*Math.random()|0,t=4294967295*Math.random()|0,i=4294967295*Math.random()|0;return(rr[255&n]+rr[n>>8&255]+rr[n>>16&255]+rr[n>>24&255]+"-"+rr[255&e]+rr[e>>8&255]+"-"+rr[e>>16&15|64]+rr[e>>24&255]+"-"+rr[63&t|128]+rr[t>>8&255]+"-"+rr[t>>16&255]+rr[t>>24&255]+rr[255&i]+rr[i>>8&255]+rr[i>>16&255]+rr[i>>24&255]).toLowerCase()}function ni(n,e,t){return Math.max(e,Math.min(t,n))}function p0(n,e,t){return(1-t)*n+t*e}function RM(n){return 0==(n&n-1)&&0!==n}function N4(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}function Br(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return n/4294967295;case Uint16Array:return n/65535;case Uint8Array:return n/255;case Int32Array:return Math.max(n/2147483647,-1);case Int16Array:return Math.max(n/32767,-1);case Int8Array:return Math.max(n/127,-1);default:throw new Error("Invalid component type.")}}function Yt(n,e){switch(e.constructor){case Float32Array:return n;case Uint32Array:return Math.round(4294967295*n);case Uint16Array:return Math.round(65535*n);case Uint8Array:return Math.round(255*n);case Int32Array:return Math.round(2147483647*n);case Int16Array:return Math.round(32767*n);case Int8Array:return Math.round(127*n);default:throw new Error("Invalid component type.")}}class _e{constructor(e=0,t=0){_e.prototype.isVector2=!0,this.x=e,this.y=t}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,t){return this.x=e,this.y=t,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const t=this.x,i=this.y,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6],this.y=r[1]*t+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(ni(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y;return t*t+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this}rotateAround(e,t){const i=Math.cos(t),r=Math.sin(t),s=this.x-e.x,o=this.y-e.y;return this.x=s*i-o*r+e.x,this.y=s*r+o*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Qt{constructor(e,t,i,r,s,o,a,u,l){Qt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],void 0!==e&&this.set(e,t,i,r,s,o,a,u,l)}set(e,t,i,r,s,o,a,u,l){const c=this.elements;return c[0]=e,c[1]=r,c[2]=a,c[3]=t,c[4]=s,c[5]=u,c[6]=i,c[7]=o,c[8]=l,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],this}extractBasis(e,t,i){return e.setFromMatrix3Column(this,0),t.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[3],u=i[6],l=i[1],c=i[4],f=i[7],h=i[2],p=i[5],g=i[8],x=r[0],_=r[3],v=r[6],w=r[1],M=r[4],D=r[7],T=r[2],P=r[5],U=r[8];return s[0]=o*x+a*w+u*T,s[3]=o*_+a*M+u*P,s[6]=o*v+a*D+u*U,s[1]=l*x+c*w+f*T,s[4]=l*_+c*M+f*P,s[7]=l*v+c*D+f*U,s[2]=h*x+p*w+g*T,s[5]=h*_+p*M+g*P,s[8]=h*v+p*D+g*U,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],u=e[6],l=e[7],c=e[8];return t*o*c-t*a*l-i*s*c+i*a*u+r*s*l-r*o*u}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],u=e[6],l=e[7],c=e[8],f=c*o-a*l,h=a*u-c*s,p=l*s-o*u,g=t*f+i*h+r*p;if(0===g)return this.set(0,0,0,0,0,0,0,0,0);const x=1/g;return e[0]=f*x,e[1]=(r*l-c*i)*x,e[2]=(a*i-r*o)*x,e[3]=h*x,e[4]=(c*t-r*u)*x,e[5]=(r*s-a*t)*x,e[6]=p*x,e[7]=(i*u-l*t)*x,e[8]=(o*t-i*s)*x,this}transpose(){let e;const t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this}setUvTransform(e,t,i,r,s,o,a){const u=Math.cos(s),l=Math.sin(s);return this.set(i*u,i*l,-i*(u*o+l*a)+o+e,-r*l,r*u,-r*(-l*o+u*a)+a+t,0,0,1),this}scale(e,t){return this.premultiply(PM.makeScale(e,t)),this}rotate(e){return this.premultiply(PM.makeRotation(-e)),this}translate(e,t){return this.premultiply(PM.makeTranslation(e,t)),this}makeTranslation(e,t){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,t,0,0,1),this}makeRotation(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,i,t,0,0,0,1),this}makeScale(e,t){return this.set(e,0,0,0,t,0,0,0,1),this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<9;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<9;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e}clone(){return(new this.constructor).fromArray(this.elements)}}const PM=new Qt;function RL(n){for(let e=n.length-1;e>=0;--e)if(n[e]>=65535)return!0;return!1}function m0(n){return document.createElementNS("http://www.w3.org/1999/xhtml",n)}function LQ(){const n=m0("canvas");return n.style.display="block",n}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;const PL={};function g0(n){n in PL||(PL[n]=!0,console.warn(n))}const OL=(new Qt).set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),NL=(new Qt).set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),L4={[Sa]:{transfer:T4,primaries:I4,toReference:n=>n,fromReference:n=>n},[Bi]:{transfer:Wn,primaries:I4,toReference:n=>n.convertSRGBToLinear(),fromReference:n=>n.convertLinearToSRGB()},[A4]:{transfer:T4,primaries:R4,toReference:n=>n.applyMatrix3(NL),fromReference:n=>n.applyMatrix3(OL)},[AM]:{transfer:Wn,primaries:R4,toReference:n=>n.convertSRGBToLinear().applyMatrix3(NL),fromReference:n=>n.applyMatrix3(OL).convertLinearToSRGB()}},FQ=new Set([Sa,A4]),Dn={enabled:!0,_workingColorSpace:Sa,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(n){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!n},get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(n){if(!FQ.has(n))throw new Error(`Unsupported working color space, "${n}".`);this._workingColorSpace=n},convert:function(n,e,t){return!1!==this.enabled&&e!==t&&e&&t?(0,L4[t].fromReference)((0,L4[e].toReference)(n)):n},fromWorkingColorSpace:function(n,e){return this.convert(n,this._workingColorSpace,e)},toWorkingColorSpace:function(n,e){return this.convert(n,e,this._workingColorSpace)},getPrimaries:function(n){return L4[n].primaries},getTransfer:function(n){return""===n?T4:L4[n].transfer}};function gf(n){return n<.04045?.0773993808*n:Math.pow(.9478672986*n+.0521327014,2.4)}function OM(n){return n<.0031308?12.92*n:1.055*Math.pow(n,.41666)-.055}let vf;class LL{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let t;if(e instanceof HTMLCanvasElement)t=e;else{void 0===vf&&(vf=m0("canvas")),vf.width=e.width,vf.height=e.height;const i=vf.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),t=vf}return t.width>2048||t.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),t.toDataURL("image/jpeg",.6)):t.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const t=m0("canvas");t.width=e.width,t.height=e.height;const i=t.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),s=r.data;for(let o=0;o<s.length;o++)s[o]=255*gf(s[o]/255);return i.putImageData(r,0,0),t}if(e.data){const t=e.data.slice(0);for(let i=0;i<t.length;i++)t[i]=t instanceof Uint8Array||t instanceof Uint8ClampedArray?Math.floor(255*gf(t[i]/255)):gf(t[i]);return{data:t,width:e.width,height:e.height}}return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let kQ=0;class _f{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:kQ++}),this.uuid=us(),this.data=e,this.version=0}set needsUpdate(e){!0===e&&this.version++}toJSON(e){const t=void 0===e||"string"==typeof e;if(!t&&void 0!==e.images[this.uuid])return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(null!==r){let s;if(Array.isArray(r)){s=[];for(let o=0,a=r.length;o<a;o++)s.push(NM(r[o].isDataTexture?r[o].image:r[o]))}else s=NM(r);i.url=s}return t||(e.images[this.uuid]=i),i}}function NM(n){return typeof HTMLImageElement<"u"&&n instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&n instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&n instanceof ImageBitmap?LL.getDataURL(n):n.data?{data:Array.from(n.data),width:n.width,height:n.height,type:n.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let UQ=0,Ru=(()=>{class n extends hf{constructor(t=n.DEFAULT_IMAGE,i=n.DEFAULT_MAPPING,r=br,s=br,o=Ei,a=kl,u=Ps,l=Tu,c=n.DEFAULT_ANISOTROPY,f=""){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:UQ++}),this.uuid=us(),this.name="",this.source=new _f(t),this.mipmaps=[],this.mapping=i,this.channel=0,this.wrapS=r,this.wrapT=s,this.magFilter=o,this.minFilter=a,this.anisotropy=c,this.format=u,this.internalFormat=null,this.type=l,this.offset=new _e(0,0),this.repeat=new _e(1,1),this.center=new _e(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Qt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,"string"==typeof f?this.colorSpace=f:(g0("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=f===Vl?Bi:""),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(t=null){this.source.data=t}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(t){return this.name=t.name,this.source=t.source,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.channel=t.channel,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.colorSpace=t.colorSpace,this.userData=JSON.parse(JSON.stringify(t.userData)),this.needsUpdate=!0,this}toJSON(t){const i=void 0===t||"string"==typeof t;if(!i&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(t).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),i||(t.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(300!==this.mapping)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case 1e3:t.x=t.x-Math.floor(t.x);break;case br:t.x=t.x<0?0:1;break;case 1002:t.x=1===Math.abs(Math.floor(t.x)%2)?Math.ceil(t.x)-t.x:t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case 1e3:t.y=t.y-Math.floor(t.y);break;case br:t.y=t.y<0?0:1;break;case 1002:t.y=1===Math.abs(Math.floor(t.y)%2)?Math.ceil(t.y)-t.y:t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){!0===t&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return g0("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===Bi?Vl:3e3}set encoding(t){g0("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=t===Vl?Bi:""}}return n.DEFAULT_IMAGE=null,n.DEFAULT_MAPPING=300,n.DEFAULT_ANISOTROPY=1,n})();class An{constructor(e=0,t=0,i=0,r=1){An.prototype.isVector4=!0,this.x=e,this.y=t,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,t,i,r){return this.x=e,this.y=t,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=this.w,o=e.elements;return this.x=o[0]*t+o[4]*i+o[8]*r+o[12]*s,this.y=o[1]*t+o[5]*i+o[9]*r+o[13]*s,this.z=o[2]*t+o[6]*i+o[10]*r+o[14]*s,this.w=o[3]*t+o[7]*i+o[11]*r+o[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this}setAxisAngleFromRotationMatrix(e){let t,i,r,s;const u=e.elements,l=u[0],c=u[4],f=u[8],h=u[1],p=u[5],g=u[9],x=u[2],_=u[6],v=u[10];if(Math.abs(c-h)<.01&&Math.abs(f-x)<.01&&Math.abs(g-_)<.01){if(Math.abs(c+h)<.1&&Math.abs(f+x)<.1&&Math.abs(g+_)<.1&&Math.abs(l+p+v-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;const M=(l+1)/2,D=(p+1)/2,T=(v+1)/2,P=(c+h)/4,U=(f+x)/4,W=(g+_)/4;return M>D&&M>T?M<.01?(i=0,r=.707106781,s=.707106781):(i=Math.sqrt(M),r=P/i,s=U/i):D>T?D<.01?(i=.707106781,r=0,s=.707106781):(r=Math.sqrt(D),i=P/r,s=W/r):T<.01?(i=.707106781,r=.707106781,s=0):(s=Math.sqrt(T),i=U/s,r=W/s),this.set(i,r,s,t),this}let w=Math.sqrt((_-g)*(_-g)+(f-x)*(f-x)+(h-c)*(h-c));return Math.abs(w)<.001&&(w=1),this.x=(_-g)/w,this.y=(f-x)/w,this.z=(h-c)/w,this.w=Math.acos((l+p+v-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this.w=Math.max(e,Math.min(t,this.w)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this.w=e.w+(t.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this.w=e.getW(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class BQ extends hf{constructor(e=1,t=1,i={}){super(),this.isRenderTarget=!0,this.width=e,this.height=t,this.depth=1,this.scissor=new An(0,0,e,t),this.scissorTest=!1,this.viewport=new An(0,0,e,t);const r={width:e,height:t,depth:1};void 0!==i.encoding&&(g0("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),i.colorSpace=i.encoding===Vl?Bi:""),i=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Ei,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},i),this.texture=new Ru(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=i.generateMipmaps,this.texture.internalFormat=i.internalFormat,this.depthBuffer=i.depthBuffer,this.stencilBuffer=i.stencilBuffer,this.depthTexture=i.depthTexture,this.samples=i.samples}setSize(e,t,i=1){(this.width!==e||this.height!==t||this.depth!==i)&&(this.width=e,this.height=t,this.depth=i,this.texture.image.width=e,this.texture.image.height=t,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)}clone(){return(new this.constructor).copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const t=Object.assign({},e.texture.image);return this.texture.source=new _f(t),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,null!==e.depthTexture&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class Da extends BQ{constructor(e=1,t=1,i={}){super(e,t,i),this.isWebGLRenderTarget=!0}}class LM extends Ru{constructor(e=null,t=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=bi,this.minFilter=bi,this.wrapR=br,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class FL extends Ru{constructor(e=null,t=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:t,height:i,depth:r},this.magFilter=bi,this.minFilter=bi,this.wrapR=br,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class ls{constructor(e=0,t=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=t,this._z=i,this._w=r}static slerpFlat(e,t,i,r,s,o,a){let u=i[r+0],l=i[r+1],c=i[r+2],f=i[r+3];const h=s[o+0],p=s[o+1],g=s[o+2],x=s[o+3];if(0===a)return e[t+0]=u,e[t+1]=l,e[t+2]=c,void(e[t+3]=f);if(1===a)return e[t+0]=h,e[t+1]=p,e[t+2]=g,void(e[t+3]=x);if(f!==x||u!==h||l!==p||c!==g){let _=1-a;const v=u*h+l*p+c*g+f*x,w=v>=0?1:-1,M=1-v*v;if(M>Number.EPSILON){const T=Math.sqrt(M),P=Math.atan2(T,v*w);_=Math.sin(_*P)/T,a=Math.sin(a*P)/T}const D=a*w;if(u=u*_+h*D,l=l*_+p*D,c=c*_+g*D,f=f*_+x*D,_===1-a){const T=1/Math.sqrt(u*u+l*l+c*c+f*f);u*=T,l*=T,c*=T,f*=T}}e[t]=u,e[t+1]=l,e[t+2]=c,e[t+3]=f}static multiplyQuaternionsFlat(e,t,i,r,s,o){const a=i[r],u=i[r+1],l=i[r+2],c=i[r+3],f=s[o],h=s[o+1],p=s[o+2],g=s[o+3];return e[t]=a*g+c*f+u*p-l*h,e[t+1]=u*g+c*h+l*f-a*p,e[t+2]=l*g+c*p+a*h-u*f,e[t+3]=c*g-a*f-u*h-l*p,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,t,i,r){return this._x=e,this._y=t,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,t){const i=e._x,r=e._y,s=e._z,o=e._order,a=Math.cos,u=Math.sin,l=a(i/2),c=a(r/2),f=a(s/2),h=u(i/2),p=u(r/2),g=u(s/2);switch(o){case"XYZ":this._x=h*c*f+l*p*g,this._y=l*p*f-h*c*g,this._z=l*c*g+h*p*f,this._w=l*c*f-h*p*g;break;case"YXZ":this._x=h*c*f+l*p*g,this._y=l*p*f-h*c*g,this._z=l*c*g-h*p*f,this._w=l*c*f+h*p*g;break;case"ZXY":this._x=h*c*f-l*p*g,this._y=l*p*f+h*c*g,this._z=l*c*g+h*p*f,this._w=l*c*f-h*p*g;break;case"ZYX":this._x=h*c*f-l*p*g,this._y=l*p*f+h*c*g,this._z=l*c*g-h*p*f,this._w=l*c*f+h*p*g;break;case"YZX":this._x=h*c*f+l*p*g,this._y=l*p*f+h*c*g,this._z=l*c*g-h*p*f,this._w=l*c*f-h*p*g;break;case"XZY":this._x=h*c*f-l*p*g,this._y=l*p*f-h*c*g,this._z=l*c*g+h*p*f,this._w=l*c*f+h*p*g;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return!1!==t&&this._onChangeCallback(),this}setFromAxisAngle(e,t){const i=t/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const t=e.elements,i=t[0],r=t[4],s=t[8],o=t[1],a=t[5],u=t[9],l=t[2],c=t[6],f=t[10],h=i+a+f;if(h>0){const p=.5/Math.sqrt(h+1);this._w=.25/p,this._x=(c-u)*p,this._y=(s-l)*p,this._z=(o-r)*p}else if(i>a&&i>f){const p=2*Math.sqrt(1+i-a-f);this._w=(c-u)/p,this._x=.25*p,this._y=(r+o)/p,this._z=(s+l)/p}else if(a>f){const p=2*Math.sqrt(1+a-i-f);this._w=(s-l)/p,this._x=(r+o)/p,this._y=.25*p,this._z=(u+c)/p}else{const p=2*Math.sqrt(1+f-i-a);this._w=(o-r)/p,this._x=(s+l)/p,this._y=(u+c)/p,this._z=.25*p}return this._onChangeCallback(),this}setFromUnitVectors(e,t){let i=e.dot(t)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*t.z-e.z*t.y,this._y=e.z*t.x-e.x*t.z,this._z=e.x*t.y-e.y*t.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(ni(this.dot(e),-1,1)))}rotateTowards(e,t){const i=this.angleTo(e);if(0===i)return this;const r=Math.min(1,t/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,t){const i=e._x,r=e._y,s=e._z,o=e._w,a=t._x,u=t._y,l=t._z,c=t._w;return this._x=i*c+o*a+r*l-s*u,this._y=r*c+o*u+s*a-i*l,this._z=s*c+o*l+i*u-r*a,this._w=o*c-i*a-r*u-s*l,this._onChangeCallback(),this}slerp(e,t){if(0===t)return this;if(1===t)return this.copy(e);const i=this._x,r=this._y,s=this._z,o=this._w;let a=o*e._w+i*e._x+r*e._y+s*e._z;if(a<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,a=-a):this.copy(e),a>=1)return this._w=o,this._x=i,this._y=r,this._z=s,this;const u=1-a*a;if(u<=Number.EPSILON){const p=1-t;return this._w=p*o+t*this._w,this._x=p*i+t*this._x,this._y=p*r+t*this._y,this._z=p*s+t*this._z,this.normalize(),this._onChangeCallback(),this}const l=Math.sqrt(u),c=Math.atan2(l,a),f=Math.sin((1-t)*c)/l,h=Math.sin(t*c)/l;return this._w=o*f+this._w*h,this._x=i*f+this._x*h,this._y=r*f+this._y*h,this._z=s*f+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,t,i){return this.copy(e).slerp(t,i)}random(){const e=Math.random(),t=Math.sqrt(1-e),i=Math.sqrt(e),r=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(t*Math.cos(r),i*Math.sin(s),i*Math.cos(s),t*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,t=0){return this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this._onChangeCallback(),this}toArray(e=[],t=0){return e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e}fromBufferAttribute(e,t){return this._x=e.getX(t),this._y=e.getY(t),this._z=e.getZ(t),this._w=e.getW(t),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class k{constructor(e=0,t=0,i=0){k.prototype.isVector3=!0,this.x=e,this.y=t,this.z=i}set(e,t,i){return void 0===i&&(i=this.z),this.x=e,this.y=t,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this}addScaledVector(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this}applyEuler(e){return this.applyQuaternion(kL.setFromEuler(e))}applyAxisAngle(e,t){return this.applyQuaternion(kL.setFromAxisAngle(e,t))}applyMatrix3(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[3]*i+s[6]*r,this.y=s[1]*t+s[4]*i+s[7]*r,this.z=s[2]*t+s[5]*i+s[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const t=this.x,i=this.y,r=this.z,s=e.elements,o=1/(s[3]*t+s[7]*i+s[11]*r+s[15]);return this.x=(s[0]*t+s[4]*i+s[8]*r+s[12])*o,this.y=(s[1]*t+s[5]*i+s[9]*r+s[13])*o,this.z=(s[2]*t+s[6]*i+s[10]*r+s[14])*o,this}applyQuaternion(e){const t=this.x,i=this.y,r=this.z,s=e.x,o=e.y,a=e.z,u=e.w,l=2*(o*r-a*i),c=2*(a*t-s*r),f=2*(s*i-o*t);return this.x=t+u*l+o*f-a*c,this.y=i+u*c+a*l-s*f,this.z=r+u*f+s*c-o*l,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const t=this.x,i=this.y,r=this.z,s=e.elements;return this.x=s[0]*t+s[4]*i+s[8]*r,this.y=s[1]*t+s[5]*i+s[9]*r,this.z=s[2]*t+s[6]*i+s[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this}clampScalar(e,t){return this.x=Math.max(e,Math.min(t,this.x)),this.y=Math.max(e,Math.min(t,this.y)),this.z=Math.max(e,Math.min(t,this.z)),this}clampLength(e,t){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(t,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this}lerpVectors(e,t,i){return this.x=e.x+(t.x-e.x)*i,this.y=e.y+(t.y-e.y)*i,this.z=e.z+(t.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,t){const i=e.x,r=e.y,s=e.z,o=t.x,a=t.y,u=t.z;return this.x=r*u-s*a,this.y=s*o-i*u,this.z=i*a-r*o,this}projectOnVector(e){const t=e.lengthSq();if(0===t)return this.set(0,0,0);const i=e.dot(this)/t;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return FM.copy(this).projectOnVector(e),this.sub(FM)}reflect(e){return this.sub(FM.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const t=Math.sqrt(this.lengthSq()*e.lengthSq());if(0===t)return Math.PI/2;const i=this.dot(e)/t;return Math.acos(ni(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const t=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return t*t+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,t,i){const r=Math.sin(t)*e;return this.x=r*Math.sin(i),this.y=Math.cos(t)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,t,i){return this.x=e*Math.sin(t),this.y=i,this.z=e*Math.cos(t),this}setFromMatrixPosition(e){const t=e.elements;return this.x=t[12],this.y=t[13],this.z=t[14],this}setFromMatrixScale(e){const t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=r,this}setFromMatrixColumn(e,t){return this.fromArray(e.elements,4*t)}setFromMatrix3Column(e,t){return this.fromArray(e.elements,3*t)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,t=0){return this.x=e[t],this.y=e[t+1],this.z=e[t+2],this}toArray(e=[],t=0){return e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e}fromBufferAttribute(e,t){return this.x=e.getX(t),this.y=e.getY(t),this.z=e.getZ(t),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=2*(Math.random()-.5),t=Math.random()*Math.PI*2,i=Math.sqrt(1-e**2);return this.x=i*Math.cos(t),this.y=i*Math.sin(t),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const FM=new k,kL=new ls;class Aa{constructor(e=new k(1/0,1/0,1/0),t=new k(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=t}set(e,t){return this.min.copy(e),this.max.copy(t),this}setFromArray(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t+=3)this.expandByPoint(ao.fromArray(e,t));return this}setFromBufferAttribute(e){this.makeEmpty();for(let t=0,i=e.count;t<i;t++)this.expandByPoint(ao.fromBufferAttribute(e,t));return this}setFromPoints(e){this.makeEmpty();for(let t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this}setFromCenterAndSize(e,t){const i=ao.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,t=!1){return this.makeEmpty(),this.expandByObject(e,t)}clone(){return(new this.constructor).copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,t=!1){e.updateWorldMatrix(!1,!1);const i=e.geometry;if(void 0!==i){const s=i.getAttribute("position");if(!0===t&&void 0!==s&&!0!==e.isInstancedMesh)for(let o=0,a=s.count;o<a;o++)!0===e.isMesh?e.getVertexPosition(o,ao):ao.fromBufferAttribute(s,o),ao.applyMatrix4(e.matrixWorld),this.expandByPoint(ao);else void 0!==e.boundingBox?(null===e.boundingBox&&e.computeBoundingBox(),F4.copy(e.boundingBox)):(null===i.boundingBox&&i.computeBoundingBox(),F4.copy(i.boundingBox)),F4.applyMatrix4(e.matrixWorld),this.union(F4)}const r=e.children;for(let s=0,o=r.length;s<o;s++)this.expandByObject(r[s],t);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,t){return t.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,ao),ao.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let t,i;return e.normal.x>0?(t=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(t=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(v0),k4.subVectors(this.max,v0),yf.subVectors(e.a,v0),xf.subVectors(e.b,v0),bf.subVectors(e.c,v0),Pu.subVectors(xf,yf),Ou.subVectors(bf,xf),Gl.subVectors(yf,bf);let t=[0,-Pu.z,Pu.y,0,-Ou.z,Ou.y,0,-Gl.z,Gl.y,Pu.z,0,-Pu.x,Ou.z,0,-Ou.x,Gl.z,0,-Gl.x,-Pu.y,Pu.x,0,-Ou.y,Ou.x,0,-Gl.y,Gl.x,0];return!(!kM(t,yf,xf,bf,k4)||(t=[1,0,0,0,1,0,0,0,1],!kM(t,yf,xf,bf,k4)))&&(U4.crossVectors(Pu,Ou),t=[U4.x,U4.y,U4.z],kM(t,yf,xf,bf,k4))}clampPoint(e,t){return t.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,ao).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=.5*this.getSize(ao).length()),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()||(Ta[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Ta[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Ta[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Ta[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Ta[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Ta[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Ta[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Ta[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Ta)),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Ta=[new k,new k,new k,new k,new k,new k,new k,new k],ao=new k,F4=new Aa,yf=new k,xf=new k,bf=new k,Pu=new k,Ou=new k,Gl=new k,v0=new k,k4=new k,U4=new k,Wl=new k;function kM(n,e,t,i,r){for(let s=0,o=n.length-3;s<=o;s+=3){Wl.fromArray(n,s);const a=r.x*Math.abs(Wl.x)+r.y*Math.abs(Wl.y)+r.z*Math.abs(Wl.z),u=e.dot(Wl),l=t.dot(Wl),c=i.dot(Wl);if(Math.max(-Math.max(u,l,c),Math.min(u,l,c))>a)return!1}return!0}const VQ=new Aa,_0=new k,UM=new k;class $o{constructor(e=new k,t=-1){this.center=e,this.radius=t}set(e,t){return this.center.copy(e),this.radius=t,this}setFromPoints(e,t){const i=this.center;void 0!==t?i.copy(t):VQ.setFromPoints(e).getCenter(i);let r=0;for(let s=0,o=e.length;s<o;s++)r=Math.max(r,i.distanceToSquared(e[s]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,t){const i=this.center.distanceToSquared(e);return t.copy(e),i>this.radius*this.radius&&(t.sub(this.center).normalize(),t.multiplyScalar(this.radius).add(this.center)),t}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;_0.subVectors(e,this.center);const t=_0.lengthSq();if(t>this.radius*this.radius){const i=Math.sqrt(t),r=.5*(i-this.radius);this.center.addScaledVector(_0,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(!0===this.center.equals(e.center)?this.radius=Math.max(this.radius,e.radius):(UM.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(_0.copy(e.center).add(UM)),this.expandByPoint(_0.copy(e.center).sub(UM))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const Ia=new k,BM=new k,B4=new k,Nu=new k,VM=new k,V4=new k,HM=new k;class y0{constructor(e=new k,t=new k(0,0,-1)){this.origin=e,this.direction=t}set(e,t){return this.origin.copy(e),this.direction.copy(t),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,t){return t.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Ia)),this}closestPointToPoint(e,t){t.subVectors(e,this.origin);const i=t.dot(this.direction);return i<0?t.copy(this.origin):t.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const t=Ia.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(Ia.copy(this.origin).addScaledVector(this.direction,t),Ia.distanceToSquared(e))}distanceSqToSegment(e,t,i,r){BM.copy(e).add(t).multiplyScalar(.5),B4.copy(t).sub(e).normalize(),Nu.copy(this.origin).sub(BM);const s=.5*e.distanceTo(t),o=-this.direction.dot(B4),a=Nu.dot(this.direction),u=-Nu.dot(B4),l=Nu.lengthSq(),c=Math.abs(1-o*o);let f,h,p,g;if(c>0)if(f=o*u-a,h=o*a-u,g=s*c,f>=0)if(h>=-g)if(h<=g){const x=1/c;f*=x,h*=x,p=f*(f+o*h+2*a)+h*(o*f+h+2*u)+l}else h=s,f=Math.max(0,-(o*h+a)),p=-f*f+h*(h+2*u)+l;else h=-s,f=Math.max(0,-(o*h+a)),p=-f*f+h*(h+2*u)+l;else h<=-g?(f=Math.max(0,-(-o*s+a)),h=f>0?-s:Math.min(Math.max(-s,-u),s),p=-f*f+h*(h+2*u)+l):h<=g?(f=0,h=Math.min(Math.max(-s,-u),s),p=h*(h+2*u)+l):(f=Math.max(0,-(o*s+a)),h=f>0?s:Math.min(Math.max(-s,-u),s),p=-f*f+h*(h+2*u)+l);else h=o>0?-s:s,f=Math.max(0,-(o*h+a)),p=-f*f+h*(h+2*u)+l;return i&&i.copy(this.origin).addScaledVector(this.direction,f),r&&r.copy(BM).addScaledVector(B4,h),p}intersectSphere(e,t){Ia.subVectors(e.center,this.origin);const i=Ia.dot(this.direction),r=Ia.dot(Ia)-i*i,s=e.radius*e.radius;if(r>s)return null;const o=Math.sqrt(s-r),a=i-o,u=i+o;return u<0?null:this.at(a<0?u:a,t)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/t;return i>=0?i:null}intersectPlane(e,t){const i=this.distanceToPlane(e);return null===i?null:this.at(i,t)}intersectsPlane(e){const t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0}intersectBox(e,t){let i,r,s,o,a,u;const l=1/this.direction.x,c=1/this.direction.y,f=1/this.direction.z,h=this.origin;return l>=0?(i=(e.min.x-h.x)*l,r=(e.max.x-h.x)*l):(i=(e.max.x-h.x)*l,r=(e.min.x-h.x)*l),c>=0?(s=(e.min.y-h.y)*c,o=(e.max.y-h.y)*c):(s=(e.max.y-h.y)*c,o=(e.min.y-h.y)*c),i>o||s>r||((s>i||isNaN(i))&&(i=s),(o<r||isNaN(r))&&(r=o),f>=0?(a=(e.min.z-h.z)*f,u=(e.max.z-h.z)*f):(a=(e.max.z-h.z)*f,u=(e.min.z-h.z)*f),i>u||a>r)||((a>i||i!=i)&&(i=a),(u<r||r!=r)&&(r=u),r<0)?null:this.at(i>=0?i:r,t)}intersectsBox(e){return null!==this.intersectBox(e,Ia)}intersectTriangle(e,t,i,r,s){VM.subVectors(t,e),V4.subVectors(i,e),HM.crossVectors(VM,V4);let a,o=this.direction.dot(HM);if(o>0){if(r)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}Nu.subVectors(this.origin,e);const u=a*this.direction.dot(V4.crossVectors(Nu,V4));if(u<0)return null;const l=a*this.direction.dot(VM.cross(Nu));if(l<0||u+l>o)return null;const c=-a*Nu.dot(HM);return c<0?null:this.at(c/o,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class zt{constructor(e,t,i,r,s,o,a,u,l,c,f,h,p,g,x,_){zt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],void 0!==e&&this.set(e,t,i,r,s,o,a,u,l,c,f,h,p,g,x,_)}set(e,t,i,r,s,o,a,u,l,c,f,h,p,g,x,_){const v=this.elements;return v[0]=e,v[4]=t,v[8]=i,v[12]=r,v[1]=s,v[5]=o,v[9]=a,v[13]=u,v[2]=l,v[6]=c,v[10]=f,v[14]=h,v[3]=p,v[7]=g,v[11]=x,v[15]=_,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new zt).fromArray(this.elements)}copy(e){const t=this.elements,i=e.elements;return t[0]=i[0],t[1]=i[1],t[2]=i[2],t[3]=i[3],t[4]=i[4],t[5]=i[5],t[6]=i[6],t[7]=i[7],t[8]=i[8],t[9]=i[9],t[10]=i[10],t[11]=i[11],t[12]=i[12],t[13]=i[13],t[14]=i[14],t[15]=i[15],this}copyPosition(e){const t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this}setFromMatrix3(e){const t=e.elements;return this.set(t[0],t[3],t[6],0,t[1],t[4],t[7],0,t[2],t[5],t[8],0,0,0,0,1),this}extractBasis(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this}extractRotation(e){const t=this.elements,i=e.elements,r=1/Ef.setFromMatrixColumn(e,0).length(),s=1/Ef.setFromMatrixColumn(e,1).length(),o=1/Ef.setFromMatrixColumn(e,2).length();return t[0]=i[0]*r,t[1]=i[1]*r,t[2]=i[2]*r,t[3]=0,t[4]=i[4]*s,t[5]=i[5]*s,t[6]=i[6]*s,t[7]=0,t[8]=i[8]*o,t[9]=i[9]*o,t[10]=i[10]*o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromEuler(e){const t=this.elements,i=e.x,r=e.y,s=e.z,o=Math.cos(i),a=Math.sin(i),u=Math.cos(r),l=Math.sin(r),c=Math.cos(s),f=Math.sin(s);if("XYZ"===e.order){const h=o*c,p=o*f,g=a*c,x=a*f;t[0]=u*c,t[4]=-u*f,t[8]=l,t[1]=p+g*l,t[5]=h-x*l,t[9]=-a*u,t[2]=x-h*l,t[6]=g+p*l,t[10]=o*u}else if("YXZ"===e.order){const h=u*c,p=u*f,g=l*c,x=l*f;t[0]=h+x*a,t[4]=g*a-p,t[8]=o*l,t[1]=o*f,t[5]=o*c,t[9]=-a,t[2]=p*a-g,t[6]=x+h*a,t[10]=o*u}else if("ZXY"===e.order){const h=u*c,p=u*f,g=l*c,x=l*f;t[0]=h-x*a,t[4]=-o*f,t[8]=g+p*a,t[1]=p+g*a,t[5]=o*c,t[9]=x-h*a,t[2]=-o*l,t[6]=a,t[10]=o*u}else if("ZYX"===e.order){const h=o*c,p=o*f,g=a*c,x=a*f;t[0]=u*c,t[4]=g*l-p,t[8]=h*l+x,t[1]=u*f,t[5]=x*l+h,t[9]=p*l-g,t[2]=-l,t[6]=a*u,t[10]=o*u}else if("YZX"===e.order){const h=o*u,p=o*l,g=a*u,x=a*l;t[0]=u*c,t[4]=x-h*f,t[8]=g*f+p,t[1]=f,t[5]=o*c,t[9]=-a*c,t[2]=-l*c,t[6]=p*f+g,t[10]=h-x*f}else if("XZY"===e.order){const h=o*u,p=o*l,g=a*u,x=a*l;t[0]=u*c,t[4]=-f,t[8]=l*c,t[1]=h*f+x,t[5]=o*c,t[9]=p*f-g,t[2]=g*f-p,t[6]=a*c,t[10]=x*f+h}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this}makeRotationFromQuaternion(e){return this.compose(HQ,e,zQ)}lookAt(e,t,i){const r=this.elements;return cs.subVectors(e,t),0===cs.lengthSq()&&(cs.z=1),cs.normalize(),Lu.crossVectors(i,cs),0===Lu.lengthSq()&&(1===Math.abs(i.z)?cs.x+=1e-4:cs.z+=1e-4,cs.normalize(),Lu.crossVectors(i,cs)),Lu.normalize(),H4.crossVectors(cs,Lu),r[0]=Lu.x,r[4]=H4.x,r[8]=cs.x,r[1]=Lu.y,r[5]=H4.y,r[9]=cs.y,r[2]=Lu.z,r[6]=H4.z,r[10]=cs.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,t){const i=e.elements,r=t.elements,s=this.elements,o=i[0],a=i[4],u=i[8],l=i[12],c=i[1],f=i[5],h=i[9],p=i[13],g=i[2],x=i[6],_=i[10],v=i[14],w=i[3],M=i[7],D=i[11],T=i[15],P=r[0],U=r[4],W=r[8],I=r[12],F=r[1],J=r[5],ve=r[9],Ee=r[13],j=r[2],se=r[6],ge=r[10],pe=r[14],Ne=r[3],xe=r[7],we=r[11],q=r[15];return s[0]=o*P+a*F+u*j+l*Ne,s[4]=o*U+a*J+u*se+l*xe,s[8]=o*W+a*ve+u*ge+l*we,s[12]=o*I+a*Ee+u*pe+l*q,s[1]=c*P+f*F+h*j+p*Ne,s[5]=c*U+f*J+h*se+p*xe,s[9]=c*W+f*ve+h*ge+p*we,s[13]=c*I+f*Ee+h*pe+p*q,s[2]=g*P+x*F+_*j+v*Ne,s[6]=g*U+x*J+_*se+v*xe,s[10]=g*W+x*ve+_*ge+v*we,s[14]=g*I+x*Ee+_*pe+v*q,s[3]=w*P+M*F+D*j+T*Ne,s[7]=w*U+M*J+D*se+T*xe,s[11]=w*W+M*ve+D*ge+T*we,s[15]=w*I+M*Ee+D*pe+T*q,this}multiplyScalar(e){const t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this}determinant(){const e=this.elements,t=e[0],i=e[4],r=e[8],s=e[12],o=e[1],a=e[5],u=e[9],l=e[13],c=e[2],f=e[6],h=e[10],p=e[14];return e[3]*(+s*u*f-r*l*f-s*a*h+i*l*h+r*a*p-i*u*p)+e[7]*(+t*u*p-t*l*h+s*o*h-r*o*p+r*l*c-s*u*c)+e[11]*(+t*l*f-t*a*p-s*o*f+i*o*p+s*a*c-i*l*c)+e[15]*(-r*a*c-t*u*f+t*a*h+r*o*f-i*o*h+i*u*c)}transpose(){const e=this.elements;let t;return t=e[1],e[1]=e[4],e[4]=t,t=e[2],e[2]=e[8],e[8]=t,t=e[6],e[6]=e[9],e[9]=t,t=e[3],e[3]=e[12],e[12]=t,t=e[7],e[7]=e[13],e[13]=t,t=e[11],e[11]=e[14],e[14]=t,this}setPosition(e,t,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=t,r[14]=i),this}invert(){const e=this.elements,t=e[0],i=e[1],r=e[2],s=e[3],o=e[4],a=e[5],u=e[6],l=e[7],c=e[8],f=e[9],h=e[10],p=e[11],g=e[12],x=e[13],_=e[14],v=e[15],w=f*_*l-x*h*l+x*u*p-a*_*p-f*u*v+a*h*v,M=g*h*l-c*_*l-g*u*p+o*_*p+c*u*v-o*h*v,D=c*x*l-g*f*l+g*a*p-o*x*p-c*a*v+o*f*v,T=g*f*u-c*x*u-g*a*h+o*x*h+c*a*_-o*f*_,P=t*w+i*M+r*D+s*T;if(0===P)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const U=1/P;return e[0]=w*U,e[1]=(x*h*s-f*_*s-x*r*p+i*_*p+f*r*v-i*h*v)*U,e[2]=(a*_*s-x*u*s+x*r*l-i*_*l-a*r*v+i*u*v)*U,e[3]=(f*u*s-a*h*s-f*r*l+i*h*l+a*r*p-i*u*p)*U,e[4]=M*U,e[5]=(c*_*s-g*h*s+g*r*p-t*_*p-c*r*v+t*h*v)*U,e[6]=(g*u*s-o*_*s-g*r*l+t*_*l+o*r*v-t*u*v)*U,e[7]=(o*h*s-c*u*s+c*r*l-t*h*l-o*r*p+t*u*p)*U,e[8]=D*U,e[9]=(g*f*s-c*x*s-g*i*p+t*x*p+c*i*v-t*f*v)*U,e[10]=(o*x*s-g*a*s+g*i*l-t*x*l-o*i*v+t*a*v)*U,e[11]=(c*a*s-o*f*s-c*i*l+t*f*l+o*i*p-t*a*p)*U,e[12]=T*U,e[13]=(c*x*r-g*f*r+g*i*h-t*x*h-c*i*_+t*f*_)*U,e[14]=(g*a*r-o*x*r-g*i*u+t*x*u+o*i*_-t*a*_)*U,e[15]=(o*f*r-c*a*r+c*i*u-t*f*u-o*i*h+t*a*h)*U,this}scale(e){const t=this.elements,i=e.x,r=e.y,s=e.z;return t[0]*=i,t[4]*=r,t[8]*=s,t[1]*=i,t[5]*=r,t[9]*=s,t[2]*=i,t[6]*=r,t[10]*=s,t[3]*=i,t[7]*=r,t[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements;return Math.sqrt(Math.max(e[0]*e[0]+e[1]*e[1]+e[2]*e[2],e[4]*e[4]+e[5]*e[5]+e[6]*e[6],e[8]*e[8]+e[9]*e[9]+e[10]*e[10]))}makeTranslation(e,t,i){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this}makeRotationX(e){const t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this}makeRotationY(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this}makeRotationZ(e){const t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,t){const i=Math.cos(t),r=Math.sin(t),s=1-i,o=e.x,a=e.y,u=e.z,l=s*o,c=s*a;return this.set(l*o+i,l*a-r*u,l*u+r*a,0,l*a+r*u,c*a+i,c*u-r*o,0,l*u-r*a,c*u+r*o,s*u*u+i,0,0,0,0,1),this}makeScale(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,t,i,r,s,o){return this.set(1,i,s,0,e,1,o,0,t,r,1,0,0,0,0,1),this}compose(e,t,i){const r=this.elements,s=t._x,o=t._y,a=t._z,u=t._w,l=s+s,c=o+o,f=a+a,h=s*l,p=s*c,g=s*f,x=o*c,_=o*f,v=a*f,w=u*l,M=u*c,D=u*f,T=i.x,P=i.y,U=i.z;return r[0]=(1-(x+v))*T,r[1]=(p+D)*T,r[2]=(g-M)*T,r[3]=0,r[4]=(p-D)*P,r[5]=(1-(h+v))*P,r[6]=(_+w)*P,r[7]=0,r[8]=(g+M)*U,r[9]=(_-w)*U,r[10]=(1-(h+x))*U,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,t,i){const r=this.elements;let s=Ef.set(r[0],r[1],r[2]).length();const o=Ef.set(r[4],r[5],r[6]).length(),a=Ef.set(r[8],r[9],r[10]).length();this.determinant()<0&&(s=-s),e.x=r[12],e.y=r[13],e.z=r[14],uo.copy(this);const l=1/s,c=1/o,f=1/a;return uo.elements[0]*=l,uo.elements[1]*=l,uo.elements[2]*=l,uo.elements[4]*=c,uo.elements[5]*=c,uo.elements[6]*=c,uo.elements[8]*=f,uo.elements[9]*=f,uo.elements[10]*=f,t.setFromRotationMatrix(uo),i.x=s,i.y=o,i.z=a,this}makePerspective(e,t,i,r,s,o,a=Ca){const u=this.elements,l=2*s/(t-e),c=2*s/(i-r),f=(t+e)/(t-e),h=(i+r)/(i-r);let p,g;if(a===Ca)p=-(o+s)/(o-s),g=-2*o*s/(o-s);else{if(2001!==a)throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+a);p=-o/(o-s),g=-o*s/(o-s)}return u[0]=l,u[4]=0,u[8]=f,u[12]=0,u[1]=0,u[5]=c,u[9]=h,u[13]=0,u[2]=0,u[6]=0,u[10]=p,u[14]=g,u[3]=0,u[7]=0,u[11]=-1,u[15]=0,this}makeOrthographic(e,t,i,r,s,o,a=Ca){const u=this.elements,l=1/(t-e),c=1/(i-r),f=1/(o-s),h=(t+e)*l,p=(i+r)*c;let g,x;if(a===Ca)g=(o+s)*f,x=-2*f;else{if(2001!==a)throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+a);g=s*f,x=-1*f}return u[0]=2*l,u[4]=0,u[8]=0,u[12]=-h,u[1]=0,u[5]=2*c,u[9]=0,u[13]=-p,u[2]=0,u[6]=0,u[10]=x,u[14]=-g,u[3]=0,u[7]=0,u[11]=0,u[15]=1,this}equals(e){const t=this.elements,i=e.elements;for(let r=0;r<16;r++)if(t[r]!==i[r])return!1;return!0}fromArray(e,t=0){for(let i=0;i<16;i++)this.elements[i]=e[i+t];return this}toArray(e=[],t=0){const i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e}}const Ef=new k,uo=new zt,HQ=new k(0,0,0),zQ=new k(1,1,1),Lu=new k,H4=new k,cs=new k,UL=new zt,BL=new ls;let GQ=(()=>{class n{constructor(t=0,i=0,r=0,s=n.DEFAULT_ORDER){this.isEuler=!0,this._x=t,this._y=i,this._z=r,this._order=s}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,i,r,s=this._order){return this._x=t,this._y=i,this._z=r,this._order=s,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,i=this._order,r=!0){const s=t.elements,o=s[0],a=s[4],u=s[8],l=s[1],c=s[5],f=s[9],h=s[2],p=s[6],g=s[10];switch(i){case"XYZ":this._y=Math.asin(ni(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(-f,g),this._z=Math.atan2(-a,o)):(this._x=Math.atan2(p,c),this._z=0);break;case"YXZ":this._x=Math.asin(-ni(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(u,g),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-h,o),this._z=0);break;case"ZXY":this._x=Math.asin(ni(p,-1,1)),Math.abs(p)<.9999999?(this._y=Math.atan2(-h,g),this._z=Math.atan2(-a,c)):(this._y=0,this._z=Math.atan2(l,o));break;case"ZYX":this._y=Math.asin(-ni(h,-1,1)),Math.abs(h)<.9999999?(this._x=Math.atan2(p,g),this._z=Math.atan2(l,o)):(this._x=0,this._z=Math.atan2(-a,c));break;case"YZX":this._z=Math.asin(ni(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-f,c),this._y=Math.atan2(-h,o)):(this._x=0,this._y=Math.atan2(u,g));break;case"XZY":this._z=Math.asin(-ni(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(p,c),this._y=Math.atan2(u,o)):(this._x=Math.atan2(-f,g),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+i)}return this._order=i,!0===r&&this._onChangeCallback(),this}setFromQuaternion(t,i,r){return UL.makeRotationFromQuaternion(t),this.setFromRotationMatrix(UL,i,r)}setFromVector3(t,i=this._order){return this.set(t.x,t.y,t.z,i)}reorder(t){return BL.setFromEuler(this),this.setFromQuaternion(BL,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],i=0){return t[i]=this._x,t[i+1]=this._y,t[i+2]=this._z,t[i+3]=this._order,t}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}return n.DEFAULT_ORDER="XYZ",n})();class zM{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return 0!=(this.mask&e.mask)}isEnabled(e){return 0!=(this.mask&(1<<e|0))}}let WQ=0;const VL=new k,Mf=new ls,Ra=new zt,z4=new k,x0=new k,jQ=new k,$Q=new ls,HL=new k(1,0,0),zL=new k(0,1,0),GL=new k(0,0,1),qQ={type:"added"},XQ={type:"removed"};let Ns=(()=>{class n extends hf{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:WQ++}),this.uuid=us(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=n.DEFAULT_UP.clone();const t=new k,i=new GQ,r=new ls,s=new k(1,1,1);i._onChange(function o(){r.setFromEuler(i,!1)}),r._onChange(function a(){i.setFromQuaternion(r,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:i},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:s},modelViewMatrix:{value:new zt},normalMatrix:{value:new Qt}}),this.matrix=new zt,this.matrixWorld=new zt,this.matrixAutoUpdate=n.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=n.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new zM,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,i){this.quaternion.setFromAxisAngle(t,i)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,i){return Mf.setFromAxisAngle(t,i),this.quaternion.multiply(Mf),this}rotateOnWorldAxis(t,i){return Mf.setFromAxisAngle(t,i),this.quaternion.premultiply(Mf),this}rotateX(t){return this.rotateOnAxis(HL,t)}rotateY(t){return this.rotateOnAxis(zL,t)}rotateZ(t){return this.rotateOnAxis(GL,t)}translateOnAxis(t,i){return VL.copy(t).applyQuaternion(this.quaternion),this.position.add(VL.multiplyScalar(i)),this}translateX(t){return this.translateOnAxis(HL,t)}translateY(t){return this.translateOnAxis(zL,t)}translateZ(t){return this.translateOnAxis(GL,t)}localToWorld(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return this.updateWorldMatrix(!0,!1),t.applyMatrix4(Ra.copy(this.matrixWorld).invert())}lookAt(t,i,r){t.isVector3?z4.copy(t):z4.set(t,i,r);const s=this.parent;this.updateWorldMatrix(!0,!1),x0.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Ra.lookAt(x0,z4,this.up):Ra.lookAt(z4,x0,this.up),this.quaternion.setFromRotationMatrix(Ra),s&&(Ra.extractRotation(s.matrixWorld),Mf.setFromRotationMatrix(Ra),this.quaternion.premultiply(Mf.invert()))}add(t){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.add(arguments[i]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(qQ)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const i=this.children.indexOf(t);return-1!==i&&(t.parent=null,this.children.splice(i,1),t.dispatchEvent(XQ)),this}removeFromParent(){const t=this.parent;return null!==t&&t.remove(this),this}clear(){return this.remove(...this.children)}attach(t){return this.updateWorldMatrix(!0,!1),Ra.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),Ra.multiply(t.parent.matrixWorld)),t.applyMatrix4(Ra),this.add(t),t.updateWorldMatrix(!1,!0),this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,i){if(this[t]===i)return this;for(let r=0,s=this.children.length;r<s;r++){const a=this.children[r].getObjectByProperty(t,i);if(void 0!==a)return a}}getObjectsByProperty(t,i){let r=[];this[t]===i&&r.push(this);for(let s=0,o=this.children.length;s<o;s++){const a=this.children[s].getObjectsByProperty(t,i);a.length>0&&(r=r.concat(a))}return r}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(x0,t,jQ),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(x0,$Q,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const i=this.matrixWorld.elements;return t.set(i[8],i[9],i[10]).normalize()}raycast(){}traverse(t){t(this);const i=this.children;for(let r=0,s=i.length;r<s;r++)i[r].traverse(t)}traverseVisible(t){if(!1===this.visible)return;t(this);const i=this.children;for(let r=0,s=i.length;r<s;r++)i[r].traverseVisible(t)}traverseAncestors(t){const i=this.parent;null!==i&&(t(i),i.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const i=this.children;for(let r=0,s=i.length;r<s;r++){const o=i[r];(!0===o.matrixWorldAutoUpdate||!0===t)&&o.updateMatrixWorld(t)}}updateWorldMatrix(t,i){const r=this.parent;if(!0===t&&null!==r&&!0===r.matrixWorldAutoUpdate&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===i){const s=this.children;for(let o=0,a=s.length;o<a;o++){const u=s[o];!0===u.matrixWorldAutoUpdate&&u.updateWorldMatrix(!1,!0)}}}toJSON(t){const i=void 0===t||"string"==typeof t,r={};i&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const s={};function o(u,l){return void 0===u[l.uuid]&&(u[l.uuid]=l.toJSON(t)),l.uuid}if(s.uuid=this.uuid,s.type=this.type,""!==this.name&&(s.name=this.name),!0===this.castShadow&&(s.castShadow=!0),!0===this.receiveShadow&&(s.receiveShadow=!0),!1===this.visible&&(s.visible=!1),!1===this.frustumCulled&&(s.frustumCulled=!1),0!==this.renderOrder&&(s.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(s.userData=this.userData),s.layers=this.layers.mask,s.matrix=this.matrix.toArray(),s.up=this.up.toArray(),!1===this.matrixAutoUpdate&&(s.matrixAutoUpdate=!1),this.isInstancedMesh&&(s.type="InstancedMesh",s.count=this.count,s.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(s.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?s.background=this.background.toJSON():this.background.isTexture&&(s.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&!0!==this.environment.isRenderTargetTexture&&(s.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){s.geometry=o(t.geometries,this.geometry);const u=this.geometry.parameters;if(void 0!==u&&void 0!==u.shapes){const l=u.shapes;if(Array.isArray(l))for(let c=0,f=l.length;c<f;c++)o(t.shapes,l[c]);else o(t.shapes,l)}}if(this.isSkinnedMesh&&(s.bindMode=this.bindMode,s.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(o(t.skeletons,this.skeleton),s.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const u=[];for(let l=0,c=this.material.length;l<c;l++)u.push(o(t.materials,this.material[l]));s.material=u}else s.material=o(t.materials,this.material);if(this.children.length>0){s.children=[];for(let u=0;u<this.children.length;u++)s.children.push(this.children[u].toJSON(t).object)}if(this.animations.length>0){s.animations=[];for(let u=0;u<this.animations.length;u++)s.animations.push(o(t.animations,this.animations[u]))}if(i){const u=a(t.geometries),l=a(t.materials),c=a(t.textures),f=a(t.images),h=a(t.shapes),p=a(t.skeletons),g=a(t.animations),x=a(t.nodes);u.length>0&&(r.geometries=u),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),f.length>0&&(r.images=f),h.length>0&&(r.shapes=h),p.length>0&&(r.skeletons=p),g.length>0&&(r.animations=g),x.length>0&&(r.nodes=x)}return r.object=s,r;function a(u){const l=[];for(const c in u){const f=u[c];delete f.metadata,l.push(f)}return l}}clone(t){return(new this.constructor).copy(this,t)}copy(t,i=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=t.matrixWorldAutoUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.animations=t.animations.slice(),this.userData=JSON.parse(JSON.stringify(t.userData)),!0===i)for(let r=0;r<t.children.length;r++)this.add(t.children[r].clone());return this}}return n.DEFAULT_UP=new k(0,1,0),n.DEFAULT_MATRIX_AUTO_UPDATE=!0,n.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0,n})();const lo=new k,Pa=new k,GM=new k,Oa=new k,wf=new k,Sf=new k,WL=new k,WM=new k,jM=new k,$M=new k;let G4=!1;class ds{constructor(e=new k,t=new k,i=new k){this.a=e,this.b=t,this.c=i}static getNormal(e,t,i,r){r.subVectors(i,t),lo.subVectors(e,t),r.cross(lo);const s=r.lengthSq();return s>0?r.multiplyScalar(1/Math.sqrt(s)):r.set(0,0,0)}static getBarycoord(e,t,i,r,s){lo.subVectors(r,t),Pa.subVectors(i,t),GM.subVectors(e,t);const o=lo.dot(lo),a=lo.dot(Pa),u=lo.dot(GM),l=Pa.dot(Pa),c=Pa.dot(GM),f=o*l-a*a;if(0===f)return s.set(-2,-1,-1);const h=1/f,p=(l*u-a*c)*h,g=(o*c-a*u)*h;return s.set(1-p-g,g,p)}static containsPoint(e,t,i,r){return this.getBarycoord(e,t,i,r,Oa),Oa.x>=0&&Oa.y>=0&&Oa.x+Oa.y<=1}static getUV(e,t,i,r,s,o,a,u){return!1===G4&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),G4=!0),this.getInterpolation(e,t,i,r,s,o,a,u)}static getInterpolation(e,t,i,r,s,o,a,u){return this.getBarycoord(e,t,i,r,Oa),u.setScalar(0),u.addScaledVector(s,Oa.x),u.addScaledVector(o,Oa.y),u.addScaledVector(a,Oa.z),u}static isFrontFacing(e,t,i,r){return lo.subVectors(i,t),Pa.subVectors(e,t),lo.cross(Pa).dot(r)<0}set(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this}setFromPointsAndIndices(e,t,i,r){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,t,i,r){return this.a.fromBufferAttribute(e,t),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return(new this.constructor).copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return lo.subVectors(this.c,this.b),Pa.subVectors(this.a,this.b),.5*lo.cross(Pa).length()}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return ds.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,t){return ds.getBarycoord(e,this.a,this.b,this.c,t)}getUV(e,t,i,r,s){return!1===G4&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),G4=!0),ds.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}getInterpolation(e,t,i,r,s){return ds.getInterpolation(e,this.a,this.b,this.c,t,i,r,s)}containsPoint(e){return ds.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return ds.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,t){const i=this.a,r=this.b,s=this.c;let o,a;wf.subVectors(r,i),Sf.subVectors(s,i),WM.subVectors(e,i);const u=wf.dot(WM),l=Sf.dot(WM);if(u<=0&&l<=0)return t.copy(i);jM.subVectors(e,r);const c=wf.dot(jM),f=Sf.dot(jM);if(c>=0&&f<=c)return t.copy(r);const h=u*f-c*l;if(h<=0&&u>=0&&c<=0)return o=u/(u-c),t.copy(i).addScaledVector(wf,o);$M.subVectors(e,s);const p=wf.dot($M),g=Sf.dot($M);if(g>=0&&p<=g)return t.copy(s);const x=p*l-u*g;if(x<=0&&l>=0&&g<=0)return a=l/(l-g),t.copy(i).addScaledVector(Sf,a);const _=c*g-p*f;if(_<=0&&f-c>=0&&p-g>=0)return WL.subVectors(s,r),a=(f-c)/(f-c+(p-g)),t.copy(r).addScaledVector(WL,a);const v=1/(_+x+h);return o=x*v,a=h*v,t.copy(i).addScaledVector(wf,o).addScaledVector(Sf,a)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const jL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Fu={h:0,s:0,l:0},W4={h:0,s:0,l:0};function qM(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+6*(e-n)*t:t<.5?e:t<2/3?n+6*(e-n)*(2/3-t):n}class Ke{constructor(e,t,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,t,i)}set(e,t,i){if(void 0===t&&void 0===i){const r=e;r&&r.isColor?this.copy(r):"number"==typeof r?this.setHex(r):"string"==typeof r&&this.setStyle(r)}else this.setRGB(e,t,i);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,t=Bi){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,Dn.toWorkingColorSpace(this,t),this}setRGB(e,t,i,r=Dn.workingColorSpace){return this.r=e,this.g=t,this.b=i,Dn.toWorkingColorSpace(this,r),this}setHSL(e,t,i,r=Dn.workingColorSpace){if(e=function IM(n,e){return(n%e+e)%e}(e,1),t=ni(t,0,1),i=ni(i,0,1),0===t)this.r=this.g=this.b=i;else{const s=i<=.5?i*(1+t):i+t-i*t,o=2*i-s;this.r=qM(o,s,e+1/3),this.g=qM(o,s,e),this.b=qM(o,s,e-1/3)}return Dn.toWorkingColorSpace(this,r),this}setStyle(e,t=Bi){function i(s){void 0!==s&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const a=r[2];switch(r[1]){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,t);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,t);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(a))return i(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,t);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=r[1],o=s.length;if(3===o)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,t);if(6===o)return this.setHex(parseInt(s,16),t);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,t);return this}setColorName(e,t=Bi){const i=jL[e.toLowerCase()];return void 0!==i?this.setHex(i,t):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=gf(e.r),this.g=gf(e.g),this.b=gf(e.b),this}copyLinearToSRGB(e){return this.r=OM(e.r),this.g=OM(e.g),this.b=OM(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Bi){return Dn.fromWorkingColorSpace(sr.copy(this),e),65536*Math.round(ni(255*sr.r,0,255))+256*Math.round(ni(255*sr.g,0,255))+Math.round(ni(255*sr.b,0,255))}getHexString(e=Bi){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,t=Dn.workingColorSpace){Dn.fromWorkingColorSpace(sr.copy(this),t);const i=sr.r,r=sr.g,s=sr.b,o=Math.max(i,r,s),a=Math.min(i,r,s);let u,l;const c=(a+o)/2;if(a===o)u=0,l=0;else{const f=o-a;switch(l=c<=.5?f/(o+a):f/(2-o-a),o){case i:u=(r-s)/f+(r<s?6:0);break;case r:u=(s-i)/f+2;break;case s:u=(i-r)/f+4}u/=6}return e.h=u,e.s=l,e.l=c,e}getRGB(e,t=Dn.workingColorSpace){return Dn.fromWorkingColorSpace(sr.copy(this),t),e.r=sr.r,e.g=sr.g,e.b=sr.b,e}getStyle(e=Bi){Dn.fromWorkingColorSpace(sr.copy(this),e);const t=sr.r,i=sr.g,r=sr.b;return e!==Bi?`color(${e} ${t.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(255*t)},${Math.round(255*i)},${Math.round(255*r)})`}offsetHSL(e,t,i){return this.getHSL(Fu),this.setHSL(Fu.h+e,Fu.s+t,Fu.l+i)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this}lerpColors(e,t,i){return this.r=e.r+(t.r-e.r)*i,this.g=e.g+(t.g-e.g)*i,this.b=e.b+(t.b-e.b)*i,this}lerpHSL(e,t){this.getHSL(Fu),e.getHSL(W4);const i=p0(Fu.h,W4.h,t),r=p0(Fu.s,W4.s,t),s=p0(Fu.l,W4.l,t);return this.setHSL(i,r,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const t=this.r,i=this.g,r=this.b,s=e.elements;return this.r=s[0]*t+s[3]*i+s[6]*r,this.g=s[1]*t+s[4]*i+s[7]*r,this.b=s[2]*t+s[5]*i+s[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,t=0){return this.r=e[t],this.g=e[t+1],this.b=e[t+2],this}toArray(e=[],t=0){return e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}fromBufferAttribute(e,t){return this.r=e.getX(t),this.g=e.getY(t),this.b=e.getZ(t),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const sr=new Ke;Ke.NAMES=jL;let YQ=0;class b0 extends hf{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:YQ++}),this.uuid=us(),this.name="",this.type="Material",this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Ke(0,0,0),this.blendAlpha=0,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=ff,this.stencilZFail=ff,this.stencilZPass=ff,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(void 0!==e)for(const t in e){const i=e[t];if(void 0===i){console.warn(`THREE.Material: parameter '${t}' has value of undefined.`);continue}const r=this[t];void 0!==r?r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[t]=i:console.warn(`THREE.Material: '${t}' is not a property of THREE.${this.type}.`)}}toJSON(e){const t=void 0===e||"string"==typeof e;t&&(e={textures:{},images:{}});const i={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};function r(s){const o=[];for(const a in s){const u=s[a];delete u.metadata,o.push(u)}return o}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),void 0!==this.roughness&&(i.roughness=this.roughness),void 0!==this.metalness&&(i.metalness=this.metalness),void 0!==this.sheen&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),void 0!==this.sheenRoughness&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),void 0!==this.shininess&&(i.shininess=this.shininess),void 0!==this.clearcoat&&(i.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),void 0!==this.iridescence&&(i.iridescence=this.iridescence),void 0!==this.iridescenceIOR&&(i.iridescenceIOR=this.iridescenceIOR),void 0!==this.iridescenceThicknessRange&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),void 0!==this.anisotropy&&(i.anisotropy=this.anisotropy),void 0!==this.anisotropyRotation&&(i.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(i.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,void 0!==this.combine&&(i.combine=this.combine)),void 0!==this.envMapIntensity&&(i.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(i.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),void 0!==this.transmission&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),void 0!==this.thickness&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),void 0!==this.attenuationDistance&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationColor&&(i.attenuationColor=this.attenuationColor.getHex()),void 0!==this.size&&(i.size=this.size),null!==this.shadowSide&&(i.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(i.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(i.blending=this.blending),0!==this.side&&(i.side=this.side),!0===this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),!0===this.transparent&&(i.transparent=!0),204!==this.blendSrc&&(i.blendSrc=this.blendSrc),205!==this.blendDst&&(i.blendDst=this.blendDst),100!==this.blendEquation&&(i.blendEquation=this.blendEquation),null!==this.blendSrcAlpha&&(i.blendSrcAlpha=this.blendSrcAlpha),null!==this.blendDstAlpha&&(i.blendDstAlpha=this.blendDstAlpha),null!==this.blendEquationAlpha&&(i.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(i.blendColor=this.blendColor.getHex()),0!==this.blendAlpha&&(i.blendAlpha=this.blendAlpha),3!==this.depthFunc&&(i.depthFunc=this.depthFunc),!1===this.depthTest&&(i.depthTest=this.depthTest),!1===this.depthWrite&&(i.depthWrite=this.depthWrite),!1===this.colorWrite&&(i.colorWrite=this.colorWrite),255!==this.stencilWriteMask&&(i.stencilWriteMask=this.stencilWriteMask),519!==this.stencilFunc&&(i.stencilFunc=this.stencilFunc),0!==this.stencilRef&&(i.stencilRef=this.stencilRef),255!==this.stencilFuncMask&&(i.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==ff&&(i.stencilFail=this.stencilFail),this.stencilZFail!==ff&&(i.stencilZFail=this.stencilZFail),this.stencilZPass!==ff&&(i.stencilZPass=this.stencilZPass),!0===this.stencilWrite&&(i.stencilWrite=this.stencilWrite),void 0!==this.rotation&&0!==this.rotation&&(i.rotation=this.rotation),!0===this.polygonOffset&&(i.polygonOffset=!0),0!==this.polygonOffsetFactor&&(i.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(i.polygonOffsetUnits=this.polygonOffsetUnits),void 0!==this.linewidth&&1!==this.linewidth&&(i.linewidth=this.linewidth),void 0!==this.dashSize&&(i.dashSize=this.dashSize),void 0!==this.gapSize&&(i.gapSize=this.gapSize),void 0!==this.scale&&(i.scale=this.scale),!0===this.dithering&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),!0===this.alphaHash&&(i.alphaHash=!0),!0===this.alphaToCoverage&&(i.alphaToCoverage=!0),!0===this.premultipliedAlpha&&(i.premultipliedAlpha=!0),!0===this.forceSinglePass&&(i.forceSinglePass=!0),!0===this.wireframe&&(i.wireframe=!0),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(i.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(i.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(i.flatShading=!0),!1===this.visible&&(i.visible=!1),!1===this.toneMapped&&(i.toneMapped=!1),!1===this.fog&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData),t){const s=r(e.textures),o=r(e.images);s.length>0&&(i.textures=s),o.length>0&&(i.images=o)}return i}clone(){return(new this.constructor).copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const t=e.clippingPlanes;let i=null;if(null!==t){const r=t.length;i=new Array(r);for(let s=0;s!==r;++s)i[s]=t[s].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){!0===e&&this.version++}}class jl extends b0{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Ke(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=y4,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Mi=new k,j4=new _e;class Vi{constructor(e,t,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=t,this.count=void 0!==e?e.length/t:0,this.normalized=i,this.usage=35044,this.updateRange={offset:0,count:-1},this.gpuType=wa,this.version=0}onUploadCallback(){}set needsUpdate(e){!0===e&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,t,i){e*=this.itemSize,i*=t.itemSize;for(let r=0,s=this.itemSize;r<s;r++)this.array[e+r]=t.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(2===this.itemSize)for(let t=0,i=this.count;t<i;t++)j4.fromBufferAttribute(this,t),j4.applyMatrix3(e),this.setXY(t,j4.x,j4.y);else if(3===this.itemSize)for(let t=0,i=this.count;t<i;t++)Mi.fromBufferAttribute(this,t),Mi.applyMatrix3(e),this.setXYZ(t,Mi.x,Mi.y,Mi.z);return this}applyMatrix4(e){for(let t=0,i=this.count;t<i;t++)Mi.fromBufferAttribute(this,t),Mi.applyMatrix4(e),this.setXYZ(t,Mi.x,Mi.y,Mi.z);return this}applyNormalMatrix(e){for(let t=0,i=this.count;t<i;t++)Mi.fromBufferAttribute(this,t),Mi.applyNormalMatrix(e),this.setXYZ(t,Mi.x,Mi.y,Mi.z);return this}transformDirection(e){for(let t=0,i=this.count;t<i;t++)Mi.fromBufferAttribute(this,t),Mi.transformDirection(e),this.setXYZ(t,Mi.x,Mi.y,Mi.z);return this}set(e,t=0){return this.array.set(e,t),this}getComponent(e,t){let i=this.array[e*this.itemSize+t];return this.normalized&&(i=Br(i,this.array)),i}setComponent(e,t,i){return this.normalized&&(i=Yt(i,this.array)),this.array[e*this.itemSize+t]=i,this}getX(e){let t=this.array[e*this.itemSize];return this.normalized&&(t=Br(t,this.array)),t}setX(e,t){return this.normalized&&(t=Yt(t,this.array)),this.array[e*this.itemSize]=t,this}getY(e){let t=this.array[e*this.itemSize+1];return this.normalized&&(t=Br(t,this.array)),t}setY(e,t){return this.normalized&&(t=Yt(t,this.array)),this.array[e*this.itemSize+1]=t,this}getZ(e){let t=this.array[e*this.itemSize+2];return this.normalized&&(t=Br(t,this.array)),t}setZ(e,t){return this.normalized&&(t=Yt(t,this.array)),this.array[e*this.itemSize+2]=t,this}getW(e){let t=this.array[e*this.itemSize+3];return this.normalized&&(t=Br(t,this.array)),t}setW(e,t){return this.normalized&&(t=Yt(t,this.array)),this.array[e*this.itemSize+3]=t,this}setXY(e,t,i){return e*=this.itemSize,this.normalized&&(t=Yt(t,this.array),i=Yt(i,this.array)),this.array[e+0]=t,this.array[e+1]=i,this}setXYZ(e,t,i,r){return e*=this.itemSize,this.normalized&&(t=Yt(t,this.array),i=Yt(i,this.array),r=Yt(r,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,t,i,r,s){return e*=this.itemSize,this.normalized&&(t=Yt(t,this.array),i=Yt(i,this.array),r=Yt(r,this.array),s=Yt(s,this.array)),this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return""!==this.name&&(e.name=this.name),35044!==this.usage&&(e.usage=this.usage),(0!==this.updateRange.offset||-1!==this.updateRange.count)&&(e.updateRange=this.updateRange),e}}class $L extends Vi{constructor(e,t,i){super(new Uint16Array(e),t,i)}}class qL extends Vi{constructor(e,t,i){super(new Uint32Array(e),t,i)}}class ot extends Vi{constructor(e,t,i){super(new Float32Array(e),t,i)}}let KQ=0;const Ls=new zt,XM=new Ns,Cf=new k,fs=new Aa,M0=new Aa,Hi=new k;class nn extends hf{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:KQ++}),this.uuid=us(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return this.index=Array.isArray(e)?new(RL(e)?qL:$L)(e,1):e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,t){return this.attributes[e]=t,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return void 0!==this.attributes[e]}addGroup(e,t,i=0){this.groups.push({start:e,count:t,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,t){this.drawRange.start=e,this.drawRange.count=t}applyMatrix4(e){const t=this.attributes.position;void 0!==t&&(t.applyMatrix4(e),t.needsUpdate=!0);const i=this.attributes.normal;if(void 0!==i){const s=(new Qt).getNormalMatrix(e);i.applyNormalMatrix(s),i.needsUpdate=!0}const r=this.attributes.tangent;return void 0!==r&&(r.transformDirection(e),r.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(e){return Ls.makeRotationFromQuaternion(e),this.applyMatrix4(Ls),this}rotateX(e){return Ls.makeRotationX(e),this.applyMatrix4(Ls),this}rotateY(e){return Ls.makeRotationY(e),this.applyMatrix4(Ls),this}rotateZ(e){return Ls.makeRotationZ(e),this.applyMatrix4(Ls),this}translate(e,t,i){return Ls.makeTranslation(e,t,i),this.applyMatrix4(Ls),this}scale(e,t,i){return Ls.makeScale(e,t,i),this.applyMatrix4(Ls),this}lookAt(e){return XM.lookAt(e),XM.updateMatrix(),this.applyMatrix4(XM.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Cf).negate(),this.translate(Cf.x,Cf.y,Cf.z),this}setFromPoints(e){const t=[];for(let i=0,r=e.length;i<r;i++){const s=e[i];t.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new ot(t,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new Aa);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new k(-1/0,-1/0,-1/0),new k(1/0,1/0,1/0));if(void 0!==e){if(this.boundingBox.setFromBufferAttribute(e),t)for(let i=0,r=t.length;i<r;i++)fs.setFromBufferAttribute(t[i]),this.morphTargetsRelative?(Hi.addVectors(this.boundingBox.min,fs.min),this.boundingBox.expandByPoint(Hi),Hi.addVectors(this.boundingBox.max,fs.max),this.boundingBox.expandByPoint(Hi)):(this.boundingBox.expandByPoint(fs.min),this.boundingBox.expandByPoint(fs.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new $o);const e=this.attributes.position,t=this.morphAttributes.position;if(e&&e.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new k,1/0);if(e){const i=this.boundingSphere.center;if(fs.setFromBufferAttribute(e),t)for(let s=0,o=t.length;s<o;s++)M0.setFromBufferAttribute(t[s]),this.morphTargetsRelative?(Hi.addVectors(fs.min,M0.min),fs.expandByPoint(Hi),Hi.addVectors(fs.max,M0.max),fs.expandByPoint(Hi)):(fs.expandByPoint(M0.min),fs.expandByPoint(M0.max));fs.getCenter(i);let r=0;for(let s=0,o=e.count;s<o;s++)Hi.fromBufferAttribute(e,s),r=Math.max(r,i.distanceToSquared(Hi));if(t)for(let s=0,o=t.length;s<o;s++){const a=t[s],u=this.morphTargetsRelative;for(let l=0,c=a.count;l<c;l++)Hi.fromBufferAttribute(a,l),u&&(Cf.fromBufferAttribute(e,l),Hi.add(Cf)),r=Math.max(r,i.distanceToSquared(Hi))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,t=this.attributes;if(null===e||void 0===t.position||void 0===t.normal||void 0===t.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const i=e.array,r=t.position.array,s=t.normal.array,o=t.uv.array,a=r.length/3;!1===this.hasAttribute("tangent")&&this.setAttribute("tangent",new Vi(new Float32Array(4*a),4));const u=this.getAttribute("tangent").array,l=[],c=[];for(let F=0;F<a;F++)l[F]=new k,c[F]=new k;const f=new k,h=new k,p=new k,g=new _e,x=new _e,_=new _e,v=new k,w=new k;function M(F,J,ve){f.fromArray(r,3*F),h.fromArray(r,3*J),p.fromArray(r,3*ve),g.fromArray(o,2*F),x.fromArray(o,2*J),_.fromArray(o,2*ve),h.sub(f),p.sub(f),x.sub(g),_.sub(g);const Ee=1/(x.x*_.y-_.x*x.y);isFinite(Ee)&&(v.copy(h).multiplyScalar(_.y).addScaledVector(p,-x.y).multiplyScalar(Ee),w.copy(p).multiplyScalar(x.x).addScaledVector(h,-_.x).multiplyScalar(Ee),l[F].add(v),l[J].add(v),l[ve].add(v),c[F].add(w),c[J].add(w),c[ve].add(w))}let D=this.groups;0===D.length&&(D=[{start:0,count:i.length}]);for(let F=0,J=D.length;F<J;++F){const ve=D[F],Ee=ve.start;for(let se=Ee,ge=Ee+ve.count;se<ge;se+=3)M(i[se+0],i[se+1],i[se+2])}const T=new k,P=new k,U=new k,W=new k;function I(F){U.fromArray(s,3*F),W.copy(U);const J=l[F];T.copy(J),T.sub(U.multiplyScalar(U.dot(J))).normalize(),P.crossVectors(W,J);const Ee=P.dot(c[F])<0?-1:1;u[4*F]=T.x,u[4*F+1]=T.y,u[4*F+2]=T.z,u[4*F+3]=Ee}for(let F=0,J=D.length;F<J;++F){const ve=D[F],Ee=ve.start;for(let se=Ee,ge=Ee+ve.count;se<ge;se+=3)I(i[se+0]),I(i[se+1]),I(i[se+2])}}computeVertexNormals(){const e=this.index,t=this.getAttribute("position");if(void 0!==t){let i=this.getAttribute("normal");if(void 0===i)i=new Vi(new Float32Array(3*t.count),3),this.setAttribute("normal",i);else for(let h=0,p=i.count;h<p;h++)i.setXYZ(h,0,0,0);const r=new k,s=new k,o=new k,a=new k,u=new k,l=new k,c=new k,f=new k;if(e)for(let h=0,p=e.count;h<p;h+=3){const g=e.getX(h+0),x=e.getX(h+1),_=e.getX(h+2);r.fromBufferAttribute(t,g),s.fromBufferAttribute(t,x),o.fromBufferAttribute(t,_),c.subVectors(o,s),f.subVectors(r,s),c.cross(f),a.fromBufferAttribute(i,g),u.fromBufferAttribute(i,x),l.fromBufferAttribute(i,_),a.add(c),u.add(c),l.add(c),i.setXYZ(g,a.x,a.y,a.z),i.setXYZ(x,u.x,u.y,u.z),i.setXYZ(_,l.x,l.y,l.z)}else for(let h=0,p=t.count;h<p;h+=3)r.fromBufferAttribute(t,h+0),s.fromBufferAttribute(t,h+1),o.fromBufferAttribute(t,h+2),c.subVectors(o,s),f.subVectors(r,s),c.cross(f),i.setXYZ(h+0,c.x,c.y,c.z),i.setXYZ(h+1,c.x,c.y,c.z),i.setXYZ(h+2,c.x,c.y,c.z);this.normalizeNormals(),i.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let t=0,i=e.count;t<i;t++)Hi.fromBufferAttribute(e,t),Hi.normalize(),e.setXYZ(t,Hi.x,Hi.y,Hi.z)}toNonIndexed(){function e(a,u){const l=a.array,c=a.itemSize,f=a.normalized,h=new l.constructor(u.length*c);let p=0,g=0;for(let x=0,_=u.length;x<_;x++){p=a.isInterleavedBufferAttribute?u[x]*a.data.stride+a.offset:u[x]*c;for(let v=0;v<c;v++)h[g++]=l[p++]}return new Vi(h,c,f)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const t=new nn,i=this.index.array,r=this.attributes;for(const a in r){const l=e(r[a],i);t.setAttribute(a,l)}const s=this.morphAttributes;for(const a in s){const u=[],l=s[a];for(let c=0,f=l.length;c<f;c++){const p=e(l[c],i);u.push(p)}t.morphAttributes[a]=u}t.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let a=0,u=o.length;a<u;a++){const l=o[a];t.addGroup(l.start,l.count,l.materialIndex)}return t}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),void 0!==this.parameters){const u=this.parameters;for(const l in u)void 0!==u[l]&&(e[l]=u[l]);return e}e.data={attributes:{}};const t=this.index;null!==t&&(e.data.index={type:t.array.constructor.name,array:Array.prototype.slice.call(t.array)});const i=this.attributes;for(const u in i)e.data.attributes[u]=i[u].toJSON(e.data);const r={};let s=!1;for(const u in this.morphAttributes){const l=this.morphAttributes[u],c=[];for(let f=0,h=l.length;f<h;f++)c.push(l[f].toJSON(e.data));c.length>0&&(r[u]=c,s=!0)}s&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const a=this.boundingSphere;return null!==a&&(e.data.boundingSphere={center:a.center.toArray(),radius:a.radius}),e}clone(){return(new this.constructor).copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const t={};this.name=e.name;const i=e.index;null!==i&&this.setIndex(i.clone(t));const r=e.attributes;for(const l in r)this.setAttribute(l,r[l].clone(t));const s=e.morphAttributes;for(const l in s){const c=[],f=s[l];for(let h=0,p=f.length;h<p;h++)c.push(f[h].clone(t));this.morphAttributes[l]=c}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let l=0,c=o.length;l<c;l++){const f=o[l];this.addGroup(f.start,f.count,f.materialIndex)}const a=e.boundingBox;null!==a&&(this.boundingBox=a.clone());const u=e.boundingSphere;return null!==u&&(this.boundingSphere=u.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const XL=new zt,$l=new y0,$4=new $o,YL=new k,Df=new k,Af=new k,Tf=new k,YM=new k,q4=new k,X4=new _e,Y4=new _e,Z4=new _e,ZL=new k,KL=new k,JL=new k,K4=new k,J4=new k;class or extends Ns{constructor(e=new nn,t=new jl){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=t,this.updateMorphTargets()}copy(e,t){return super.copy(e,t),void 0!==e.morphTargetInfluences&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),void 0!==e.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const t=this.geometry.morphAttributes,i=Object.keys(t);if(i.length>0){const r=t[i[0]];if(void 0!==r){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,o=r.length;s<o;s++){const a=r[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[a]=s}}}}getVertexPosition(e,t){const i=this.geometry,s=i.morphAttributes.position,o=i.morphTargetsRelative;t.fromBufferAttribute(i.attributes.position,e);const a=this.morphTargetInfluences;if(s&&a){q4.set(0,0,0);for(let u=0,l=s.length;u<l;u++){const c=a[u];0!==c&&(YM.fromBufferAttribute(s[u],e),q4.addScaledVector(o?YM:YM.sub(t),c))}t.add(q4)}return t}raycast(e,t){const i=this.geometry,s=this.matrixWorld;void 0!==this.material&&(null===i.boundingSphere&&i.computeBoundingSphere(),$4.copy(i.boundingSphere),$4.applyMatrix4(s),$l.copy(e.ray).recast(e.near),(!1!==$4.containsPoint($l.origin)||!(null===$l.intersectSphere($4,YL)||$l.origin.distanceToSquared(YL)>(e.far-e.near)**2))&&(XL.copy(s).invert(),$l.copy(e.ray).applyMatrix4(XL),(null===i.boundingBox||!1!==$l.intersectsBox(i.boundingBox))&&this._computeIntersections(e,t,$l)))}_computeIntersections(e,t,i){let r;const s=this.geometry,o=this.material,a=s.index,u=s.attributes.position,l=s.attributes.uv,c=s.attributes.uv1,f=s.attributes.normal,h=s.groups,p=s.drawRange;if(null!==a)if(Array.isArray(o))for(let g=0,x=h.length;g<x;g++){const _=h[g],v=o[_.materialIndex];for(let D=Math.max(_.start,p.start),T=Math.min(a.count,Math.min(_.start+_.count,p.start+p.count));D<T;D+=3)r=Q4(this,v,e,i,l,c,f,a.getX(D),a.getX(D+1),a.getX(D+2)),r&&(r.faceIndex=Math.floor(D/3),r.face.materialIndex=_.materialIndex,t.push(r))}else for(let _=Math.max(0,p.start),v=Math.min(a.count,p.start+p.count);_<v;_+=3)r=Q4(this,o,e,i,l,c,f,a.getX(_),a.getX(_+1),a.getX(_+2)),r&&(r.faceIndex=Math.floor(_/3),t.push(r));else if(void 0!==u)if(Array.isArray(o))for(let g=0,x=h.length;g<x;g++){const _=h[g],v=o[_.materialIndex];for(let D=Math.max(_.start,p.start),T=Math.min(u.count,Math.min(_.start+_.count,p.start+p.count));D<T;D+=3)r=Q4(this,v,e,i,l,c,f,D,D+1,D+2),r&&(r.faceIndex=Math.floor(D/3),r.face.materialIndex=_.materialIndex,t.push(r))}else for(let _=Math.max(0,p.start),v=Math.min(u.count,p.start+p.count);_<v;_+=3)r=Q4(this,o,e,i,l,c,f,_,_+1,_+2),r&&(r.faceIndex=Math.floor(_/3),t.push(r))}}function Q4(n,e,t,i,r,s,o,a,u,l){n.getVertexPosition(a,Df),n.getVertexPosition(u,Af),n.getVertexPosition(l,Tf);const c=function JQ(n,e,t,i,r,s,o,a){let u;if(u=1===e.side?i.intersectTriangle(o,s,r,!0,a):i.intersectTriangle(r,s,o,0===e.side,a),null===u)return null;J4.copy(a),J4.applyMatrix4(n.matrixWorld);const l=t.ray.origin.distanceTo(J4);return l<t.near||l>t.far?null:{distance:l,point:J4.clone(),object:n}}(n,e,t,i,Df,Af,Tf,K4);if(c){r&&(X4.fromBufferAttribute(r,a),Y4.fromBufferAttribute(r,u),Z4.fromBufferAttribute(r,l),c.uv=ds.getInterpolation(K4,Df,Af,Tf,X4,Y4,Z4,new _e)),s&&(X4.fromBufferAttribute(s,a),Y4.fromBufferAttribute(s,u),Z4.fromBufferAttribute(s,l),c.uv1=ds.getInterpolation(K4,Df,Af,Tf,X4,Y4,Z4,new _e),c.uv2=c.uv1),o&&(ZL.fromBufferAttribute(o,a),KL.fromBufferAttribute(o,u),JL.fromBufferAttribute(o,l),c.normal=ds.getInterpolation(K4,Df,Af,Tf,ZL,KL,JL,new k),c.normal.dot(i.direction)>0&&c.normal.multiplyScalar(-1));const f={a,b:u,c:l,normal:new k,materialIndex:0};ds.getNormal(Df,Af,Tf,f.normal),c.face=f}return c}class If extends nn{constructor(e=1,t=1,i=1,r=1,s=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:r,heightSegments:s,depthSegments:o};const a=this;r=Math.floor(r),s=Math.floor(s),o=Math.floor(o);const u=[],l=[],c=[],f=[];let h=0,p=0;function g(x,_,v,w,M,D,T,P,U,W,I){const F=D/U,J=T/W,ve=D/2,Ee=T/2,j=P/2,se=U+1,ge=W+1;let pe=0,Ne=0;const xe=new k;for(let we=0;we<ge;we++){const q=we*J-Ee;for(let fe=0;fe<se;fe++)xe[x]=(fe*F-ve)*w,xe[_]=q*M,xe[v]=j,l.push(xe.x,xe.y,xe.z),xe[x]=0,xe[_]=0,xe[v]=P>0?1:-1,c.push(xe.x,xe.y,xe.z),f.push(fe/U),f.push(1-we/W),pe+=1}for(let we=0;we<W;we++)for(let q=0;q<U;q++){const je=h+q+se*(we+1),Je=h+(q+1)+se*(we+1),tt=h+(q+1)+se*we;u.push(h+q+se*we,je,tt),u.push(je,Je,tt),Ne+=6}a.addGroup(p,Ne,I),p+=Ne,h+=pe}g("z","y","x",-1,-1,i,t,e,o,s,0),g("z","y","x",1,-1,i,t,-e,o,s,1),g("x","z","y",1,1,e,i,t,r,o,2),g("x","z","y",1,-1,e,i,-t,r,o,3),g("x","y","z",1,-1,e,t,i,r,s,4),g("x","y","z",-1,-1,e,t,-i,r,s,5),this.setIndex(u),this.setAttribute("position",new ot(l,3)),this.setAttribute("normal",new ot(c,3)),this.setAttribute("uv",new ot(f,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new If(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Rf(n){const e={};for(const t in n){e[t]={};for(const i in n[t]){const r=n[t][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[t][i]=null):e[t][i]=r.clone():e[t][i]=Array.isArray(r)?r.slice():r}}return e}function Er(n){const e={};for(let t=0;t<n.length;t++){const i=Rf(n[t]);for(const r in i)e[r]=i[r]}return e}function QL(n){return null===n.getRenderTarget()?n.outputColorSpace:Dn.workingColorSpace}const eee={clone:Rf,merge:Er};class co extends b0{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==e&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Rf(e.uniforms),this.uniformsGroups=function QQ(n){const e=[];for(let t=0;t<n.length;t++)e.push(n[t].clone());return e}(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const t=super.toJSON(e);t.glslVersion=this.glslVersion,t.uniforms={};for(const r in this.uniforms){const o=this.uniforms[r].value;t.uniforms[r]=o&&o.isTexture?{type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?{type:"c",value:o.getHex()}:o&&o.isVector2?{type:"v2",value:o.toArray()}:o&&o.isVector3?{type:"v3",value:o.toArray()}:o&&o.isVector4?{type:"v4",value:o.toArray()}:o&&o.isMatrix3?{type:"m3",value:o.toArray()}:o&&o.isMatrix4?{type:"m4",value:o.toArray()}:{value:o}}Object.keys(this.defines).length>0&&(t.defines=this.defines),t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t.lights=this.lights,t.clipping=this.clipping;const i={};for(const r in this.extensions)!0===this.extensions[r]&&(i[r]=!0);return Object.keys(i).length>0&&(t.extensions=i),t}}class ZM extends Ns{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new zt,this.projectionMatrix=new zt,this.projectionMatrixInverse=new zt,this.coordinateSystem=Ca}copy(e,t){return super.copy(e,t),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,t){super.updateWorldMatrix(e,t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}class ar extends ZM{constructor(e=50,t=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=t,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=null===e.view?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const t=.5*this.getFilmHeight()/e;this.fov=2*pf*Math.atan(t),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(.5*zl*this.fov);return.5*this.getFilmHeight()/e}getEffectiveFOV(){return 2*pf*Math.atan(Math.tan(.5*zl*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,t,i,r,s,o){this.aspect=e/t,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let t=e*Math.tan(.5*zl*this.fov)/this.zoom,i=2*t,r=this.aspect*i,s=-.5*r;const o=this.view;if(null!==this.view&&this.view.enabled){const u=o.fullWidth,l=o.fullHeight;s+=o.offsetX*r/u,t-=o.offsetY*i/l,r*=o.width/u,i*=o.height/l}const a=this.filmOffset;0!==a&&(s+=e*a/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+r,t,t-i,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.fov=this.fov,t.object.zoom=this.zoom,t.object.near=this.near,t.object.far=this.far,t.object.focus=this.focus,t.object.aspect=this.aspect,null!==this.view&&(t.object.view=Object.assign({},this.view)),t.object.filmGauge=this.filmGauge,t.object.filmOffset=this.filmOffset,t}}class iee extends Ns{constructor(e,t,i){super(),this.type="CubeCamera",this.renderTarget=i,this.coordinateSystem=null,this.activeMipmapLevel=0;const r=new ar(-90,1,e,t);r.layers=this.layers,this.add(r);const s=new ar(-90,1,e,t);s.layers=this.layers,this.add(s);const o=new ar(-90,1,e,t);o.layers=this.layers,this.add(o);const a=new ar(-90,1,e,t);a.layers=this.layers,this.add(a);const u=new ar(-90,1,e,t);u.layers=this.layers,this.add(u);const l=new ar(-90,1,e,t);l.layers=this.layers,this.add(l)}updateCoordinateSystem(){const e=this.coordinateSystem,t=this.children.concat(),[i,r,s,o,a,u]=t;for(const l of t)this.remove(l);if(e===Ca)i.up.set(0,1,0),i.lookAt(1,0,0),r.up.set(0,1,0),r.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),a.up.set(0,1,0),a.lookAt(0,0,1),u.up.set(0,1,0),u.lookAt(0,0,-1);else{if(2001!==e)throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);i.up.set(0,-1,0),i.lookAt(-1,0,0),r.up.set(0,-1,0),r.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),a.up.set(0,-1,0),a.lookAt(0,0,1),u.up.set(0,-1,0),u.lookAt(0,0,-1)}for(const l of t)this.add(l),l.updateMatrixWorld()}update(e,t){null===this.parent&&this.updateMatrixWorld();const{renderTarget:i,activeMipmapLevel:r}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,o,a,u,l,c]=this.children,f=e.getRenderTarget(),h=e.getActiveCubeFace(),p=e.getActiveMipmapLevel(),g=e.xr.enabled;e.xr.enabled=!1;const x=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0,r),e.render(t,s),e.setRenderTarget(i,1,r),e.render(t,o),e.setRenderTarget(i,2,r),e.render(t,a),e.setRenderTarget(i,3,r),e.render(t,u),e.setRenderTarget(i,4,r),e.render(t,l),i.texture.generateMipmaps=x,e.setRenderTarget(i,5,r),e.render(t,c),e.setRenderTarget(f,h,p),e.xr.enabled=g,i.texture.needsPMREMUpdate=!0}}class e_ extends Ru{constructor(e,t,i,r,s,o,a,u,l,c){super(e=void 0!==e?e:[],t=void 0!==t?t:Au,i,r,s,o,a,u,l,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class ree extends Da{constructor(e=1,t={}){super(e,e,t),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];void 0!==t.encoding&&(g0("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),t.colorSpace=t.encoding===Vl?Bi:""),this.texture=new e_(r,t.mapping,t.wrapS,t.wrapT,t.magFilter,t.minFilter,t.format,t.type,t.anisotropy,t.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==t.generateMipmaps&&t.generateMipmaps,this.texture.minFilter=void 0!==t.minFilter?t.minFilter:Ei}fromEquirectangularTexture(e,t){this.texture.type=t.type,this.texture.colorSpace=t.colorSpace,this.texture.generateMipmaps=t.generateMipmaps,this.texture.minFilter=t.minFilter,this.texture.magFilter=t.magFilter;const i_uniforms={tEquirect:{value:null}},i_vertexShader="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",i_fragmentShader="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",r=new If(5,5,5),s=new co({name:"CubemapFromEquirect",uniforms:Rf(i_uniforms),vertexShader:i_vertexShader,fragmentShader:i_fragmentShader,side:1,blending:0});s.uniforms.tEquirect.value=t;const o=new or(r,s),a=t.minFilter;return t.minFilter===kl&&(t.minFilter=Ei),new iee(1,10,this).update(e,o),t.minFilter=a,o.geometry.dispose(),o.material.dispose(),this}clear(e,t,i,r){const s=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(t,i,r);e.setRenderTarget(s)}}const KM=new k,see=new k,oee=new Qt;class ql{constructor(e=new k(1,0,0),t=0){this.isPlane=!0,this.normal=e,this.constant=t}set(e,t){return this.normal.copy(e),this.constant=t,this}setComponents(e,t,i,r){return this.normal.set(e,t,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this}setFromCoplanarPoints(e,t,i){const r=KM.subVectors(i,t).cross(see.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,t){return t.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,t){const i=e.delta(KM),r=this.normal.dot(i);if(0===r)return 0===this.distanceToPoint(e.start)?t.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/r;return s<0||s>1?null:t.copy(e.start).addScaledVector(i,s)}intersectsLine(e){const t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&i>0||i<0&&t>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,t){const i=t||oee.getNormalMatrix(e),r=this.coplanarPoint(KM).applyMatrix4(e),s=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return(new this.constructor).copy(this)}}const Xl=new $o,t_=new k;class JM{constructor(e=new ql,t=new ql,i=new ql,r=new ql,s=new ql,o=new ql){this.planes=[e,t,i,r,s,o]}set(e,t,i,r,s,o){const a=this.planes;return a[0].copy(e),a[1].copy(t),a[2].copy(i),a[3].copy(r),a[4].copy(s),a[5].copy(o),this}copy(e){const t=this.planes;for(let i=0;i<6;i++)t[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e,t=Ca){const i=this.planes,r=e.elements,s=r[0],o=r[1],a=r[2],u=r[3],l=r[4],c=r[5],f=r[6],h=r[7],p=r[8],g=r[9],x=r[10],_=r[11],v=r[12],w=r[13],M=r[14],D=r[15];if(i[0].setComponents(u-s,h-l,_-p,D-v).normalize(),i[1].setComponents(u+s,h+l,_+p,D+v).normalize(),i[2].setComponents(u+o,h+c,_+g,D+w).normalize(),i[3].setComponents(u-o,h-c,_-g,D-w).normalize(),i[4].setComponents(u-a,h-f,_-x,D-M).normalize(),t===Ca)i[5].setComponents(u+a,h+f,_+x,D+M).normalize();else{if(2001!==t)throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+t);i[5].setComponents(a,f,x,M).normalize()}return this}intersectsObject(e){if(void 0!==e.boundingSphere)null===e.boundingSphere&&e.computeBoundingSphere(),Xl.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const t=e.geometry;null===t.boundingSphere&&t.computeBoundingSphere(),Xl.copy(t.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(Xl)}intersectsSprite(e){return Xl.center.set(0,0,0),Xl.radius=.7071067811865476,Xl.applyMatrix4(e.matrixWorld),this.intersectsSphere(Xl)}intersectsSphere(e){const t=this.planes,i=e.center,r=-e.radius;for(let s=0;s<6;s++)if(t[s].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const t=this.planes;for(let i=0;i<6;i++){const r=t[i];if(t_.x=r.normal.x>0?e.max.x:e.min.x,t_.y=r.normal.y>0?e.max.y:e.min.y,t_.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(t_)<0)return!1}return!0}containsPoint(e){const t=this.planes;for(let i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function eF(){let n=null,e=!1,t=null,i=null;function r(s,o){t(s,o),i=n.requestAnimationFrame(r)}return{start:function(){!0!==e&&null!==t&&(i=n.requestAnimationFrame(r),e=!0)},stop:function(){n.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(s){t=s},setContext:function(s){n=s}}}function aee(n,e){const t=e.isWebGL2,i=new WeakMap;return{get:function o(l){return l.isInterleavedBufferAttribute&&(l=l.data),i.get(l)},remove:function a(l){l.isInterleavedBufferAttribute&&(l=l.data);const c=i.get(l);c&&(n.deleteBuffer(c.buffer),i.delete(l))},update:function u(l,c){if(l.isGLBufferAttribute){const h=i.get(l);return void((!h||h.version<l.version)&&i.set(l,{buffer:l.buffer,type:l.type,bytesPerElement:l.elementSize,version:l.version}))}l.isInterleavedBufferAttribute&&(l=l.data);const f=i.get(l);void 0===f?i.set(l,function r(l,c){const f=l.array,h=l.usage,p=n.createBuffer();let g;if(n.bindBuffer(c,p),n.bufferData(c,f,h),l.onUploadCallback(),f instanceof Float32Array)g=n.FLOAT;else if(f instanceof Uint16Array)if(l.isFloat16BufferAttribute){if(!t)throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");g=n.HALF_FLOAT}else g=n.UNSIGNED_SHORT;else if(f instanceof Int16Array)g=n.SHORT;else if(f instanceof Uint32Array)g=n.UNSIGNED_INT;else if(f instanceof Int32Array)g=n.INT;else if(f instanceof Int8Array)g=n.BYTE;else if(f instanceof Uint8Array)g=n.UNSIGNED_BYTE;else{if(!(f instanceof Uint8ClampedArray))throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);g=n.UNSIGNED_BYTE}return{buffer:p,type:g,bytesPerElement:f.BYTES_PER_ELEMENT,version:l.version}}(l,c)):f.version<l.version&&(function s(l,c,f){const h=c.array,p=c.updateRange;n.bindBuffer(f,l),-1===p.count?n.bufferSubData(f,0,h):(t?n.bufferSubData(f,p.offset*h.BYTES_PER_ELEMENT,h,p.offset,p.count):n.bufferSubData(f,p.offset*h.BYTES_PER_ELEMENT,h.subarray(p.offset,p.offset+p.count)),p.count=-1),c.onUploadCallback()}(f.buffer,l,c),f.version=l.version)}}}class Nf extends nn{constructor(e=1,t=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:r};const s=e/2,o=t/2,a=Math.floor(i),u=Math.floor(r),l=a+1,c=u+1,f=e/a,h=t/u,p=[],g=[],x=[],_=[];for(let v=0;v<c;v++){const w=v*h-o;for(let M=0;M<l;M++)g.push(M*f-s,-w,0),x.push(0,0,1),_.push(M/a),_.push(1-v/u)}for(let v=0;v<u;v++)for(let w=0;w<a;w++){const D=w+l*(v+1),T=w+1+l*(v+1),P=w+1+l*v;p.push(w+l*v,D,P),p.push(D,T,P)}this.setIndex(p),this.setAttribute("position",new ot(g,3)),this.setAttribute("normal",new ot(x,3)),this.setAttribute("uv",new ot(_,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Nf(e.width,e.height,e.widthSegments,e.heightSegments)}}const Kt={alphahash_fragment:"#ifdef USE_ALPHAHASH\n\tif ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;\n#endif",alphahash_pars_fragment:"#ifdef USE_ALPHAHASH\n\tconst float ALPHA_HASH_SCALE = 0.05;\n\tfloat hash2D( vec2 value ) {\n\t\treturn fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );\n\t}\n\tfloat hash3D( vec3 value ) {\n\t\treturn hash2D( vec2( hash2D( value.xy ), value.z ) );\n\t}\n\tfloat getAlphaHashThreshold( vec3 position ) {\n\t\tfloat maxDeriv = max(\n\t\t\tlength( dFdx( position.xyz ) ),\n\t\t\tlength( dFdy( position.xyz ) )\n\t\t);\n\t\tfloat pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );\n\t\tvec2 pixScales = vec2(\n\t\t\texp2( floor( log2( pixScale ) ) ),\n\t\t\texp2( ceil( log2( pixScale ) ) )\n\t\t);\n\t\tvec2 alpha = vec2(\n\t\t\thash3D( floor( pixScales.x * position.xyz ) ),\n\t\t\thash3D( floor( pixScales.y * position.xyz ) )\n\t\t);\n\t\tfloat lerpFactor = fract( log2( pixScale ) );\n\t\tfloat x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;\n\t\tfloat a = min( lerpFactor, 1.0 - lerpFactor );\n\t\tvec3 cases = vec3(\n\t\t\tx * x / ( 2.0 * a * ( 1.0 - a ) ),\n\t\t\t( x - 0.5 * a ) / ( 1.0 - a ),\n\t\t\t1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )\n\t\t);\n\t\tfloat threshold = ( x < ( 1.0 - a ) )\n\t\t\t? ( ( x < a ) ? cases.x : cases.y )\n\t\t\t: cases.z;\n\t\treturn clamp( threshold , 1.0e-6, 1.0 );\n\t}\n#endif",alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_CLEARCOAT ) \n\t\tclearcoatSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_SHEEN ) \n\t\tsheenSpecularIndirect *= ambientOcclusion;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometryNormal, geometryViewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );\n#ifdef USE_ALPHAHASH\n\tvPosition = vec3( position );\n#endif",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"float G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n} // validated",iridescence_fragment:"#ifdef USE_IRIDESCENCE\n\tconst mat3 XYZ_TO_REC709 = mat3(\n\t\t 3.2404542, -0.9692660,  0.0556434,\n\t\t-1.5371385,  1.8760108, -0.2040259,\n\t\t-0.4985314,  0.0415560,  1.0572252\n\t);\n\tvec3 Fresnel0ToIor( vec3 fresnel0 ) {\n\t\tvec3 sqrtF0 = sqrt( fresnel0 );\n\t\treturn ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );\n\t}\n\tvec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );\n\t}\n\tfloat IorToFresnel0( float transmittedIor, float incidentIor ) {\n\t\treturn pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));\n\t}\n\tvec3 evalSensitivity( float OPD, vec3 shift ) {\n\t\tfloat phase = 2.0 * PI * OPD * 1.0e-9;\n\t\tvec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );\n\t\tvec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );\n\t\tvec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );\n\t\tvec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );\n\t\txyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );\n\t\txyz /= 1.0685e-7;\n\t\tvec3 rgb = XYZ_TO_REC709 * xyz;\n\t\treturn rgb;\n\t}\n\tvec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {\n\t\tvec3 I;\n\t\tfloat iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );\n\t\tfloat sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );\n\t\tfloat cosTheta2Sq = 1.0 - sinTheta2Sq;\n\t\tif ( cosTheta2Sq < 0.0 ) {\n\t\t\treturn vec3( 1.0 );\n\t\t}\n\t\tfloat cosTheta2 = sqrt( cosTheta2Sq );\n\t\tfloat R0 = IorToFresnel0( iridescenceIOR, outsideIOR );\n\t\tfloat R12 = F_Schlick( R0, 1.0, cosTheta1 );\n\t\tfloat T121 = 1.0 - R12;\n\t\tfloat phi12 = 0.0;\n\t\tif ( iridescenceIOR < outsideIOR ) phi12 = PI;\n\t\tfloat phi21 = PI - phi12;\n\t\tvec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );\t\tvec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );\n\t\tvec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );\n\t\tvec3 phi23 = vec3( 0.0 );\n\t\tif ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;\n\t\tif ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;\n\t\tif ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;\n\t\tfloat OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;\n\t\tvec3 phi = vec3( phi21 ) + phi23;\n\t\tvec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );\n\t\tvec3 r123 = sqrt( R123 );\n\t\tvec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );\n\t\tvec3 C0 = R12 + Rs;\n\t\tI = C0;\n\t\tvec3 Cm = Rs - T121;\n\t\tfor ( int m = 1; m <= 2; ++ m ) {\n\t\t\tCm *= r123;\n\t\t\tvec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );\n\t\t\tI += Cm * Sm;\n\t\t}\n\t\treturn max( I, vec3( 0.0 ) );\n\t}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vBumpMapUv );\n\t\tvec2 dSTdy = dFdy( vBumpMapUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );\n\t\tvec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nvec3 pow2( const in vec3 x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\n#ifdef USE_ALPHAHASH\n\tvarying vec3 vPosition;\n#endif\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat luminance( const in vec3 rgb ) {\n\tconst vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );\n\treturn dot( weights, rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}\nvec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat F_Schlick( const in float f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n} // validated",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\thighp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tuv.x += filterInt * 3.0 * cubeUV_minTileSize;\n\t\tuv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );\n\t\tuv.x *= CUBEUV_TEXEL_WIDTH;\n\t\tuv.y *= CUBEUV_TEXEL_HEIGHT;\n\t\t#ifdef texture2DGradEXT\n\t\t\treturn texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;\n\t\t#else\n\t\t\treturn texture2D( envMap, uv ).rgb;\n\t\t#endif\n\t}\n\t#define cubeUV_r0 1.0\n\t#define cubeUV_v0 0.339\n\t#define cubeUV_m0 - 2.0\n\t#define cubeUV_r1 0.8\n\t#define cubeUV_v1 0.276\n\t#define cubeUV_m1 - 1.0\n\t#define cubeUV_r4 0.4\n\t#define cubeUV_v4 0.046\n\t#define cubeUV_m4 2.0\n\t#define cubeUV_r5 0.305\n\t#define cubeUV_v5 0.016\n\t#define cubeUV_m5 3.0\n\t#define cubeUV_r6 0.21\n\t#define cubeUV_v6 0.0038\n\t#define cubeUV_m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= cubeUV_r1 ) {\n\t\t\tmip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;\n\t\t} else if ( roughness >= cubeUV_r4 ) {\n\t\t\tmip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;\n\t\t} else if ( roughness >= cubeUV_r5 ) {\n\t\t\tmip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;\n\t\t} else if ( roughness >= cubeUV_r6 ) {\n\t\t\tmip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",colorspace_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",colorspace_pars_fragment:"\nconst mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(\n\tvec3( 0.8224621, 0.177538, 0.0 ),\n\tvec3( 0.0331941, 0.9668058, 0.0 ),\n\tvec3( 0.0170827, 0.0723974, 0.9105199 )\n);\nconst mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(\n\tvec3( 1.2249401, - 0.2249404, 0.0 ),\n\tvec3( - 0.0420569, 1.0420571, 0.0 ),\n\tvec3( - 0.0196376, - 0.0786361, 1.0982735 )\n);\nvec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {\n\treturn vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );\n}\nvec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {\n\treturn vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );\n}\nvec4 LinearTransferOETF( in vec4 value ) {\n\treturn value;\n}\nvec4 sRGBTransferOETF( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn sRGBTransferOETF( value );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#ifdef USE_ENVMAP\n\tvec3 getIBLIrradiance( const in vec3 normal ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\tvec3 reflectVec = reflect( - viewDir, normal );\n\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\t#ifdef USE_ANISOTROPY\n\t\tvec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {\n\t\t\t#ifdef ENVMAP_TYPE_CUBE_UV\n\t\t\t\tvec3 bentNormal = cross( bitangent, viewDir );\n\t\t\t\tbentNormal = normalize( cross( bentNormal, bitangent ) );\n\t\t\t\tbentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );\n\t\t\t\treturn getIBLRadiance( viewDir, bentNormal, roughness );\n\t\t\t#else\n\t\t\t\treturn vec3( 0.0 );\n\t\t\t#endif\n\t\t}\n\t#endif\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn vec3( texture2D( gradientMap, coord ).r );\n\t#else\n\t\tvec2 fw = fwidth( coord ) * 0.5;\n\t\treturn mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_fragment:"LambertMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularStrength = specularStrength;",lights_lambert_pars_fragment:"varying vec3 vViewPosition;\nstruct LambertMaterial {\n\tvec3 diffuseColor;\n\tfloat specularStrength;\n};\nvoid RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Lambert\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Lambert",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\n#if defined( USE_LIGHT_PROBES )\n\tuniform vec3 lightProbe[ 9 ];\n#endif\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {\n\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( LEGACY_LIGHTS )\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#else\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometryPosition;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {\n\t\tfloat dotNL = dot( normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\tmaterial.ior = ior;\n\t#ifdef USE_SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularColorFactor = specularColor;\n\t\t#ifdef USE_SPECULAR_COLORMAP\n\t\t\tspecularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;\n\t\t#endif\n\t\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularColorFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_IRIDESCENCE\n\tmaterial.iridescence = iridescence;\n\tmaterial.iridescenceIOR = iridescenceIOR;\n\t#ifdef USE_IRIDESCENCEMAP\n\t\tmaterial.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;\n\t#endif\n\t#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\t\tmaterial.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;\n\t#else\n\t\tmaterial.iridescenceThickness = iridescenceThicknessMaximum;\n\t#endif\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenColor = sheenColor;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tmaterial.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;\n\t#endif\n\tmaterial.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tmaterial.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\t#ifdef USE_ANISOTROPYMAP\n\t\tmat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );\n\t\tvec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;\n\t\tvec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;\n\t#else\n\t\tvec2 anisotropyV = anisotropyVector;\n\t#endif\n\tmaterial.anisotropy = length( anisotropyV );\n\tanisotropyV /= material.anisotropy;\n\tmaterial.anisotropy = saturate( material.anisotropy );\n\tmaterial.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );\n\tmaterial.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;\n\tmaterial.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_IRIDESCENCE\n\t\tfloat iridescence;\n\t\tfloat iridescenceIOR;\n\t\tfloat iridescenceThickness;\n\t\tvec3 iridescenceFresnel;\n\t\tvec3 iridescenceF0;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenColor;\n\t\tfloat sheenRoughness;\n\t#endif\n\t#ifdef IOR\n\t\tfloat ior;\n\t#endif\n\t#ifdef USE_TRANSMISSION\n\t\tfloat transmission;\n\t\tfloat transmissionAlpha;\n\t\tfloat thickness;\n\t\tfloat attenuationDistance;\n\t\tvec3 attenuationColor;\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat anisotropy;\n\t\tfloat alphaT;\n\t\tvec3 anisotropyT;\n\t\tvec3 anisotropyB;\n\t#endif\n};\nvec3 clearcoatSpecularDirect = vec3( 0.0 );\nvec3 clearcoatSpecularIndirect = vec3( 0.0 );\nvec3 sheenSpecularDirect = vec3( 0.0 );\nvec3 sheenSpecularIndirect = vec3(0.0 );\nvec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {\n    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );\n    float x2 = x * x;\n    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );\n    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\n#ifdef USE_ANISOTROPY\n\tfloat V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {\n\t\tfloat gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );\n\t\tfloat gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );\n\t\tfloat v = 0.5 / ( gv + gl );\n\t\treturn saturate(v);\n\t}\n\tfloat D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {\n\t\tfloat a2 = alphaT * alphaB;\n\t\thighp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );\n\t\thighp float v2 = dot( v, v );\n\t\tfloat w2 = a2 / v2;\n\t\treturn RECIPROCAL_PI * a2 * pow2 ( w2 );\n\t}\n#endif\n#ifdef USE_CLEARCOAT\n\tvec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {\n\t\tvec3 f0 = material.clearcoatF0;\n\t\tfloat f90 = material.clearcoatF90;\n\t\tfloat roughness = material.clearcoatRoughness;\n\t\tfloat alpha = pow2( roughness );\n\t\tvec3 halfDir = normalize( lightDir + viewDir );\n\t\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\t\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\t\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\t\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\t\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t\treturn F * ( V * D );\n\t}\n#endif\nvec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {\n\tvec3 f0 = material.specularColor;\n\tfloat f90 = material.specularF90;\n\tfloat roughness = material.roughness;\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\t#ifdef USE_IRIDESCENCE\n\t\tF = mix( F, material.iridescenceFresnel, material.iridescence );\n\t#endif\n\t#ifdef USE_ANISOTROPY\n\t\tfloat dotTL = dot( material.anisotropyT, lightDir );\n\t\tfloat dotTV = dot( material.anisotropyT, viewDir );\n\t\tfloat dotTH = dot( material.anisotropyT, halfDir );\n\t\tfloat dotBL = dot( material.anisotropyB, lightDir );\n\t\tfloat dotBV = dot( material.anisotropyB, viewDir );\n\t\tfloat dotBH = dot( material.anisotropyB, halfDir );\n\t\tfloat V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );\n\t\tfloat D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );\n\t#else\n\t\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\t\tfloat D = D_GGX( alpha, dotNH );\n\t#endif\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float dotNH ) {\n\tfloat alpha = pow2( roughness );\n\tfloat invAlpha = 1.0 / alpha;\n\tfloat cos2h = dotNH * dotNH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float dotNV, float dotNL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );\n}\nvec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {\n\tvec3 halfDir = normalize( lightDir + viewDir );\n\tfloat dotNL = saturate( dot( normal, lightDir ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat D = D_Charlie( sheenRoughness, dotNH );\n\tfloat V = V_Neubelt( dotNV, dotNL );\n\treturn sheenColor * ( D * V );\n}\n#endif\nfloat IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat r2 = roughness * roughness;\n\tfloat a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;\n\tfloat b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;\n\tfloat DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );\n\treturn saturate( DG * RECIPROCAL_PI );\n}\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\n#ifdef USE_IRIDESCENCE\nvoid computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#else\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n#endif\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\t#ifdef USE_IRIDESCENCE\n\t\tvec3 Fr = mix( specularColor, iridescenceF0, iridescence );\n\t#else\n\t\tvec3 Fr = specularColor;\n\t#endif\n\tvec3 FssEss = Fr * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometryNormal;\n\t\tvec3 viewDir = geometryViewDir;\n\t\tvec3 position = geometryPosition;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometryNormal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );\n\t#endif\n\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tsheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\t#ifdef USE_IRIDESCENCE\n\t\tcomputeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );\n\t#else\n\t\tcomputeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\t#endif\n\tvec3 totalScattering = singleScattering + multiScattering;\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nvec3 geometryPosition = - vViewPosition;\nvec3 geometryNormal = normal;\nvec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\nvec3 geometryClearcoatNormal = vec3( 0.0 );\n#ifdef USE_CLEARCOAT\n\tgeometryClearcoatNormal = clearcoatNormal;\n#endif\n#ifdef USE_IRIDESCENCE\n\tfloat dotNVi = saturate( dot( normal, geometryViewDir ) );\n\tif ( material.iridescenceThickness == 0.0 ) {\n\t\tmaterial.iridescence = 0.0;\n\t} else {\n\t\tmaterial.iridescence = saturate( material.iridescence );\n\t}\n\tif ( material.iridescence > 0.0 ) {\n\t\tmaterial.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );\n\t\tmaterial.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );\n\t}\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometryPosition, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tvec4 spotColor;\n\tvec3 spotLightCoord;\n\tbool inSpotLightMap;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometryPosition, directLight );\n\t\t#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX\n\t\t#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS\n\t\t#else\n\t\t#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )\n\t\t#endif\n\t\t#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )\n\t\t\tspotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;\n\t\t\tinSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );\n\t\t\tspotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );\n\t\t\tdirectLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;\n\t\t#endif\n\t\t#undef SPOT_LIGHT_MAP_INDEX\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#if defined( USE_LIGHT_PROBES )\n\t\tirradiance += getLightProbeIrradiance( lightProbe, geometryNormal );\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\tvec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometryNormal );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\t#ifdef USE_ANISOTROPY\n\t\tradiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );\n\t#else\n\t\tradiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 sampledDiffuseColor = texture2D( map, vMapUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\tsampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );\n\t\n\t#endif\n\tdiffuseColor *= sampledDiffuseColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t#if defined( USE_POINTS_UV )\n\t\tvec2 uv = vUv;\n\t#else\n\t\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tdiffuseColor *= texture2D( map, uv );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_POINTS_UV )\n\tvarying vec2 vUv;\n#else\n\t#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\t\tuniform mat3 uvTransform;\n\t#endif\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphcolor_vertex:"#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )\n\tvColor *= morphTargetBaseInfluence;\n\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t#if defined( USE_COLOR_ALPHA )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];\n\t\t#elif defined( USE_COLOR )\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];\n\t\t#endif\n\t}\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\t\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\t\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\t\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n\t#endif\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tuniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];\n\t\tuniform sampler2DArray morphTargetsTexture;\n\t\tuniform ivec2 morphTargetsTextureSize;\n\t\tvec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {\n\t\t\tint texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;\n\t\t\tint y = texelIndex / morphTargetsTextureSize.x;\n\t\t\tint x = texelIndex - y * morphTargetsTextureSize.x;\n\t\t\tivec3 morphUV = ivec3( x, y, morphTargetIndex );\n\t\t\treturn texelFetch( morphTargetsTexture, morphUV, 0 );\n\t\t}\n\t#else\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\tuniform float morphTargetInfluences[ 8 ];\n\t\t#else\n\t\t\tuniform float morphTargetInfluences[ 4 ];\n\t\t#endif\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\t#ifdef MORPHTARGETS_TEXTURE\n\t\tfor ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {\n\t\t\tif ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];\n\t\t}\n\t#else\n\t\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\t\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\t\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\t\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t\t#ifndef USE_MORPHNORMALS\n\t\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t\t#endif\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = dFdx( vViewPosition );\n\tvec3 fdy = dFdy( vViewPosition );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal *= faceDirection;\n\t#endif\n#endif\n#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn = getTangentFrame( - vViewPosition, normal,\n\t\t#if defined( USE_NORMALMAP )\n\t\t\tvNormalMapUv\n\t\t#elif defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tvClearcoatNormalMapUv\n\t\t#else\n\t\t\tvUv\n\t\t#endif\n\t\t);\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn[0] *= faceDirection;\n\t\ttbn[1] *= faceDirection;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\t#ifdef USE_TANGENT\n\t\tmat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );\n\t#else\n\t\tmat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );\n\t#endif\n\t#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )\n\t\ttbn2[0] *= faceDirection;\n\t\ttbn2[1] *= faceDirection;\n\t#endif\n#endif\nvec3 nonPerturbedNormal = normal;",normal_fragment_maps:"#ifdef USE_NORMALMAP_OBJECTSPACE\n\tnormal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( USE_NORMALMAP_TANGENTSPACE )\n\tvec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\tnormal = normalize( tbn * mapN );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef USE_NORMALMAP_OBJECTSPACE\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )\n\tmat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( uv.st );\n\t\tvec2 st1 = dFdy( uv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );\n\t\treturn mat3( T * scale, B * scale, N );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = nonPerturbedNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\tclearcoatNormal = normalize( tbn2 * clearcoatMapN );\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif",iridescence_pars_fragment:"#ifdef USE_IRIDESCENCEMAP\n\tuniform sampler2D iridescenceMap;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform sampler2D iridescenceThicknessMap;\n#endif",opaque_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= material.transmissionAlpha;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec2 packDepthToRG( in highp float v ) {\n\treturn packDepthToRGBA( v ).yx;\n}\nfloat unpackRGToDepth( const in highp vec2 v ) {\n\treturn unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn depth * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * depth - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#if NUM_SPOT_LIGHT_MAPS > 0\n\tuniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;\n\t\tbool frustumTest = inFrustum && shadowCoord.z <= 1.0;\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#if NUM_SPOT_LIGHT_COORDS > 0\n\tuniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];\n\tvarying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];\n#endif\n#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )\n\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\tvec4 shadowWorldPosition;\n#endif\n#if defined( USE_SHADOWMAP )\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if NUM_SPOT_LIGHT_COORDS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition;\n\t\t#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\t\tshadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;\n\t\t#endif\n\t\tvSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\tuniform highp sampler2D boneTexture;\n\tuniform int boneTextureSize;\n\tmat4 getBoneMatrix( const in float i ) {\n\t\tfloat j = i * 4.0;\n\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\ty = dy * ( y + 0.5 );\n\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\treturn bone;\n\t}\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn saturate( toneMappingExposure * color );\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tmaterial.transmission = transmission;\n\tmaterial.transmissionAlpha = 1.0;\n\tmaterial.thickness = thickness;\n\tmaterial.attenuationDistance = attenuationDistance;\n\tmaterial.attenuationColor = attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tmaterial.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tmaterial.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmitted = getIBLVolumeRefraction(\n\t\tn, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,\n\t\tmaterial.attenuationColor, material.attenuationDistance );\n\tmaterial.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );\n\ttotalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationColor;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tfloat w0( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );\n\t}\n\tfloat w1( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );\n\t}\n\tfloat w2( float a ){\n\t\treturn ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );\n\t}\n\tfloat w3( float a ) {\n\t\treturn ( 1.0 / 6.0 ) * ( a * a * a );\n\t}\n\tfloat g0( float a ) {\n\t\treturn w0( a ) + w1( a );\n\t}\n\tfloat g1( float a ) {\n\t\treturn w2( a ) + w3( a );\n\t}\n\tfloat h0( float a ) {\n\t\treturn - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );\n\t}\n\tfloat h1( float a ) {\n\t\treturn 1.0 + w3( a ) / ( w2( a ) + w3( a ) );\n\t}\n\tvec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {\n\t\tuv = uv * texelSize.zw + 0.5;\n\t\tvec2 iuv = floor( uv );\n\t\tvec2 fuv = fract( uv );\n\t\tfloat g0x = g0( fuv.x );\n\t\tfloat g1x = g1( fuv.x );\n\t\tfloat h0x = h0( fuv.x );\n\t\tfloat h1x = h1( fuv.x );\n\t\tfloat h0y = h0( fuv.y );\n\t\tfloat h1y = h1( fuv.y );\n\t\tvec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\tvec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;\n\t\treturn g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +\n\t\t\tg1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );\n\t}\n\tvec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {\n\t\tvec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );\n\t\tvec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );\n\t\tvec2 fLodSizeInv = 1.0 / fLodSize;\n\t\tvec2 cLodSizeInv = 1.0 / cLodSize;\n\t\tvec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );\n\t\tvec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );\n\t\treturn mix( fSample, cSample, fract( lod ) );\n\t}\n\tvec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( const in float roughness, const in float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {\n\t\tfloat lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\treturn textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );\n\t}\n\tvec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tif ( isinf( attenuationDistance ) ) {\n\t\t\treturn vec3( 1.0 );\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,\n\t\tconst in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,\n\t\tconst in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,\n\t\tconst in vec3 attenuationColor, const in float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 attenuatedColor = transmittance * transmittedLight.rgb;\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\tfloat transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );\n\t}\n#endif",uv_pars_fragment:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_pars_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvarying vec2 vUv;\n#endif\n#ifdef USE_MAP\n\tuniform mat3 mapTransform;\n\tvarying vec2 vMapUv;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform mat3 alphaMapTransform;\n\tvarying vec2 vAlphaMapUv;\n#endif\n#ifdef USE_LIGHTMAP\n\tuniform mat3 lightMapTransform;\n\tvarying vec2 vLightMapUv;\n#endif\n#ifdef USE_AOMAP\n\tuniform mat3 aoMapTransform;\n\tvarying vec2 vAoMapUv;\n#endif\n#ifdef USE_BUMPMAP\n\tuniform mat3 bumpMapTransform;\n\tvarying vec2 vBumpMapUv;\n#endif\n#ifdef USE_NORMALMAP\n\tuniform mat3 normalMapTransform;\n\tvarying vec2 vNormalMapUv;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tuniform mat3 displacementMapTransform;\n\tvarying vec2 vDisplacementMapUv;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tuniform mat3 emissiveMapTransform;\n\tvarying vec2 vEmissiveMapUv;\n#endif\n#ifdef USE_METALNESSMAP\n\tuniform mat3 metalnessMapTransform;\n\tvarying vec2 vMetalnessMapUv;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tuniform mat3 roughnessMapTransform;\n\tvarying vec2 vRoughnessMapUv;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tuniform mat3 anisotropyMapTransform;\n\tvarying vec2 vAnisotropyMapUv;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tuniform mat3 clearcoatMapTransform;\n\tvarying vec2 vClearcoatMapUv;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform mat3 clearcoatNormalMapTransform;\n\tvarying vec2 vClearcoatNormalMapUv;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform mat3 clearcoatRoughnessMapTransform;\n\tvarying vec2 vClearcoatRoughnessMapUv;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tuniform mat3 sheenColorMapTransform;\n\tvarying vec2 vSheenColorMapUv;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tuniform mat3 sheenRoughnessMapTransform;\n\tvarying vec2 vSheenRoughnessMapUv;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tuniform mat3 iridescenceMapTransform;\n\tvarying vec2 vIridescenceMapUv;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tuniform mat3 iridescenceThicknessMapTransform;\n\tvarying vec2 vIridescenceThicknessMapUv;\n#endif\n#ifdef USE_SPECULARMAP\n\tuniform mat3 specularMapTransform;\n\tvarying vec2 vSpecularMapUv;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tuniform mat3 specularColorMapTransform;\n\tvarying vec2 vSpecularColorMapUv;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tuniform mat3 specularIntensityMapTransform;\n\tvarying vec2 vSpecularIntensityMapUv;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tuniform mat3 transmissionMapTransform;\n\tvarying vec2 vTransmissionMapUv;\n#endif\n#ifdef USE_THICKNESSMAP\n\tuniform mat3 thicknessMapTransform;\n\tvarying vec2 vThicknessMapUv;\n#endif",uv_vertex:"#if defined( USE_UV ) || defined( USE_ANISOTROPY )\n\tvUv = vec3( uv, 1 ).xy;\n#endif\n#ifdef USE_MAP\n\tvMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ALPHAMAP\n\tvAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_LIGHTMAP\n\tvLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_AOMAP\n\tvAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_BUMPMAP\n\tvBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_NORMALMAP\n\tvNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_DISPLACEMENTMAP\n\tvDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_EMISSIVEMAP\n\tvEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_METALNESSMAP\n\tvMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ROUGHNESSMAP\n\tvRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_ANISOTROPYMAP\n\tvAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOATMAP\n\tvClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tvClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tvClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCEMAP\n\tvIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_IRIDESCENCE_THICKNESSMAP\n\tvIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_COLORMAP\n\tvSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SHEEN_ROUGHNESSMAP\n\tvSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULARMAP\n\tvSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_COLORMAP\n\tvSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_SPECULAR_INTENSITYMAP\n\tvSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_TRANSMISSIONMAP\n\tvTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;\n#endif\n#ifdef USE_THICKNESSMAP\n\tvThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",background_frag:"uniform sampler2D t2D;\nuniform float backgroundIntensity;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\t#ifdef DECODE_VIDEO_TEXTURE\n\t\ttexColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",backgroundCube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",backgroundCube_frag:"#ifdef ENVMAP_TYPE_CUBE\n\tuniform samplerCube envMap;\n#elif defined( ENVMAP_TYPE_CUBE_UV )\n\tuniform sampler2D envMap;\n#endif\nuniform float flipEnvMap;\nuniform float backgroundBlurriness;\nuniform float backgroundIntensity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );\n\t#else\n\t\tvec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t#endif\n\ttexColor.rgb *= backgroundIntensity;\n\tgl_FragColor = texColor;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldDirection;\nvoid main() {\n\tvec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );\n\tgl_FragColor = texColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vLightMapUv );\n\t\treflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"#define LAMBERT\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_lambert_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_lambert_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t#else\n\t\tvec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n\t#ifdef OPAQUE\n\t\tgl_FragColor.a = 1.0;\n\t#endif\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define USE_SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef USE_SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularColor;\n\t#ifdef USE_SPECULAR_COLORMAP\n\t\tuniform sampler2D specularColorMap;\n\t#endif\n\t#ifdef USE_SPECULAR_INTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_IRIDESCENCE\n\tuniform float iridescence;\n\tuniform float iridescenceIOR;\n\tuniform float iridescenceThicknessMinimum;\n\tuniform float iridescenceThicknessMaximum;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenColor;\n\tuniform float sheenRoughness;\n\t#ifdef USE_SHEEN_COLORMAP\n\t\tuniform sampler2D sheenColorMap;\n\t#endif\n\t#ifdef USE_SHEEN_ROUGHNESSMAP\n\t\tuniform sampler2D sheenRoughnessMap;\n\t#endif\n#endif\n#ifdef USE_ANISOTROPY\n\tuniform vec2 anisotropyVector;\n\t#ifdef USE_ANISOTROPYMAP\n\t\tuniform sampler2D anisotropyMap;\n\t#endif\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <iridescence_fragment>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <iridescence_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_SHEEN\n\t\tfloat sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );\n\t\toutgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;\n\t#endif\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;\n\t#endif\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\n#ifdef USE_POINTS_UV\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\nvoid main() {\n\t#ifdef USE_POINTS_UV\n\t\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\t#endif\n\t#include <color_vertex>\n\t#include <morphcolor_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <logdepthbuf_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <alphahash_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <alphahash_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <opaque_fragment>\n\t#include <tonemapping_fragment>\n\t#include <colorspace_fragment>\n\t#include <fog_fragment>\n}"},Ge={common:{diffuse:{value:new Ke(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Qt},alphaMap:{value:null},alphaMapTransform:{value:new Qt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Qt}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Qt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Qt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Qt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Qt},normalScale:{value:new _e(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Qt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Qt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Qt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Qt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Ke(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Ke(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Qt},alphaTest:{value:0},uvTransform:{value:new Qt}},sprite:{diffuse:{value:new Ke(16777215)},opacity:{value:1},center:{value:new _e(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Qt},alphaMap:{value:null},alphaMapTransform:{value:new Qt},alphaTest:{value:0}}},qo={basic:{uniforms:Er([Ge.common,Ge.specularmap,Ge.envmap,Ge.aomap,Ge.lightmap,Ge.fog]),vertexShader:Kt.meshbasic_vert,fragmentShader:Kt.meshbasic_frag},lambert:{uniforms:Er([Ge.common,Ge.specularmap,Ge.envmap,Ge.aomap,Ge.lightmap,Ge.emissivemap,Ge.bumpmap,Ge.normalmap,Ge.displacementmap,Ge.fog,Ge.lights,{emissive:{value:new Ke(0)}}]),vertexShader:Kt.meshlambert_vert,fragmentShader:Kt.meshlambert_frag},phong:{uniforms:Er([Ge.common,Ge.specularmap,Ge.envmap,Ge.aomap,Ge.lightmap,Ge.emissivemap,Ge.bumpmap,Ge.normalmap,Ge.displacementmap,Ge.fog,Ge.lights,{emissive:{value:new Ke(0)},specular:{value:new Ke(1118481)},shininess:{value:30}}]),vertexShader:Kt.meshphong_vert,fragmentShader:Kt.meshphong_frag},standard:{uniforms:Er([Ge.common,Ge.envmap,Ge.aomap,Ge.lightmap,Ge.emissivemap,Ge.bumpmap,Ge.normalmap,Ge.displacementmap,Ge.roughnessmap,Ge.metalnessmap,Ge.fog,Ge.lights,{emissive:{value:new Ke(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Kt.meshphysical_vert,fragmentShader:Kt.meshphysical_frag},toon:{uniforms:Er([Ge.common,Ge.aomap,Ge.lightmap,Ge.emissivemap,Ge.bumpmap,Ge.normalmap,Ge.displacementmap,Ge.gradientmap,Ge.fog,Ge.lights,{emissive:{value:new Ke(0)}}]),vertexShader:Kt.meshtoon_vert,fragmentShader:Kt.meshtoon_frag},matcap:{uniforms:Er([Ge.common,Ge.bumpmap,Ge.normalmap,Ge.displacementmap,Ge.fog,{matcap:{value:null}}]),vertexShader:Kt.meshmatcap_vert,fragmentShader:Kt.meshmatcap_frag},points:{uniforms:Er([Ge.points,Ge.fog]),vertexShader:Kt.points_vert,fragmentShader:Kt.points_frag},dashed:{uniforms:Er([Ge.common,Ge.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Kt.linedashed_vert,fragmentShader:Kt.linedashed_frag},depth:{uniforms:Er([Ge.common,Ge.displacementmap]),vertexShader:Kt.depth_vert,fragmentShader:Kt.depth_frag},normal:{uniforms:Er([Ge.common,Ge.bumpmap,Ge.normalmap,Ge.displacementmap,{opacity:{value:1}}]),vertexShader:Kt.meshnormal_vert,fragmentShader:Kt.meshnormal_frag},sprite:{uniforms:Er([Ge.sprite,Ge.fog]),vertexShader:Kt.sprite_vert,fragmentShader:Kt.sprite_frag},background:{uniforms:{uvTransform:{value:new Qt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Kt.background_vert,fragmentShader:Kt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Kt.backgroundCube_vert,fragmentShader:Kt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Kt.cube_vert,fragmentShader:Kt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Kt.equirect_vert,fragmentShader:Kt.equirect_frag},distanceRGBA:{uniforms:Er([Ge.common,Ge.displacementmap,{referencePosition:{value:new k},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Kt.distanceRGBA_vert,fragmentShader:Kt.distanceRGBA_frag},shadow:{uniforms:Er([Ge.lights,Ge.fog,{color:{value:new Ke(0)},opacity:{value:1}}]),vertexShader:Kt.shadow_vert,fragmentShader:Kt.shadow_frag}};qo.physical={uniforms:Er([qo.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Qt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Qt},clearcoatNormalScale:{value:new _e(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Qt},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Qt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Qt},sheen:{value:0},sheenColor:{value:new Ke(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Qt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Qt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Qt},transmissionSamplerSize:{value:new _e},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Qt},attenuationDistance:{value:0},attenuationColor:{value:new Ke(0)},specularColor:{value:new Ke(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Qt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Qt},anisotropyVector:{value:new _e},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Qt}}]),vertexShader:Kt.meshphysical_vert,fragmentShader:Kt.meshphysical_frag};const n_={r:0,b:0,g:0};function sne(n,e,t,i,r,s,o){const a=new Ke(0);let l,c,u=!0===s?0:1,f=null,h=0,p=null;function x(_,v){_.getRGB(n_,QL(n)),i.buffers.color.setClear(n_.r,n_.g,n_.b,v,o)}return{getClearColor:function(){return a},setClearColor:function(_,v=1){a.set(_),u=v,x(a,u)},getClearAlpha:function(){return u},setClearAlpha:function(_){u=_,x(a,u)},render:function g(_,v){let w=!1,M=!0===v.isScene?v.background:null;M&&M.isTexture&&(M=(v.backgroundBlurriness>0?t:e).get(M)),null===M?x(a,u):M&&M.isColor&&(x(M,1),w=!0);const D=n.xr.getEnvironmentBlendMode();"additive"===D?i.buffers.color.setClear(0,0,0,1,o):"alpha-blend"===D&&i.buffers.color.setClear(0,0,0,0,o),(n.autoClear||w)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),M&&(M.isCubeTexture||M.mapping===f0)?(void 0===c&&(c=new or(new If(1,1,1),new co({name:"BackgroundCubeMaterial",uniforms:Rf(qo.backgroundCube.uniforms),vertexShader:qo.backgroundCube.vertexShader,fragmentShader:qo.backgroundCube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(T,P,U){this.matrixWorld.copyPosition(U.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(c)),c.material.uniforms.envMap.value=M,c.material.uniforms.flipEnvMap.value=M.isCubeTexture&&!1===M.isRenderTargetTexture?-1:1,c.material.uniforms.backgroundBlurriness.value=v.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,c.material.toneMapped=Dn.getTransfer(M.colorSpace)!==Wn,(f!==M||h!==M.version||p!==n.toneMapping)&&(c.material.needsUpdate=!0,f=M,h=M.version,p=n.toneMapping),c.layers.enableAll(),_.unshift(c,c.geometry,c.material,0,0,null)):M&&M.isTexture&&(void 0===l&&(l=new or(new Nf(2,2),new co({name:"BackgroundMaterial",uniforms:Rf(qo.background.uniforms),vertexShader:qo.background.vertexShader,fragmentShader:qo.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),l.geometry.deleteAttribute("normal"),Object.defineProperty(l.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(l)),l.material.uniforms.t2D.value=M,l.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,l.material.toneMapped=Dn.getTransfer(M.colorSpace)!==Wn,!0===M.matrixAutoUpdate&&M.updateMatrix(),l.material.uniforms.uvTransform.value.copy(M.matrix),(f!==M||h!==M.version||p!==n.toneMapping)&&(l.material.needsUpdate=!0,f=M,h=M.version,p=n.toneMapping),l.layers.enableAll(),_.unshift(l,l.geometry,l.material,0,0,null))}}}function one(n,e,t,i){const r=n.getParameter(n.MAX_VERTEX_ATTRIBS),s=i.isWebGL2?null:e.get("OES_vertex_array_object"),o=i.isWebGL2||null!==s,a={},u=_(null);let l=u,c=!1;function p(j){return i.isWebGL2?n.bindVertexArray(j):s.bindVertexArrayOES(j)}function g(j){return i.isWebGL2?n.deleteVertexArray(j):s.deleteVertexArrayOES(j)}function _(j){const se=[],ge=[],pe=[];for(let Ne=0;Ne<r;Ne++)se[Ne]=0,ge[Ne]=0,pe[Ne]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:se,enabledAttributes:ge,attributeDivisors:pe,object:j,attributes:{},index:null}}function M(){const j=l.newAttributes;for(let se=0,ge=j.length;se<ge;se++)j[se]=0}function D(j){T(j,0)}function T(j,se){const pe=l.enabledAttributes,Ne=l.attributeDivisors;l.newAttributes[j]=1,0===pe[j]&&(n.enableVertexAttribArray(j),pe[j]=1),Ne[j]!==se&&((i.isWebGL2?n:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](j,se),Ne[j]=se)}function P(){const j=l.newAttributes,se=l.enabledAttributes;for(let ge=0,pe=se.length;ge<pe;ge++)se[ge]!==j[ge]&&(n.disableVertexAttribArray(ge),se[ge]=0)}function U(j,se,ge,pe,Ne,xe,we){!0===we?n.vertexAttribIPointer(j,se,ge,Ne,xe):n.vertexAttribPointer(j,se,ge,pe,Ne,xe)}function ve(){Ee(),c=!0,l!==u&&(l=u,p(l.object))}function Ee(){u.geometry=null,u.program=null,u.wireframe=!1}return{setup:function f(j,se,ge,pe,Ne){let xe=!1;if(o){const we=function x(j,se,ge){const pe=!0===ge.wireframe;let Ne=a[j.id];void 0===Ne&&(Ne={},a[j.id]=Ne);let xe=Ne[se.id];void 0===xe&&(xe={},Ne[se.id]=xe);let we=xe[pe];return void 0===we&&(we=_(function h(){return i.isWebGL2?n.createVertexArray():s.createVertexArrayOES()}()),xe[pe]=we),we}(pe,ge,se);l!==we&&(l=we,p(l.object)),xe=function v(j,se,ge,pe){const Ne=l.attributes,xe=se.attributes;let we=0;const q=ge.getAttributes();for(const fe in q)if(q[fe].location>=0){const Je=Ne[fe];let tt=xe[fe];if(void 0===tt&&("instanceMatrix"===fe&&j.instanceMatrix&&(tt=j.instanceMatrix),"instanceColor"===fe&&j.instanceColor&&(tt=j.instanceColor)),void 0===Je||Je.attribute!==tt||tt&&Je.data!==tt.data)return!0;we++}return l.attributesNum!==we||l.index!==pe}(j,pe,ge,Ne),xe&&function w(j,se,ge,pe){const Ne={},xe=se.attributes;let we=0;const q=ge.getAttributes();for(const fe in q)if(q[fe].location>=0){let Je=xe[fe];void 0===Je&&("instanceMatrix"===fe&&j.instanceMatrix&&(Je=j.instanceMatrix),"instanceColor"===fe&&j.instanceColor&&(Je=j.instanceColor));const tt={};tt.attribute=Je,Je&&Je.data&&(tt.data=Je.data),Ne[fe]=tt,we++}l.attributes=Ne,l.attributesNum=we,l.index=pe}(j,pe,ge,Ne)}else{const we=!0===se.wireframe;(l.geometry!==pe.id||l.program!==ge.id||l.wireframe!==we)&&(l.geometry=pe.id,l.program=ge.id,l.wireframe=we,xe=!0)}null!==Ne&&t.update(Ne,n.ELEMENT_ARRAY_BUFFER),(xe||c)&&(c=!1,function W(j,se,ge,pe){if(!1===i.isWebGL2&&(j.isInstancedMesh||pe.isInstancedBufferGeometry)&&null===e.get("ANGLE_instanced_arrays"))return;M();const Ne=pe.attributes,xe=ge.getAttributes(),we=se.defaultAttributeValues;for(const q in xe){const fe=xe[q];if(fe.location>=0){let je=Ne[q];if(void 0===je&&("instanceMatrix"===q&&j.instanceMatrix&&(je=j.instanceMatrix),"instanceColor"===q&&j.instanceColor&&(je=j.instanceColor)),void 0!==je){const Je=je.normalized,tt=je.itemSize,Mt=t.get(je);if(void 0===Mt)continue;const At=Mt.buffer,wt=Mt.type,Gt=Mt.bytesPerElement,fn=!0===i.isWebGL2&&(wt===n.INT||wt===n.UNSIGNED_INT||1013===je.gpuType);if(je.isInterleavedBufferAttribute){const St=je.data,G=St.stride,ze=je.offset;if(St.isInstancedInterleavedBuffer){for(let me=0;me<fe.locationSize;me++)T(fe.location+me,St.meshPerAttribute);!0!==j.isInstancedMesh&&void 0===pe._maxInstanceCount&&(pe._maxInstanceCount=St.meshPerAttribute*St.count)}else for(let me=0;me<fe.locationSize;me++)D(fe.location+me);n.bindBuffer(n.ARRAY_BUFFER,At);for(let me=0;me<fe.locationSize;me++)U(fe.location+me,tt/fe.locationSize,wt,Je,G*Gt,(ze+tt/fe.locationSize*me)*Gt,fn)}else{if(je.isInstancedBufferAttribute){for(let St=0;St<fe.locationSize;St++)T(fe.location+St,je.meshPerAttribute);!0!==j.isInstancedMesh&&void 0===pe._maxInstanceCount&&(pe._maxInstanceCount=je.meshPerAttribute*je.count)}else for(let St=0;St<fe.locationSize;St++)D(fe.location+St);n.bindBuffer(n.ARRAY_BUFFER,At);for(let St=0;St<fe.locationSize;St++)U(fe.location+St,tt/fe.locationSize,wt,Je,tt*Gt,tt/fe.locationSize*St*Gt,fn)}}else if(void 0!==we){const Je=we[q];if(void 0!==Je)switch(Je.length){case 2:n.vertexAttrib2fv(fe.location,Je);break;case 3:n.vertexAttrib3fv(fe.location,Je);break;case 4:n.vertexAttrib4fv(fe.location,Je);break;default:n.vertexAttrib1fv(fe.location,Je)}}}}P()}(j,se,ge,pe),null!==Ne&&n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,t.get(Ne).buffer))},reset:ve,resetDefaultState:Ee,dispose:function I(){ve();for(const j in a){const se=a[j];for(const ge in se){const pe=se[ge];for(const Ne in pe)g(pe[Ne].object),delete pe[Ne];delete se[ge]}delete a[j]}},releaseStatesOfGeometry:function F(j){if(void 0===a[j.id])return;const se=a[j.id];for(const ge in se){const pe=se[ge];for(const Ne in pe)g(pe[Ne].object),delete pe[Ne];delete se[ge]}delete a[j.id]},releaseStatesOfProgram:function J(j){for(const se in a){const ge=a[se];if(void 0===ge[j.id])continue;const pe=ge[j.id];for(const Ne in pe)g(pe[Ne].object),delete pe[Ne];delete ge[j.id]}},initAttributes:M,enableAttribute:D,disableUnusedAttributes:P}}function ane(n,e,t,i){const r=i.isWebGL2;let s;this.setMode=function o(l){s=l},this.render=function a(l,c){n.drawArrays(s,l,c),t.update(c,s,1)},this.renderInstances=function u(l,c,f){if(0===f)return;let h,p;if(r)h=n,p="drawArraysInstanced";else if(h=e.get("ANGLE_instanced_arrays"),p="drawArraysInstancedANGLE",null===h)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");h[p](s,l,c,f),t.update(c,s,f)}}function une(n,e,t){let i;function s(U){if("highp"===U){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";U="mediump"}return"mediump"===U&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const o=typeof WebGL2RenderingContext<"u"&&"WebGL2RenderingContext"===n.constructor.name;let a=void 0!==t.precision?t.precision:"highp";const u=s(a);u!==a&&(console.warn("THREE.WebGLRenderer:",a,"not supported, using",u,"instead."),a=u);const l=o||e.has("WEBGL_draw_buffers"),c=!0===t.logarithmicDepthBuffer,f=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),h=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),p=n.getParameter(n.MAX_TEXTURE_SIZE),g=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),x=n.getParameter(n.MAX_VERTEX_ATTRIBS),_=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),v=n.getParameter(n.MAX_VARYING_VECTORS),w=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),M=h>0,D=o||e.has("OES_texture_float");return{isWebGL2:o,drawBuffers:l,getMaxAnisotropy:function r(){if(void 0!==i)return i;if(!0===e.has("EXT_texture_filter_anisotropic")){const U=e.get("EXT_texture_filter_anisotropic");i=n.getParameter(U.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i},getMaxPrecision:s,precision:a,logarithmicDepthBuffer:c,maxTextures:f,maxVertexTextures:h,maxTextureSize:p,maxCubemapSize:g,maxAttributes:x,maxVertexUniforms:_,maxVaryings:v,maxFragmentUniforms:w,vertexTextures:M,floatFragmentTextures:D,floatVertexTextures:M&&D,maxSamples:o?n.getParameter(n.MAX_SAMPLES):0}}function lne(n){const e=this;let t=null,i=0,r=!1,s=!1;const o=new ql,a=new Qt,u={value:null,needsUpdate:!1};function c(f,h,p,g){const x=null!==f?f.length:0;let _=null;if(0!==x){if(_=u.value,!0!==g||null===_){const v=p+4*x,w=h.matrixWorldInverse;a.getNormalMatrix(w),(null===_||_.length<v)&&(_=new Float32Array(v));for(let M=0,D=p;M!==x;++M,D+=4)o.copy(f[M]).applyMatrix4(w,a),o.normal.toArray(_,D),_[D+3]=o.constant}u.value=_,u.needsUpdate=!0}return e.numPlanes=x,e.numIntersection=0,_}this.uniform=u,this.numPlanes=0,this.numIntersection=0,this.init=function(f,h){const p=0!==f.length||h||0!==i||r;return r=h,i=f.length,p},this.beginShadows=function(){s=!0,c(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(f,h){t=c(f,h,0)},this.setState=function(f,h,p){const g=f.clippingPlanes,x=f.clipIntersection,_=f.clipShadows,v=n.get(f);if(!r||null===g||0===g.length||s&&!_)s?c(null):function l(){u.value!==t&&(u.value=t,u.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}();else{const w=s?0:i,M=4*w;let D=v.clippingState||null;u.value=D,D=c(g,h,M,p);for(let T=0;T!==M;++T)D[T]=t[T];v.clippingState=D,this.numIntersection=x?this.numPlanes:0,this.numPlanes+=w}}}function cne(n){let e=new WeakMap;function t(o,a){return 303===a?o.mapping=Au:304===a&&(o.mapping=Fl),o}function r(o){const a=o.target;a.removeEventListener("dispose",r);const u=e.get(a);void 0!==u&&(e.delete(a),u.dispose())}return{get:function i(o){if(o&&o.isTexture&&!1===o.isRenderTargetTexture){const a=o.mapping;if(303===a||304===a){if(e.has(o))return t(e.get(o).texture,o.mapping);{const u=o.image;if(u&&u.height>0){const l=new ree(u.height/2);return l.fromEquirectangularTexture(n,o),e.set(o,l),o.addEventListener("dispose",r),t(l.texture,o.mapping)}return null}}}return o},dispose:function s(){e=new WeakMap}}}class i_ extends ZM{constructor(e=-1,t=1,i=1,r=-1,s=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=t,this.top=i,this.bottom=r,this.near=s,this.far=o,this.updateProjectionMatrix()}copy(e,t){return super.copy(e,t),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=null===e.view?null:Object.assign({},e.view),this}setViewOffset(e,t,i,r,s,o){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=t,this.view.offsetX=i,this.view.offsetY=r,this.view.width=s,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let s=i-e,o=i+e,a=r+t,u=r-t;if(null!==this.view&&this.view.enabled){const l=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=l*this.view.offsetX,o=s+l*this.view.width,a-=c*this.view.offsetY,u=a-c*this.view.height}this.projectionMatrix.makeOrthographic(s,o,a,u,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const t=super.toJSON(e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,null!==this.view&&(t.object.view=Object.assign({},this.view)),t}}const tF=[.125,.215,.35,.446,.526,.582],QM=new i_,nF=new Ke;let ew=null,tw=0,nw=0;const Zl=(1+Math.sqrt(5))/2,Ff=1/Zl,iF=[new k(1,1,1),new k(-1,1,1),new k(1,1,-1),new k(-1,1,-1),new k(0,Zl,Ff),new k(0,Zl,-Ff),new k(Ff,0,Zl),new k(-Ff,0,Zl),new k(Zl,Ff,0),new k(-Zl,Ff,0)];class rF{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,t=0,i=.1,r=100){ew=this._renderer.getRenderTarget(),tw=this._renderer.getActiveCubeFace(),nw=this._renderer.getActiveMipmapLevel(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,i,r,s),t>0&&this._blur(s,0,0,t),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,t=null){return this._fromTexture(e,t)}fromCubemap(e,t=null){return this._fromTexture(e,t)}compileCubemapShader(){null===this._cubemapMaterial&&(this._cubemapMaterial=aF(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){null===this._equirectMaterial&&(this._equirectMaterial=oF(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),null!==this._cubemapMaterial&&this._cubemapMaterial.dispose(),null!==this._equirectMaterial&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){null!==this._blurMaterial&&this._blurMaterial.dispose(),null!==this._pingPongRenderTarget&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(ew,tw,nw),e.scissorTest=!1,r_(e,0,0,e.width,e.height)}_fromTexture(e,t){this._setSize(e.mapping===Au||e.mapping===Fl?0===e.image.length?16:e.image[0].width||e.image[0].image.width:e.image.width/4),ew=this._renderer.getRenderTarget(),tw=this._renderer.getActiveCubeFace(),nw=this._renderer.getActiveMipmapLevel();const i=t||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),t=4*this._cubeSize,i={magFilter:Ei,minFilter:Ei,generateMipmaps:!1,type:h0,format:Ps,colorSpace:Sa,depthBuffer:!1},r=sF(e,t,i);if(null===this._pingPongRenderTarget||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==t){null!==this._pingPongRenderTarget&&this._dispose(),this._pingPongRenderTarget=sF(e,t,i);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=function dne(n){const e=[],t=[],i=[];let r=n;const s=n-4+1+tF.length;for(let o=0;o<s;o++){const a=Math.pow(2,r);t.push(a);let u=1/a;o>n-4?u=tF[o-n+4-1]:0===o&&(u=0),i.push(u);const l=1/(a-2),c=-l,f=1+l,h=[c,c,f,c,f,f,c,c,f,f,c,f],p=6,g=6,x=3,_=2,v=1,w=new Float32Array(x*g*p),M=new Float32Array(_*g*p),D=new Float32Array(v*g*p);for(let P=0;P<p;P++){const U=P%3*2/3-1,W=P>2?0:-1;w.set([U,W,0,U+2/3,W,0,U+2/3,W+1,0,U,W,0,U+2/3,W+1,0,U,W+1,0],x*g*P),M.set(h,_*g*P),D.set([P,P,P,P,P,P],v*g*P)}const T=new nn;T.setAttribute("position",new Vi(w,x)),T.setAttribute("uv",new Vi(M,_)),T.setAttribute("faceIndex",new Vi(D,v)),e.push(T),r>4&&r--}return{lodPlanes:e,sizeLods:t,sigmas:i}}(s)),this._blurMaterial=function fne(n,e,t){const i=new Float32Array(20),r=new k(0,1,0);return new co({name:"SphericalGaussianBlur",defines:{n:20,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/t,CUBEUV_MAX_MIP:`${n}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}(s,e,t)}return r}_compileMaterial(e){const t=new or(this._lodPlanes[0],e);this._renderer.compile(t,QM)}_sceneToCubeUV(e,t,i,r){const a=new ar(90,1,t,i),u=[1,-1,1,1,1,1],l=[1,1,1,-1,-1,-1],c=this._renderer,f=c.autoClear,h=c.toneMapping;c.getClearColor(nF),c.toneMapping=Du,c.autoClear=!1;const p=new jl({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),g=new or(new If,p);let x=!1;const _=e.background;_?_.isColor&&(p.color.copy(_),e.background=null,x=!0):(p.color.copy(nF),x=!0);for(let v=0;v<6;v++){const w=v%3;0===w?(a.up.set(0,u[v],0),a.lookAt(l[v],0,0)):1===w?(a.up.set(0,0,u[v]),a.lookAt(0,l[v],0)):(a.up.set(0,u[v],0),a.lookAt(0,0,l[v]));const M=this._cubeSize;r_(r,w*M,v>2?M:0,M,M),c.setRenderTarget(r),x&&c.render(g,a),c.render(e,a)}g.geometry.dispose(),g.material.dispose(),c.toneMapping=h,c.autoClear=f,e.background=_}_textureToCubeUV(e,t){const i=this._renderer,r=e.mapping===Au||e.mapping===Fl;r?(null===this._cubemapMaterial&&(this._cubemapMaterial=aF()),this._cubemapMaterial.uniforms.flipEnvMap.value=!1===e.isRenderTargetTexture?-1:1):null===this._equirectMaterial&&(this._equirectMaterial=oF());const s=r?this._cubemapMaterial:this._equirectMaterial,o=new or(this._lodPlanes[0],s);s.uniforms.envMap.value=e;const u=this._cubeSize;r_(t,0,0,3*u,2*u),i.setRenderTarget(t),i.render(o,QM)}_applyPMREM(e){const t=this._renderer,i=t.autoClear;t.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const s=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]);this._blur(e,r-1,r,s,iF[(r-1)%iF.length])}t.autoClear=i}_blur(e,t,i,r,s){const o=this._pingPongRenderTarget;this._halfBlur(e,o,t,i,r,"latitudinal",s),this._halfBlur(o,e,i,i,r,"longitudinal",s)}_halfBlur(e,t,i,r,s,o,a){const u=this._renderer,l=this._blurMaterial;"latitudinal"!==o&&"longitudinal"!==o&&console.error("blur direction must be either latitudinal or longitudinal!");const f=new or(this._lodPlanes[r],l),h=l.uniforms,p=this._sizeLods[i]-1,g=isFinite(s)?Math.PI/(2*p):2*Math.PI/39,x=s/g,_=isFinite(s)?1+Math.floor(3*x):20;_>20&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${_} samples when the maximum is set to 20`);const v=[];let w=0;for(let U=0;U<20;++U){const W=U/x,I=Math.exp(-W*W/2);v.push(I),0===U?w+=I:U<_&&(w+=2*I)}for(let U=0;U<v.length;U++)v[U]=v[U]/w;h.envMap.value=e.texture,h.samples.value=_,h.weights.value=v,h.latitudinal.value="latitudinal"===o,a&&(h.poleAxis.value=a);const{_lodMax:M}=this;h.dTheta.value=g,h.mipInt.value=M-i;const D=this._sizeLods[r];r_(t,3*D*(r>M-4?r-M+4:0),4*(this._cubeSize-D),3*D,2*D),u.setRenderTarget(t),u.render(f,QM)}}function sF(n,e,t){const i=new Da(n,e,t);return i.texture.mapping=f0,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function r_(n,e,t,i,r){n.viewport.set(e,t,i,r),n.scissor.set(e,t,i,r)}function oF(){return new co({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tgl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function aF(){return new co({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tuniform float flipEnvMap;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function hne(n){let e=new WeakMap,t=null;function s(a){const u=a.target;u.removeEventListener("dispose",s);const l=e.get(u);void 0!==l&&(e.delete(u),l.dispose())}return{get:function i(a){if(a&&a.isTexture){const u=a.mapping,l=303===u||304===u,c=u===Au||u===Fl;if(l||c){if(a.isRenderTargetTexture&&!0===a.needsPMREMUpdate){a.needsPMREMUpdate=!1;let f=e.get(a);return null===t&&(t=new rF(n)),f=l?t.fromEquirectangular(a,f):t.fromCubemap(a,f),e.set(a,f),f.texture}if(e.has(a))return e.get(a).texture;{const f=a.image;if(l&&f&&f.height>0||c&&f&&function r(a){let u=0;for(let c=0;c<6;c++)void 0!==a[c]&&u++;return 6===u}(f)){null===t&&(t=new rF(n));const h=l?t.fromEquirectangular(a):t.fromCubemap(a);return e.set(a,h),a.addEventListener("dispose",s),h.texture}return null}}}return a},dispose:function o(){e=new WeakMap,null!==t&&(t.dispose(),t=null)}}}function pne(n){const e={};function t(i){if(void 0!==e[i])return e[i];let r;switch(i){case"WEBGL_depth_texture":r=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=n.getExtension(i)}return e[i]=r,r}return{has:function(i){return null!==t(i)},init:function(i){i.isWebGL2?t("EXT_color_buffer_float"):(t("WEBGL_depth_texture"),t("OES_texture_float"),t("OES_texture_half_float"),t("OES_texture_half_float_linear"),t("OES_standard_derivatives"),t("OES_element_index_uint"),t("OES_vertex_array_object"),t("ANGLE_instanced_arrays")),t("OES_texture_float_linear"),t("EXT_color_buffer_half_float"),t("WEBGL_multisampled_render_to_texture")},get:function(i){const r=t(i);return null===r&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function mne(n,e,t,i){const r={},s=new WeakMap;function o(f){const h=f.target;null!==h.index&&e.remove(h.index);for(const g in h.attributes)e.remove(h.attributes[g]);for(const g in h.morphAttributes){const x=h.morphAttributes[g];for(let _=0,v=x.length;_<v;_++)e.remove(x[_])}h.removeEventListener("dispose",o),delete r[h.id];const p=s.get(h);p&&(e.remove(p),s.delete(h)),i.releaseStatesOfGeometry(h),!0===h.isInstancedBufferGeometry&&delete h._maxInstanceCount,t.memory.geometries--}function l(f){const h=[],p=f.index,g=f.attributes.position;let x=0;if(null!==p){const w=p.array;x=p.version;for(let M=0,D=w.length;M<D;M+=3){const T=w[M+0],P=w[M+1],U=w[M+2];h.push(T,P,P,U,U,T)}}else{if(void 0===g)return;x=g.version;for(let M=0,D=g.array.length/3-1;M<D;M+=3){const T=M+0,P=M+1,U=M+2;h.push(T,P,P,U,U,T)}}const _=new(RL(h)?qL:$L)(h,1);_.version=x;const v=s.get(f);v&&e.remove(v),s.set(f,_)}return{get:function a(f,h){return!0===r[h.id]||(h.addEventListener("dispose",o),r[h.id]=!0,t.memory.geometries++),h},update:function u(f){const h=f.attributes;for(const g in h)e.update(h[g],n.ARRAY_BUFFER);const p=f.morphAttributes;for(const g in p){const x=p[g];for(let _=0,v=x.length;_<v;_++)e.update(x[_],n.ARRAY_BUFFER)}},getWireframeAttribute:function c(f){const h=s.get(f);if(h){const p=f.index;null!==p&&h.version<p.version&&l(f)}else l(f);return s.get(f)}}}function gne(n,e,t,i){const r=i.isWebGL2;let s,a,u;this.setMode=function o(h){s=h},this.setIndex=function l(h){a=h.type,u=h.bytesPerElement},this.render=function c(h,p){n.drawElements(s,p,a,h*u),t.update(p,s,1)},this.renderInstances=function f(h,p,g){if(0===g)return;let x,_;if(r)x=n,_="drawElementsInstanced";else if(x=e.get("ANGLE_instanced_arrays"),_="drawElementsInstancedANGLE",null===x)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");x[_](s,p,a,h*u,g),t.update(p,s,g)}}function vne(n){const t={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:t,programs:null,autoReset:!0,reset:function r(){t.calls=0,t.triangles=0,t.points=0,t.lines=0},update:function i(s,o,a){switch(t.calls++,o){case n.TRIANGLES:t.triangles+=a*(s/3);break;case n.LINES:t.lines+=a*(s/2);break;case n.LINE_STRIP:t.lines+=a*(s-1);break;case n.LINE_LOOP:t.lines+=a*s;break;case n.POINTS:t.points+=a*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o)}}}}function _ne(n,e){return n[0]-e[0]}function yne(n,e){return Math.abs(e[1])-Math.abs(n[1])}function xne(n,e,t){const i={},r=new Float32Array(8),s=new WeakMap,o=new An,a=[];for(let l=0;l<8;l++)a[l]=[l,0];return{update:function u(l,c,f){const h=l.morphTargetInfluences;if(!0===e.isWebGL2){const p=c.morphAttributes.position||c.morphAttributes.normal||c.morphAttributes.color,g=void 0!==p?p.length:0;let x=s.get(c);if(void 0===x||x.count!==g){let j=function(){ve.dispose(),s.delete(c),c.removeEventListener("dispose",j)};void 0!==x&&x.texture.dispose();const w=void 0!==c.morphAttributes.position,M=void 0!==c.morphAttributes.normal,D=void 0!==c.morphAttributes.color,T=c.morphAttributes.position||[],P=c.morphAttributes.normal||[],U=c.morphAttributes.color||[];let W=0;!0===w&&(W=1),!0===M&&(W=2),!0===D&&(W=3);let I=c.attributes.position.count*W,F=1;I>e.maxTextureSize&&(F=Math.ceil(I/e.maxTextureSize),I=e.maxTextureSize);const J=new Float32Array(I*F*4*g),ve=new LM(J,I,F,g);ve.type=wa,ve.needsUpdate=!0;const Ee=4*W;for(let se=0;se<g;se++){const ge=T[se],pe=P[se],Ne=U[se],xe=I*F*4*se;for(let we=0;we<ge.count;we++){const q=we*Ee;!0===w&&(o.fromBufferAttribute(ge,we),J[xe+q+0]=o.x,J[xe+q+1]=o.y,J[xe+q+2]=o.z,J[xe+q+3]=0),!0===M&&(o.fromBufferAttribute(pe,we),J[xe+q+4]=o.x,J[xe+q+5]=o.y,J[xe+q+6]=o.z,J[xe+q+7]=0),!0===D&&(o.fromBufferAttribute(Ne,we),J[xe+q+8]=o.x,J[xe+q+9]=o.y,J[xe+q+10]=o.z,J[xe+q+11]=4===Ne.itemSize?o.w:1)}}x={count:g,texture:ve,size:new _e(I,F)},s.set(c,x),c.addEventListener("dispose",j)}let _=0;for(let w=0;w<h.length;w++)_+=h[w];const v=c.morphTargetsRelative?1:1-_;f.getUniforms().setValue(n,"morphTargetBaseInfluence",v),f.getUniforms().setValue(n,"morphTargetInfluences",h),f.getUniforms().setValue(n,"morphTargetsTexture",x.texture,t),f.getUniforms().setValue(n,"morphTargetsTextureSize",x.size)}else{const p=void 0===h?0:h.length;let g=i[c.id];if(void 0===g||g.length!==p){g=[];for(let M=0;M<p;M++)g[M]=[M,0];i[c.id]=g}for(let M=0;M<p;M++){const D=g[M];D[0]=M,D[1]=h[M]}g.sort(yne);for(let M=0;M<8;M++)M<p&&g[M][1]?(a[M][0]=g[M][0],a[M][1]=g[M][1]):(a[M][0]=Number.MAX_SAFE_INTEGER,a[M][1]=0);a.sort(_ne);const x=c.morphAttributes.position,_=c.morphAttributes.normal;let v=0;for(let M=0;M<8;M++){const D=a[M],T=D[0],P=D[1];T!==Number.MAX_SAFE_INTEGER&&P?(x&&c.getAttribute("morphTarget"+M)!==x[T]&&c.setAttribute("morphTarget"+M,x[T]),_&&c.getAttribute("morphNormal"+M)!==_[T]&&c.setAttribute("morphNormal"+M,_[T]),r[M]=P,v+=P):(x&&!0===c.hasAttribute("morphTarget"+M)&&c.deleteAttribute("morphTarget"+M),_&&!0===c.hasAttribute("morphNormal"+M)&&c.deleteAttribute("morphNormal"+M),r[M]=0)}const w=c.morphTargetsRelative?1:1-v;f.getUniforms().setValue(n,"morphTargetBaseInfluence",w),f.getUniforms().setValue(n,"morphTargetInfluences",r)}}}}function bne(n,e,t,i){let r=new WeakMap;function a(u){const l=u.target;l.removeEventListener("dispose",a),t.remove(l.instanceMatrix),null!==l.instanceColor&&t.remove(l.instanceColor)}return{update:function s(u){const l=i.render.frame,f=e.get(u,u.geometry);if(r.get(f)!==l&&(e.update(f),r.set(f,l)),u.isInstancedMesh&&(!1===u.hasEventListener("dispose",a)&&u.addEventListener("dispose",a),r.get(u)!==l&&(t.update(u.instanceMatrix,n.ARRAY_BUFFER),null!==u.instanceColor&&t.update(u.instanceColor,n.ARRAY_BUFFER),r.set(u,l))),u.isSkinnedMesh){const h=u.skeleton;r.get(h)!==l&&(h.update(),r.set(h,l))}return f},dispose:function o(){r=new WeakMap}}}const uF=new Ru,lF=new LM,cF=new FL,dF=new e_,fF=[],hF=[],pF=new Float32Array(16),mF=new Float32Array(9),gF=new Float32Array(4);function kf(n,e,t){const i=n[0];if(i<=0||i>0)return n;const r=e*t;let s=fF[r];if(void 0===s&&(s=new Float32Array(r),fF[r]=s),0!==e){i.toArray(s,0);for(let o=1,a=0;o!==e;++o)a+=t,n[o].toArray(s,a)}return s}function Ri(n,e){if(n.length!==e.length)return!1;for(let t=0,i=n.length;t<i;t++)if(n[t]!==e[t])return!1;return!0}function Pi(n,e){for(let t=0,i=e.length;t<i;t++)n[t]=e[t]}function s_(n,e){let t=hF[e];void 0===t&&(t=new Int32Array(e),hF[e]=t);for(let i=0;i!==e;++i)t[i]=n.allocateTextureUnit();return t}function Ene(n,e){const t=this.cache;t[0]!==e&&(n.uniform1f(this.addr,e),t[0]=e)}function Mne(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2f(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Ri(t,e))return;n.uniform2fv(this.addr,e),Pi(t,e)}}function wne(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3f(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else if(void 0!==e.r)(t[0]!==e.r||t[1]!==e.g||t[2]!==e.b)&&(n.uniform3f(this.addr,e.r,e.g,e.b),t[0]=e.r,t[1]=e.g,t[2]=e.b);else{if(Ri(t,e))return;n.uniform3fv(this.addr,e),Pi(t,e)}}function Sne(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4f(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Ri(t,e))return;n.uniform4fv(this.addr,e),Pi(t,e)}}function Cne(n,e){const t=this.cache,i=e.elements;if(void 0===i){if(Ri(t,e))return;n.uniformMatrix2fv(this.addr,!1,e),Pi(t,e)}else{if(Ri(t,i))return;gF.set(i),n.uniformMatrix2fv(this.addr,!1,gF),Pi(t,i)}}function Dne(n,e){const t=this.cache,i=e.elements;if(void 0===i){if(Ri(t,e))return;n.uniformMatrix3fv(this.addr,!1,e),Pi(t,e)}else{if(Ri(t,i))return;mF.set(i),n.uniformMatrix3fv(this.addr,!1,mF),Pi(t,i)}}function Ane(n,e){const t=this.cache,i=e.elements;if(void 0===i){if(Ri(t,e))return;n.uniformMatrix4fv(this.addr,!1,e),Pi(t,e)}else{if(Ri(t,i))return;pF.set(i),n.uniformMatrix4fv(this.addr,!1,pF),Pi(t,i)}}function Tne(n,e){const t=this.cache;t[0]!==e&&(n.uniform1i(this.addr,e),t[0]=e)}function Ine(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2i(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Ri(t,e))return;n.uniform2iv(this.addr,e),Pi(t,e)}}function Rne(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3i(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Ri(t,e))return;n.uniform3iv(this.addr,e),Pi(t,e)}}function Pne(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4i(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Ri(t,e))return;n.uniform4iv(this.addr,e),Pi(t,e)}}function One(n,e){const t=this.cache;t[0]!==e&&(n.uniform1ui(this.addr,e),t[0]=e)}function Nne(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y)&&(n.uniform2ui(this.addr,e.x,e.y),t[0]=e.x,t[1]=e.y);else{if(Ri(t,e))return;n.uniform2uiv(this.addr,e),Pi(t,e)}}function Lne(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z)&&(n.uniform3ui(this.addr,e.x,e.y,e.z),t[0]=e.x,t[1]=e.y,t[2]=e.z);else{if(Ri(t,e))return;n.uniform3uiv(this.addr,e),Pi(t,e)}}function Fne(n,e){const t=this.cache;if(void 0!==e.x)(t[0]!==e.x||t[1]!==e.y||t[2]!==e.z||t[3]!==e.w)&&(n.uniform4ui(this.addr,e.x,e.y,e.z,e.w),t[0]=e.x,t[1]=e.y,t[2]=e.z,t[3]=e.w);else{if(Ri(t,e))return;n.uniform4uiv(this.addr,e),Pi(t,e)}}function kne(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2D(e||uF,r)}function Une(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture3D(e||cF,r)}function Bne(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTextureCube(e||dF,r)}function Vne(n,e,t){const i=this.cache,r=t.allocateTextureUnit();i[0]!==r&&(n.uniform1i(this.addr,r),i[0]=r),t.setTexture2DArray(e||lF,r)}function zne(n,e){n.uniform1fv(this.addr,e)}function Gne(n,e){const t=kf(e,this.size,2);n.uniform2fv(this.addr,t)}function Wne(n,e){const t=kf(e,this.size,3);n.uniform3fv(this.addr,t)}function jne(n,e){const t=kf(e,this.size,4);n.uniform4fv(this.addr,t)}function $ne(n,e){const t=kf(e,this.size,4);n.uniformMatrix2fv(this.addr,!1,t)}function qne(n,e){const t=kf(e,this.size,9);n.uniformMatrix3fv(this.addr,!1,t)}function Xne(n,e){const t=kf(e,this.size,16);n.uniformMatrix4fv(this.addr,!1,t)}function Yne(n,e){n.uniform1iv(this.addr,e)}function Zne(n,e){n.uniform2iv(this.addr,e)}function Kne(n,e){n.uniform3iv(this.addr,e)}function Jne(n,e){n.uniform4iv(this.addr,e)}function Qne(n,e){n.uniform1uiv(this.addr,e)}function eie(n,e){n.uniform2uiv(this.addr,e)}function tie(n,e){n.uniform3uiv(this.addr,e)}function nie(n,e){n.uniform4uiv(this.addr,e)}function iie(n,e,t){const i=this.cache,r=e.length,s=s_(t,r);Ri(i,s)||(n.uniform1iv(this.addr,s),Pi(i,s));for(let o=0;o!==r;++o)t.setTexture2D(e[o]||uF,s[o])}function rie(n,e,t){const i=this.cache,r=e.length,s=s_(t,r);Ri(i,s)||(n.uniform1iv(this.addr,s),Pi(i,s));for(let o=0;o!==r;++o)t.setTexture3D(e[o]||cF,s[o])}function sie(n,e,t){const i=this.cache,r=e.length,s=s_(t,r);Ri(i,s)||(n.uniform1iv(this.addr,s),Pi(i,s));for(let o=0;o!==r;++o)t.setTextureCube(e[o]||dF,s[o])}function oie(n,e,t){const i=this.cache,r=e.length,s=s_(t,r);Ri(i,s)||(n.uniform1iv(this.addr,s),Pi(i,s));for(let o=0;o!==r;++o)t.setTexture2DArray(e[o]||lF,s[o])}class uie{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.setValue=function Hne(n){switch(n){case 5126:return Ene;case 35664:return Mne;case 35665:return wne;case 35666:return Sne;case 35674:return Cne;case 35675:return Dne;case 35676:return Ane;case 5124:case 35670:return Tne;case 35667:case 35671:return Ine;case 35668:case 35672:return Rne;case 35669:case 35673:return Pne;case 5125:return One;case 36294:return Nne;case 36295:return Lne;case 36296:return Fne;case 35678:case 36198:case 36298:case 36306:case 35682:return kne;case 35679:case 36299:case 36307:return Une;case 35680:case 36300:case 36308:case 36293:return Bne;case 36289:case 36303:case 36311:case 36292:return Vne}}(t.type)}}class lie{constructor(e,t,i){this.id=e,this.addr=i,this.cache=[],this.size=t.size,this.setValue=function aie(n){switch(n){case 5126:return zne;case 35664:return Gne;case 35665:return Wne;case 35666:return jne;case 35674:return $ne;case 35675:return qne;case 35676:return Xne;case 5124:case 35670:return Yne;case 35667:case 35671:return Zne;case 35668:case 35672:return Kne;case 35669:case 35673:return Jne;case 5125:return Qne;case 36294:return eie;case 36295:return tie;case 36296:return nie;case 35678:case 36198:case 36298:case 36306:case 35682:return iie;case 35679:case 36299:case 36307:return rie;case 35680:case 36300:case 36308:case 36293:return sie;case 36289:case 36303:case 36311:case 36292:return oie}}(t.type)}}class cie{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,t,i){const r=this.seq;for(let s=0,o=r.length;s!==o;++s){const a=r[s];a.setValue(e,t[a.id],i)}}}const rw=/(\w+)(\])?(\[|\.)?/g;function vF(n,e){n.seq.push(e),n.map[e.id]=e}function die(n,e,t){const i=n.name,r=i.length;for(rw.lastIndex=0;;){const s=rw.exec(i);let a=s[1];const l=s[3];if("]"===s[2]&&(a|=0),void 0===l||"["===l&&rw.lastIndex+2===r){vF(t,void 0===l?new uie(a,n,e):new lie(a,n,e));break}{let f=t.map[a];void 0===f&&(f=new cie(a),vF(t,f)),t=f}}}class o_{constructor(e,t){this.seq=[],this.map={};const i=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const s=e.getActiveUniform(t,r);die(s,e.getUniformLocation(t,s.name),this)}}setValue(e,t,i,r){const s=this.map[t];void 0!==s&&s.setValue(e,i,r)}setOptional(e,t,i){const r=t[i];void 0!==r&&this.setValue(e,i,r)}static upload(e,t,i,r){for(let s=0,o=t.length;s!==o;++s){const a=t[s],u=i[a.id];!1!==u.needsUpdate&&a.setValue(e,u.value,r)}}static seqWithValue(e,t){const i=[];for(let r=0,s=e.length;r!==s;++r){const o=e[r];o.id in t&&i.push(o)}return i}}function _F(n,e,t){const i=n.createShader(e);return n.shaderSource(i,t),n.compileShader(i),i}const fie=37297;let hie=0;function yF(n,e,t){const i=n.getShaderParameter(e,n.COMPILE_STATUS),r=n.getShaderInfoLog(e).trim();if(i&&""===r)return"";const s=/ERROR: 0:(\d+)/.exec(r);if(s){const o=parseInt(s[1]);return t.toUpperCase()+"\n\n"+r+"\n\n"+function pie(n,e){const t=n.split("\n"),i=[],r=Math.max(e-6,0),s=Math.min(e+6,t.length);for(let o=r;o<s;o++){const a=o+1;i.push(`${a===e?">":" "} ${a}: ${t[o]}`)}return i.join("\n")}(n.getShaderSource(e),o)}return r}function gie(n,e){const t=function mie(n){const e=Dn.getPrimaries(Dn.workingColorSpace),t=Dn.getPrimaries(n);let i;switch(e===t?i="":e===R4&&t===I4?i="LinearDisplayP3ToLinearSRGB":e===I4&&t===R4&&(i="LinearSRGBToLinearDisplayP3"),n){case Sa:case A4:return[i,"LinearTransferOETF"];case Bi:case AM:return[i,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",n),[i,"LinearTransferOETF"]}}(e);return`vec4 ${n}( vec4 value ) { return ${t[0]}( ${t[1]}( value ) ); }`}function vie(n,e){let t;switch(e){case $J:t="Linear";break;case qJ:t="Reinhard";break;case XJ:t="OptimizedCineon";break;case YJ:t="ACESFilmic";break;case ZJ:t="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),t="Linear"}return"vec3 "+n+"( vec3 color ) { return "+t+"ToneMapping( color ); }"}function w0(n){return""!==n}function xF(n,e){const t=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return n.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,t).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function bF(n,e){return n.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const bie=/^[ \t]*#include +<([\w\d./]+)>/gm;function sw(n){return n.replace(bie,Mie)}const Eie=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function Mie(n,e){let t=Kt[e];if(void 0===t){const i=Eie.get(e);if(void 0===i)throw new Error("Can not resolve #include <"+e+">");t=Kt[i],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,i)}return sw(t)}const wie=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function EF(n){return n.replace(wie,Sie)}function Sie(n,e,t,i){let r="";for(let s=parseInt(e);s<parseInt(t);s++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return r}function MF(n){let e="precision "+n.precision+" float;\nprecision "+n.precision+" int;";return"highp"===n.precision?e+="\n#define HIGH_PRECISION":"mediump"===n.precision?e+="\n#define MEDIUM_PRECISION":"lowp"===n.precision&&(e+="\n#define LOW_PRECISION"),e}function Rie(n,e,t,i){const r=n.getContext(),s=t.defines;let o=t.vertexShader,a=t.fragmentShader;const u=function Cie(n){let e="SHADOWMAP_TYPE_BASIC";return n.shadowMapType===VN?e="SHADOWMAP_TYPE_PCF":n.shadowMapType===xJ?e="SHADOWMAP_TYPE_PCF_SOFT":n.shadowMapType===Ea&&(e="SHADOWMAP_TYPE_VSM"),e}(t),l=function Die(n){let e="ENVMAP_TYPE_CUBE";if(n.envMap)switch(n.envMapMode){case Au:case Fl:e="ENVMAP_TYPE_CUBE";break;case f0:e="ENVMAP_TYPE_CUBE_UV"}return e}(t),c=function Aie(n){let e="ENVMAP_MODE_REFLECTION";return n.envMap&&n.envMapMode===Fl&&(e="ENVMAP_MODE_REFRACTION"),e}(t),f=function Tie(n){let e="ENVMAP_BLENDING_NONE";if(n.envMap)switch(n.combine){case y4:e="ENVMAP_BLENDING_MULTIPLY";break;case WJ:e="ENVMAP_BLENDING_MIX";break;case jJ:e="ENVMAP_BLENDING_ADD"}return e}(t),h=function Iie(n){const e=n.envMapCubeUVHeight;if(null===e)return null;const t=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,t),112)),texelHeight:i,maxMip:t}}(t),p=t.isWebGL2?"":function _ie(n){return[n.extensionDerivatives||n.envMapCubeUVHeight||n.bumpMap||n.normalMapTangentSpace||n.clearcoatNormalMap||n.flatShading||"physical"===n.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(n.extensionFragDepth||n.logarithmicDepthBuffer)&&n.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",n.extensionDrawBuffers&&n.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(n.extensionShaderTextureLOD||n.envMap||n.transmission)&&n.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(w0).join("\n")}(t),g=function yie(n){const e=[];for(const t in n){const i=n[t];!1!==i&&e.push("#define "+t+" "+i)}return e.join("\n")}(s),x=r.createProgram();let _,v,w=t.glslVersion?"#version "+t.glslVersion+"\n":"";t.isRawShaderMaterial?(_=["#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,g].filter(w0).join("\n"),_.length>0&&(_+="\n"),v=[p,"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,g].filter(w0).join("\n"),v.length>0&&(v+="\n")):(_=[MF(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,g,t.instancing?"#define USE_INSTANCING":"",t.instancingColor?"#define USE_INSTANCING_COLOR":"",t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+c:"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.displacementMap?"#define USE_DISPLACEMENTMAP":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.mapUv?"#define MAP_UV "+t.mapUv:"",t.alphaMapUv?"#define ALPHAMAP_UV "+t.alphaMapUv:"",t.lightMapUv?"#define LIGHTMAP_UV "+t.lightMapUv:"",t.aoMapUv?"#define AOMAP_UV "+t.aoMapUv:"",t.emissiveMapUv?"#define EMISSIVEMAP_UV "+t.emissiveMapUv:"",t.bumpMapUv?"#define BUMPMAP_UV "+t.bumpMapUv:"",t.normalMapUv?"#define NORMALMAP_UV "+t.normalMapUv:"",t.displacementMapUv?"#define DISPLACEMENTMAP_UV "+t.displacementMapUv:"",t.metalnessMapUv?"#define METALNESSMAP_UV "+t.metalnessMapUv:"",t.roughnessMapUv?"#define ROUGHNESSMAP_UV "+t.roughnessMapUv:"",t.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+t.anisotropyMapUv:"",t.clearcoatMapUv?"#define CLEARCOATMAP_UV "+t.clearcoatMapUv:"",t.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+t.clearcoatNormalMapUv:"",t.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+t.clearcoatRoughnessMapUv:"",t.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+t.iridescenceMapUv:"",t.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+t.iridescenceThicknessMapUv:"",t.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+t.sheenColorMapUv:"",t.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+t.sheenRoughnessMapUv:"",t.specularMapUv?"#define SPECULARMAP_UV "+t.specularMapUv:"",t.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+t.specularColorMapUv:"",t.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+t.specularIntensityMapUv:"",t.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+t.transmissionMapUv:"",t.thicknessMapUv?"#define THICKNESSMAP_UV "+t.thicknessMapUv:"",t.vertexTangents&&!1===t.flatShading?"#define USE_TANGENT":"",t.vertexColors?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.flatShading?"#define FLAT_SHADED":"",t.skinning?"#define USE_SKINNING":"",t.morphTargets?"#define USE_MORPHTARGETS":"",t.morphNormals&&!1===t.flatShading?"#define USE_MORPHNORMALS":"",t.morphColors&&t.isWebGL2?"#define USE_MORPHCOLORS":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+t.morphTextureStride:"",t.morphTargetsCount>0&&t.isWebGL2?"#define MORPHTARGETS_COUNT "+t.morphTargetsCount:"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+u:"",t.sizeAttenuation?"#define USE_SIZEATTENUATION":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","\tattribute vec2 uv1;","#endif","#ifdef USE_UV2","\tattribute vec2 uv2;","#endif","#ifdef USE_UV3","\tattribute vec2 uv3;","#endif","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(w0).join("\n"),v=[p,MF(t),"#define SHADER_TYPE "+t.shaderType,"#define SHADER_NAME "+t.shaderName,g,t.useFog&&t.fog?"#define USE_FOG":"",t.useFog&&t.fogExp2?"#define FOG_EXP2":"",t.map?"#define USE_MAP":"",t.matcap?"#define USE_MATCAP":"",t.envMap?"#define USE_ENVMAP":"",t.envMap?"#define "+l:"",t.envMap?"#define "+c:"",t.envMap?"#define "+f:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",t.lightMap?"#define USE_LIGHTMAP":"",t.aoMap?"#define USE_AOMAP":"",t.bumpMap?"#define USE_BUMPMAP":"",t.normalMap?"#define USE_NORMALMAP":"",t.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",t.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",t.emissiveMap?"#define USE_EMISSIVEMAP":"",t.anisotropy?"#define USE_ANISOTROPY":"",t.anisotropyMap?"#define USE_ANISOTROPYMAP":"",t.clearcoat?"#define USE_CLEARCOAT":"",t.clearcoatMap?"#define USE_CLEARCOATMAP":"",t.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",t.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",t.iridescence?"#define USE_IRIDESCENCE":"",t.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",t.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",t.specularMap?"#define USE_SPECULARMAP":"",t.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",t.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",t.roughnessMap?"#define USE_ROUGHNESSMAP":"",t.metalnessMap?"#define USE_METALNESSMAP":"",t.alphaMap?"#define USE_ALPHAMAP":"",t.alphaTest?"#define USE_ALPHATEST":"",t.alphaHash?"#define USE_ALPHAHASH":"",t.sheen?"#define USE_SHEEN":"",t.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",t.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",t.transmission?"#define USE_TRANSMISSION":"",t.transmissionMap?"#define USE_TRANSMISSIONMAP":"",t.thicknessMap?"#define USE_THICKNESSMAP":"",t.vertexTangents&&!1===t.flatShading?"#define USE_TANGENT":"",t.vertexColors||t.instancingColor?"#define USE_COLOR":"",t.vertexAlphas?"#define USE_COLOR_ALPHA":"",t.vertexUv1s?"#define USE_UV1":"",t.vertexUv2s?"#define USE_UV2":"",t.vertexUv3s?"#define USE_UV3":"",t.pointsUvs?"#define USE_POINTS_UV":"",t.gradientMap?"#define USE_GRADIENTMAP":"",t.flatShading?"#define FLAT_SHADED":"",t.doubleSided?"#define DOUBLE_SIDED":"",t.flipSided?"#define FLIP_SIDED":"",t.shadowMapEnabled?"#define USE_SHADOWMAP":"",t.shadowMapEnabled?"#define "+u:"",t.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",t.numLightProbes>0?"#define USE_LIGHT_PROBES":"",t.useLegacyLights?"#define LEGACY_LIGHTS":"",t.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",t.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",t.logarithmicDepthBuffer&&t.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",t.toneMapping!==Du?"#define TONE_MAPPING":"",t.toneMapping!==Du?Kt.tonemapping_pars_fragment:"",t.toneMapping!==Du?vie("toneMapping",t.toneMapping):"",t.dithering?"#define DITHERING":"",t.opaque?"#define OPAQUE":"",Kt.colorspace_pars_fragment,gie("linearToOutputTexel",t.outputColorSpace),t.useDepthPacking?"#define DEPTH_PACKING "+t.depthPacking:"","\n"].filter(w0).join("\n")),o=sw(o),o=xF(o,t),o=bF(o,t),a=sw(a),a=xF(a,t),a=bF(a,t),o=EF(o),a=EF(a),t.isWebGL2&&!0!==t.isRawShaderMaterial&&(w="#version 300 es\n",_=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+_,v=["precision mediump sampler2DArray;","#define varying in",t.glslVersion===AL?"":"layout(location = 0) out highp vec4 pc_fragColor;",t.glslVersion===AL?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+v);const D=w+v+a,T=_F(r,r.VERTEX_SHADER,w+_+o),P=_F(r,r.FRAGMENT_SHADER,D);function U(J){if(n.debug.checkShaderErrors){const ve=r.getProgramInfoLog(x).trim(),Ee=r.getShaderInfoLog(T).trim(),j=r.getShaderInfoLog(P).trim();let se=!0,ge=!0;if(!1===r.getProgramParameter(x,r.LINK_STATUS))if(se=!1,"function"==typeof n.debug.onShaderError)n.debug.onShaderError(r,x,T,P);else{const pe=yF(r,T,"vertex"),Ne=yF(r,P,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(x,r.VALIDATE_STATUS)+"\n\nProgram Info Log: "+ve+"\n"+pe+"\n"+Ne)}else""!==ve?console.warn("THREE.WebGLProgram: Program Info Log:",ve):(""===Ee||""===j)&&(ge=!1);ge&&(J.diagnostics={runnable:se,programLog:ve,vertexShader:{log:Ee,prefix:_},fragmentShader:{log:j,prefix:v}})}r.deleteShader(T),r.deleteShader(P),W=new o_(r,x),I=function xie(n,e){const t={},i=n.getProgramParameter(e,n.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const s=n.getActiveAttrib(e,r),o=s.name;let a=1;s.type===n.FLOAT_MAT2&&(a=2),s.type===n.FLOAT_MAT3&&(a=3),s.type===n.FLOAT_MAT4&&(a=4),t[o]={type:s.type,location:n.getAttribLocation(e,o),locationSize:a}}return t}(r,x)}let W,I;r.attachShader(x,T),r.attachShader(x,P),void 0!==t.index0AttributeName?r.bindAttribLocation(x,0,t.index0AttributeName):!0===t.morphTargets&&r.bindAttribLocation(x,0,"position"),r.linkProgram(x),this.getUniforms=function(){return void 0===W&&U(this),W},this.getAttributes=function(){return void 0===I&&U(this),I};let F=!1===t.rendererExtensionParallelShaderCompile;return this.isReady=function(){return!1===F&&(F=r.getProgramParameter(x,fie)),F},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(x),this.program=void 0},this.type=t.shaderType,this.name=t.shaderName,this.id=hie++,this.cacheKey=e,this.usedTimes=1,this.program=x,this.vertexShader=T,this.fragmentShader=P,this}let Pie=0;class Oie{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const i=e.fragmentShader,r=this._getShaderStage(e.vertexShader),s=this._getShaderStage(i),o=this._getShaderCacheForMaterial(e);return!1===o.has(r)&&(o.add(r),r.usedTimes++),!1===o.has(s)&&(o.add(s),s.usedTimes++),this}remove(e){const t=this.materialCache.get(e);for(const i of t)i.usedTimes--,0===i.usedTimes&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const t=this.materialCache;let i=t.get(e);return void 0===i&&(i=new Set,t.set(e,i)),i}_getShaderStage(e){const t=this.shaderCache;let i=t.get(e);return void 0===i&&(i=new Nie(e),t.set(e,i)),i}}class Nie{constructor(e){this.id=Pie++,this.code=e,this.usedTimes=0}}function Lie(n,e,t,i,r,s,o){const a=new zM,u=new Oie,l=[],c=r.isWebGL2,f=r.logarithmicDepthBuffer,h=r.vertexTextures;let p=r.precision;const g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function x(I){return 0===I?"uv":`uv${I}`}return{getParameters:function _(I,F,J,ve,Ee){const j=ve.fog,se=Ee.geometry,pe=(I.isMeshStandardMaterial?t:e).get(I.envMap||(I.isMeshStandardMaterial?ve.environment:null)),Ne=pe&&pe.mapping===f0?pe.image.height:null,xe=g[I.type];null!==I.precision&&(p=r.getMaxPrecision(I.precision),p!==I.precision&&console.warn("THREE.WebGLProgram.getParameters:",I.precision,"not supported, using",p,"instead."));const we=se.morphAttributes.position||se.morphAttributes.normal||se.morphAttributes.color,q=void 0!==we?we.length:0;let je,Je,tt,Mt,fe=0;if(void 0!==se.morphAttributes.position&&(fe=1),void 0!==se.morphAttributes.normal&&(fe=2),void 0!==se.morphAttributes.color&&(fe=3),xe){const wi=qo[xe];je=wi.vertexShader,Je=wi.fragmentShader}else je=I.vertexShader,Je=I.fragmentShader,u.update(I),tt=u.getVertexShaderID(I),Mt=u.getFragmentShaderID(I);const At=n.getRenderTarget(),wt=!0===Ee.isInstancedMesh,Gt=!!I.map,St=!!pe,G=!!I.aoMap,ze=!!I.lightMap,me=!!I.bumpMap,Te=!!I.normalMap,be=!!I.displacementMap,mt=!!I.emissiveMap,Ze=!!I.metalnessMap,rt=!!I.roughnessMap,Vt=I.anisotropy>0,sn=I.clearcoat>0,ri=I.iridescence>0,B=I.sheen>0,R=I.transmission>0,te=Vt&&!!I.anisotropyMap,Re=sn&&!!I.clearcoatMap,Ce=sn&&!!I.clearcoatNormalMap,Le=sn&&!!I.clearcoatRoughnessMap,ct=ri&&!!I.iridescenceMap,Ue=ri&&!!I.iridescenceThicknessMap,Xe=B&&!!I.sheenColorMap,Lt=B&&!!I.sheenRoughnessMap,gn=!!I.specularMap,Fe=!!I.specularColorMap,Tn=!!I.specularIntensityMap,Wt=R&&!!I.transmissionMap,Ft=R&&!!I.thicknessMap,et=!!I.alphaMap,Ye=!!I.extensions,ke=!!se.attributes.uv1,de=!!se.attributes.uv2,Ve=!!se.attributes.uv3;let Ct=Du;return I.toneMapped&&(null===At||!0===At.isXRRenderTarget)&&(Ct=n.toneMapping),{isWebGL2:c,shaderID:xe,shaderType:I.type,shaderName:I.name,vertexShader:je,fragmentShader:Je,defines:I.defines,customVertexShaderID:tt,customFragmentShaderID:Mt,isRawShaderMaterial:!0===I.isRawShaderMaterial,glslVersion:I.glslVersion,precision:p,instancing:wt,instancingColor:wt&&null!==Ee.instanceColor,supportsVertexTextures:h,outputColorSpace:null===At?n.outputColorSpace:!0===At.isXRRenderTarget?At.texture.colorSpace:Sa,map:Gt,matcap:!!I.matcap,envMap:St,envMapMode:St&&pe.mapping,envMapCubeUVHeight:Ne,aoMap:G,lightMap:ze,bumpMap:me,normalMap:Te,displacementMap:h&&be,emissiveMap:mt,normalMapObjectSpace:Te&&1===I.normalMapType,normalMapTangentSpace:Te&&0===I.normalMapType,metalnessMap:Ze,roughnessMap:rt,anisotropy:Vt,anisotropyMap:te,clearcoat:sn,clearcoatMap:Re,clearcoatNormalMap:Ce,clearcoatRoughnessMap:Le,iridescence:ri,iridescenceMap:ct,iridescenceThicknessMap:Ue,sheen:B,sheenColorMap:Xe,sheenRoughnessMap:Lt,specularMap:gn,specularColorMap:Fe,specularIntensityMap:Tn,transmission:R,transmissionMap:Wt,thicknessMap:Ft,gradientMap:!!I.gradientMap,opaque:!1===I.transparent&&1===I.blending,alphaMap:et,alphaTest:I.alphaTest>0,alphaHash:!!I.alphaHash,combine:I.combine,mapUv:Gt&&x(I.map.channel),aoMapUv:G&&x(I.aoMap.channel),lightMapUv:ze&&x(I.lightMap.channel),bumpMapUv:me&&x(I.bumpMap.channel),normalMapUv:Te&&x(I.normalMap.channel),displacementMapUv:be&&x(I.displacementMap.channel),emissiveMapUv:mt&&x(I.emissiveMap.channel),metalnessMapUv:Ze&&x(I.metalnessMap.channel),roughnessMapUv:rt&&x(I.roughnessMap.channel),anisotropyMapUv:te&&x(I.anisotropyMap.channel),clearcoatMapUv:Re&&x(I.clearcoatMap.channel),clearcoatNormalMapUv:Ce&&x(I.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Le&&x(I.clearcoatRoughnessMap.channel),iridescenceMapUv:ct&&x(I.iridescenceMap.channel),iridescenceThicknessMapUv:Ue&&x(I.iridescenceThicknessMap.channel),sheenColorMapUv:Xe&&x(I.sheenColorMap.channel),sheenRoughnessMapUv:Lt&&x(I.sheenRoughnessMap.channel),specularMapUv:gn&&x(I.specularMap.channel),specularColorMapUv:Fe&&x(I.specularColorMap.channel),specularIntensityMapUv:Tn&&x(I.specularIntensityMap.channel),transmissionMapUv:Wt&&x(I.transmissionMap.channel),thicknessMapUv:Ft&&x(I.thicknessMap.channel),alphaMapUv:et&&x(I.alphaMap.channel),vertexTangents:!!se.attributes.tangent&&(Te||Vt),vertexColors:I.vertexColors,vertexAlphas:!0===I.vertexColors&&!!se.attributes.color&&4===se.attributes.color.itemSize,vertexUv1s:ke,vertexUv2s:de,vertexUv3s:Ve,pointsUvs:!0===Ee.isPoints&&!!se.attributes.uv&&(Gt||et),fog:!!j,useFog:!0===I.fog,fogExp2:j&&j.isFogExp2,flatShading:!0===I.flatShading,sizeAttenuation:!0===I.sizeAttenuation,logarithmicDepthBuffer:f,skinning:!0===Ee.isSkinnedMesh,morphTargets:void 0!==se.morphAttributes.position,morphNormals:void 0!==se.morphAttributes.normal,morphColors:void 0!==se.morphAttributes.color,morphTargetsCount:q,morphTextureStride:fe,numDirLights:F.directional.length,numPointLights:F.point.length,numSpotLights:F.spot.length,numSpotLightMaps:F.spotLightMap.length,numRectAreaLights:F.rectArea.length,numHemiLights:F.hemi.length,numDirLightShadows:F.directionalShadowMap.length,numPointLightShadows:F.pointShadowMap.length,numSpotLightShadows:F.spotShadowMap.length,numSpotLightShadowsWithMaps:F.numSpotLightShadowsWithMaps,numLightProbes:F.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:I.dithering,shadowMapEnabled:n.shadowMap.enabled&&J.length>0,shadowMapType:n.shadowMap.type,toneMapping:Ct,useLegacyLights:n._useLegacyLights,decodeVideoTexture:Gt&&!0===I.map.isVideoTexture&&Dn.getTransfer(I.map.colorSpace)===Wn,premultipliedAlpha:I.premultipliedAlpha,doubleSided:2===I.side,flipSided:1===I.side,useDepthPacking:I.depthPacking>=0,depthPacking:I.depthPacking||0,index0AttributeName:I.index0AttributeName,extensionDerivatives:Ye&&!0===I.extensions.derivatives,extensionFragDepth:Ye&&!0===I.extensions.fragDepth,extensionDrawBuffers:Ye&&!0===I.extensions.drawBuffers,extensionShaderTextureLOD:Ye&&!0===I.extensions.shaderTextureLOD,rendererExtensionFragDepth:c||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:c||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:c||i.has("EXT_shader_texture_lod"),rendererExtensionParallelShaderCompile:i.has("KHR_parallel_shader_compile"),customProgramCacheKey:I.customProgramCacheKey()}},getProgramCacheKey:function v(I){const F=[];if(I.shaderID?F.push(I.shaderID):(F.push(I.customVertexShaderID),F.push(I.customFragmentShaderID)),void 0!==I.defines)for(const J in I.defines)F.push(J),F.push(I.defines[J]);return!1===I.isRawShaderMaterial&&(function w(I,F){I.push(F.precision),I.push(F.outputColorSpace),I.push(F.envMapMode),I.push(F.envMapCubeUVHeight),I.push(F.mapUv),I.push(F.alphaMapUv),I.push(F.lightMapUv),I.push(F.aoMapUv),I.push(F.bumpMapUv),I.push(F.normalMapUv),I.push(F.displacementMapUv),I.push(F.emissiveMapUv),I.push(F.metalnessMapUv),I.push(F.roughnessMapUv),I.push(F.anisotropyMapUv),I.push(F.clearcoatMapUv),I.push(F.clearcoatNormalMapUv),I.push(F.clearcoatRoughnessMapUv),I.push(F.iridescenceMapUv),I.push(F.iridescenceThicknessMapUv),I.push(F.sheenColorMapUv),I.push(F.sheenRoughnessMapUv),I.push(F.specularMapUv),I.push(F.specularColorMapUv),I.push(F.specularIntensityMapUv),I.push(F.transmissionMapUv),I.push(F.thicknessMapUv),I.push(F.combine),I.push(F.fogExp2),I.push(F.sizeAttenuation),I.push(F.morphTargetsCount),I.push(F.morphAttributeCount),I.push(F.numDirLights),I.push(F.numPointLights),I.push(F.numSpotLights),I.push(F.numSpotLightMaps),I.push(F.numHemiLights),I.push(F.numRectAreaLights),I.push(F.numDirLightShadows),I.push(F.numPointLightShadows),I.push(F.numSpotLightShadows),I.push(F.numSpotLightShadowsWithMaps),I.push(F.numLightProbes),I.push(F.shadowMapType),I.push(F.toneMapping),I.push(F.numClippingPlanes),I.push(F.numClipIntersection),I.push(F.depthPacking)}(F,I),function M(I,F){a.disableAll(),F.isWebGL2&&a.enable(0),F.supportsVertexTextures&&a.enable(1),F.instancing&&a.enable(2),F.instancingColor&&a.enable(3),F.matcap&&a.enable(4),F.envMap&&a.enable(5),F.normalMapObjectSpace&&a.enable(6),F.normalMapTangentSpace&&a.enable(7),F.clearcoat&&a.enable(8),F.iridescence&&a.enable(9),F.alphaTest&&a.enable(10),F.vertexColors&&a.enable(11),F.vertexAlphas&&a.enable(12),F.vertexUv1s&&a.enable(13),F.vertexUv2s&&a.enable(14),F.vertexUv3s&&a.enable(15),F.vertexTangents&&a.enable(16),F.anisotropy&&a.enable(17),F.alphaHash&&a.enable(18),I.push(a.mask),a.disableAll(),F.fog&&a.enable(0),F.useFog&&a.enable(1),F.flatShading&&a.enable(2),F.logarithmicDepthBuffer&&a.enable(3),F.skinning&&a.enable(4),F.morphTargets&&a.enable(5),F.morphNormals&&a.enable(6),F.morphColors&&a.enable(7),F.premultipliedAlpha&&a.enable(8),F.shadowMapEnabled&&a.enable(9),F.useLegacyLights&&a.enable(10),F.doubleSided&&a.enable(11),F.flipSided&&a.enable(12),F.useDepthPacking&&a.enable(13),F.dithering&&a.enable(14),F.transmission&&a.enable(15),F.sheen&&a.enable(16),F.opaque&&a.enable(17),F.pointsUvs&&a.enable(18),F.decodeVideoTexture&&a.enable(19),I.push(a.mask)}(F,I),F.push(n.outputColorSpace)),F.push(I.customProgramCacheKey),F.join()},getUniforms:function D(I){const F=g[I.type];let J;return J=F?eee.clone(qo[F].uniforms):I.uniforms,J},acquireProgram:function T(I,F){let J;for(let ve=0,Ee=l.length;ve<Ee;ve++){const j=l[ve];if(j.cacheKey===F){J=j,++J.usedTimes;break}}return void 0===J&&(J=new Rie(n,F,I,s),l.push(J)),J},releaseProgram:function P(I){if(0==--I.usedTimes){const F=l.indexOf(I);l[F]=l[l.length-1],l.pop(),I.destroy()}},releaseShaderCache:function U(I){u.remove(I)},programs:l,dispose:function W(){u.dispose()}}}function Fie(){let n=new WeakMap;return{get:function e(s){let o=n.get(s);return void 0===o&&(o={},n.set(s,o)),o},remove:function t(s){n.delete(s)},update:function i(s,o,a){n.get(s)[o]=a},dispose:function r(){n=new WeakMap}}}function kie(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.material.id!==e.material.id?n.material.id-e.material.id:n.z!==e.z?n.z-e.z:n.id-e.id}function wF(n,e){return n.groupOrder!==e.groupOrder?n.groupOrder-e.groupOrder:n.renderOrder!==e.renderOrder?n.renderOrder-e.renderOrder:n.z!==e.z?e.z-n.z:n.id-e.id}function SF(){const n=[];let e=0;const t=[],i=[],r=[];function o(f,h,p,g,x,_){let v=n[e];return void 0===v?(v={id:f.id,object:f,geometry:h,material:p,groupOrder:g,renderOrder:f.renderOrder,z:x,group:_},n[e]=v):(v.id=f.id,v.object=f,v.geometry=h,v.material=p,v.groupOrder=g,v.renderOrder=f.renderOrder,v.z=x,v.group=_),e++,v}return{opaque:t,transmissive:i,transparent:r,init:function s(){e=0,t.length=0,i.length=0,r.length=0},push:function a(f,h,p,g,x,_){const v=o(f,h,p,g,x,_);p.transmission>0?i.push(v):!0===p.transparent?r.push(v):t.push(v)},unshift:function u(f,h,p,g,x,_){const v=o(f,h,p,g,x,_);p.transmission>0?i.unshift(v):!0===p.transparent?r.unshift(v):t.unshift(v)},finish:function c(){for(let f=e,h=n.length;f<h;f++){const p=n[f];if(null===p.id)break;p.id=null,p.object=null,p.geometry=null,p.material=null,p.group=null}},sort:function l(f,h){t.length>1&&t.sort(f||kie),i.length>1&&i.sort(h||wF),r.length>1&&r.sort(h||wF)}}}function Uie(){let n=new WeakMap;return{get:function e(i,r){const s=n.get(i);let o;return void 0===s?(o=new SF,n.set(i,[o])):r>=s.length?(o=new SF,s.push(o)):o=s[r],o},dispose:function t(){n=new WeakMap}}}function Bie(){const n={};return{get:function(e){if(void 0!==n[e.id])return n[e.id];let t;switch(e.type){case"DirectionalLight":t={direction:new k,color:new Ke};break;case"SpotLight":t={position:new k,direction:new k,color:new Ke,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":t={position:new k,color:new Ke,distance:0,decay:0};break;case"HemisphereLight":t={direction:new k,skyColor:new Ke,groundColor:new Ke};break;case"RectAreaLight":t={color:new Ke,position:new k,halfWidth:new k,halfHeight:new k}}return n[e.id]=t,t}}}let Hie=0;function zie(n,e){return(e.castShadow?2:0)-(n.castShadow?2:0)+(e.map?1:0)-(n.map?1:0)}function Gie(n,e){const t=new Bie,i=function Vie(){const n={};return{get:function(e){if(void 0!==n[e.id])return n[e.id];let t;switch(e.type){case"DirectionalLight":case"SpotLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new _e};break;case"PointLight":t={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new _e,shadowCameraNear:1,shadowCameraFar:1e3}}return n[e.id]=t,t}}}(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)r.probe.push(new k);const s=new k,o=new zt,a=new zt;return{setup:function u(c,f){let h=0,p=0,g=0;for(let ve=0;ve<9;ve++)r.probe[ve].set(0,0,0);let x=0,_=0,v=0,w=0,M=0,D=0,T=0,P=0,U=0,W=0,I=0;c.sort(zie);const F=!0===f?Math.PI:1;for(let ve=0,Ee=c.length;ve<Ee;ve++){const j=c[ve],se=j.color,ge=j.intensity,pe=j.distance,Ne=j.shadow&&j.shadow.map?j.shadow.map.texture:null;if(j.isAmbientLight)h+=se.r*ge*F,p+=se.g*ge*F,g+=se.b*ge*F;else if(j.isLightProbe){for(let xe=0;xe<9;xe++)r.probe[xe].addScaledVector(j.sh.coefficients[xe],ge);I++}else if(j.isDirectionalLight){const xe=t.get(j);if(xe.color.copy(j.color).multiplyScalar(j.intensity*F),j.castShadow){const we=j.shadow,q=i.get(j);q.shadowBias=we.bias,q.shadowNormalBias=we.normalBias,q.shadowRadius=we.radius,q.shadowMapSize=we.mapSize,r.directionalShadow[x]=q,r.directionalShadowMap[x]=Ne,r.directionalShadowMatrix[x]=j.shadow.matrix,D++}r.directional[x]=xe,x++}else if(j.isSpotLight){const xe=t.get(j);xe.position.setFromMatrixPosition(j.matrixWorld),xe.color.copy(se).multiplyScalar(ge*F),xe.distance=pe,xe.coneCos=Math.cos(j.angle),xe.penumbraCos=Math.cos(j.angle*(1-j.penumbra)),xe.decay=j.decay,r.spot[v]=xe;const we=j.shadow;if(j.map&&(r.spotLightMap[U]=j.map,U++,we.updateMatrices(j),j.castShadow&&W++),r.spotLightMatrix[v]=we.matrix,j.castShadow){const q=i.get(j);q.shadowBias=we.bias,q.shadowNormalBias=we.normalBias,q.shadowRadius=we.radius,q.shadowMapSize=we.mapSize,r.spotShadow[v]=q,r.spotShadowMap[v]=Ne,P++}v++}else if(j.isRectAreaLight){const xe=t.get(j);xe.color.copy(se).multiplyScalar(ge),xe.halfWidth.set(.5*j.width,0,0),xe.halfHeight.set(0,.5*j.height,0),r.rectArea[w]=xe,w++}else if(j.isPointLight){const xe=t.get(j);if(xe.color.copy(j.color).multiplyScalar(j.intensity*F),xe.distance=j.distance,xe.decay=j.decay,j.castShadow){const we=j.shadow,q=i.get(j);q.shadowBias=we.bias,q.shadowNormalBias=we.normalBias,q.shadowRadius=we.radius,q.shadowMapSize=we.mapSize,q.shadowCameraNear=we.camera.near,q.shadowCameraFar=we.camera.far,r.pointShadow[_]=q,r.pointShadowMap[_]=Ne,r.pointShadowMatrix[_]=j.shadow.matrix,T++}r.point[_]=xe,_++}else if(j.isHemisphereLight){const xe=t.get(j);xe.skyColor.copy(j.color).multiplyScalar(ge*F),xe.groundColor.copy(j.groundColor).multiplyScalar(ge*F),r.hemi[M]=xe,M++}}w>0&&(e.isWebGL2||!0===n.has("OES_texture_float_linear")?(r.rectAreaLTC1=Ge.LTC_FLOAT_1,r.rectAreaLTC2=Ge.LTC_FLOAT_2):!0===n.has("OES_texture_half_float_linear")?(r.rectAreaLTC1=Ge.LTC_HALF_1,r.rectAreaLTC2=Ge.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=h,r.ambient[1]=p,r.ambient[2]=g;const J=r.hash;(J.directionalLength!==x||J.pointLength!==_||J.spotLength!==v||J.rectAreaLength!==w||J.hemiLength!==M||J.numDirectionalShadows!==D||J.numPointShadows!==T||J.numSpotShadows!==P||J.numSpotMaps!==U||J.numLightProbes!==I)&&(r.directional.length=x,r.spot.length=v,r.rectArea.length=w,r.point.length=_,r.hemi.length=M,r.directionalShadow.length=D,r.directionalShadowMap.length=D,r.pointShadow.length=T,r.pointShadowMap.length=T,r.spotShadow.length=P,r.spotShadowMap.length=P,r.directionalShadowMatrix.length=D,r.pointShadowMatrix.length=T,r.spotLightMatrix.length=P+U-W,r.spotLightMap.length=U,r.numSpotLightShadowsWithMaps=W,r.numLightProbes=I,J.directionalLength=x,J.pointLength=_,J.spotLength=v,J.rectAreaLength=w,J.hemiLength=M,J.numDirectionalShadows=D,J.numPointShadows=T,J.numSpotShadows=P,J.numSpotMaps=U,J.numLightProbes=I,r.version=Hie++)},setupView:function l(c,f){let h=0,p=0,g=0,x=0,_=0;const v=f.matrixWorldInverse;for(let w=0,M=c.length;w<M;w++){const D=c[w];if(D.isDirectionalLight){const T=r.directional[h];T.direction.setFromMatrixPosition(D.matrixWorld),s.setFromMatrixPosition(D.target.matrixWorld),T.direction.sub(s),T.direction.transformDirection(v),h++}else if(D.isSpotLight){const T=r.spot[g];T.position.setFromMatrixPosition(D.matrixWorld),T.position.applyMatrix4(v),T.direction.setFromMatrixPosition(D.matrixWorld),s.setFromMatrixPosition(D.target.matrixWorld),T.direction.sub(s),T.direction.transformDirection(v),g++}else if(D.isRectAreaLight){const T=r.rectArea[x];T.position.setFromMatrixPosition(D.matrixWorld),T.position.applyMatrix4(v),a.identity(),o.copy(D.matrixWorld),o.premultiply(v),a.extractRotation(o),T.halfWidth.set(.5*D.width,0,0),T.halfHeight.set(0,.5*D.height,0),T.halfWidth.applyMatrix4(a),T.halfHeight.applyMatrix4(a),x++}else if(D.isPointLight){const T=r.point[p];T.position.setFromMatrixPosition(D.matrixWorld),T.position.applyMatrix4(v),p++}else if(D.isHemisphereLight){const T=r.hemi[_];T.direction.setFromMatrixPosition(D.matrixWorld),T.direction.transformDirection(v),_++}}},state:r}}function CF(n,e){const t=new Gie(n,e),i=[],r=[];return{init:function s(){i.length=0,r.length=0},state:{lightsArray:i,shadowsArray:r,lights:t},setupLights:function u(f){t.setup(i,f)},setupLightsView:function l(f){t.setupView(i,f)},pushLight:function o(f){i.push(f)},pushShadow:function a(f){r.push(f)}}}function Wie(n,e){let t=new WeakMap;return{get:function i(s,o=0){const a=t.get(s);let u;return void 0===a?(u=new CF(n,e),t.set(s,[u])):o>=a.length?(u=new CF(n,e),a.push(u)):u=a[o],u},dispose:function r(){t=new WeakMap}}}class DF extends b0{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class AF extends b0{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}function qie(n,e,t){let i=new JM;const r=new _e,s=new _e,o=new An,a=new DF({depthPacking:3201}),u=new AF,l={},c=t.maxTextureSize,f={0:1,1:0,2:2},h=new co({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new _e},radius:{value:4}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\n#include <packing>\nvoid main() {\n\tconst float samples = float( VSM_SAMPLES );\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),p=h.clone();p.defines.HORIZONTAL_PASS=1;const g=new nn;g.setAttribute("position",new Vi(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const x=new or(g,h),_=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=VN;let v=this.type;function w(T,P){const U=e.update(x);h.defines.VSM_SAMPLES!==T.blurSamples&&(h.defines.VSM_SAMPLES=T.blurSamples,p.defines.VSM_SAMPLES=T.blurSamples,h.needsUpdate=!0,p.needsUpdate=!0),null===T.mapPass&&(T.mapPass=new Da(r.x,r.y)),h.uniforms.shadow_pass.value=T.map.texture,h.uniforms.resolution.value=T.mapSize,h.uniforms.radius.value=T.radius,n.setRenderTarget(T.mapPass),n.clear(),n.renderBufferDirect(P,null,U,h,x,null),p.uniforms.shadow_pass.value=T.mapPass.texture,p.uniforms.resolution.value=T.mapSize,p.uniforms.radius.value=T.radius,n.setRenderTarget(T.map),n.clear(),n.renderBufferDirect(P,null,U,p,x,null)}function M(T,P,U,W){let I=null;const F=!0===U.isPointLight?T.customDistanceMaterial:T.customDepthMaterial;if(void 0!==F)I=F;else if(I=!0===U.isPointLight?u:a,n.localClippingEnabled&&!0===P.clipShadows&&Array.isArray(P.clippingPlanes)&&0!==P.clippingPlanes.length||P.displacementMap&&0!==P.displacementScale||P.alphaMap&&P.alphaTest>0||P.map&&P.alphaTest>0){const J=I.uuid,ve=P.uuid;let Ee=l[J];void 0===Ee&&(Ee={},l[J]=Ee);let j=Ee[ve];void 0===j&&(j=I.clone(),Ee[ve]=j),I=j}return I.visible=P.visible,I.wireframe=P.wireframe,I.side=W===Ea?null!==P.shadowSide?P.shadowSide:P.side:null!==P.shadowSide?P.shadowSide:f[P.side],I.alphaMap=P.alphaMap,I.alphaTest=P.alphaTest,I.map=P.map,I.clipShadows=P.clipShadows,I.clippingPlanes=P.clippingPlanes,I.clipIntersection=P.clipIntersection,I.displacementMap=P.displacementMap,I.displacementScale=P.displacementScale,I.displacementBias=P.displacementBias,I.wireframeLinewidth=P.wireframeLinewidth,I.linewidth=P.linewidth,!0===U.isPointLight&&!0===I.isMeshDistanceMaterial&&(n.properties.get(I).light=U),I}function D(T,P,U,W,I){if(!1===T.visible)return;if(T.layers.test(P.layers)&&(T.isMesh||T.isLine||T.isPoints)&&(T.castShadow||T.receiveShadow&&I===Ea)&&(!T.frustumCulled||i.intersectsObject(T))){T.modelViewMatrix.multiplyMatrices(U.matrixWorldInverse,T.matrixWorld);const ve=e.update(T),Ee=T.material;if(Array.isArray(Ee)){const j=ve.groups;for(let se=0,ge=j.length;se<ge;se++){const pe=j[se],Ne=Ee[pe.materialIndex];if(Ne&&Ne.visible){const xe=M(T,Ne,W,I);n.renderBufferDirect(U,null,ve,xe,T,pe)}}}else if(Ee.visible){const j=M(T,Ee,W,I);n.renderBufferDirect(U,null,ve,j,T,null)}}const J=T.children;for(let ve=0,Ee=J.length;ve<Ee;ve++)D(J[ve],P,U,W,I)}this.render=function(T,P,U){if(!1===_.enabled||!1===_.autoUpdate&&!1===_.needsUpdate||0===T.length)return;const W=n.getRenderTarget(),I=n.getActiveCubeFace(),F=n.getActiveMipmapLevel(),J=n.state;J.setBlending(0),J.buffers.color.setClear(1,1,1,1),J.buffers.depth.setTest(!0),J.setScissorTest(!1);const ve=v!==Ea&&this.type===Ea,Ee=v===Ea&&this.type!==Ea;for(let j=0,se=T.length;j<se;j++){const ge=T[j],pe=ge.shadow;if(void 0===pe){console.warn("THREE.WebGLShadowMap:",ge,"has no shadow.");continue}if(!1===pe.autoUpdate&&!1===pe.needsUpdate)continue;r.copy(pe.mapSize);const Ne=pe.getFrameExtents();if(r.multiply(Ne),s.copy(pe.mapSize),(r.x>c||r.y>c)&&(r.x>c&&(s.x=Math.floor(c/Ne.x),r.x=s.x*Ne.x,pe.mapSize.x=s.x),r.y>c&&(s.y=Math.floor(c/Ne.y),r.y=s.y*Ne.y,pe.mapSize.y=s.y)),null===pe.map||!0===ve||!0===Ee){const we=this.type!==Ea?{minFilter:bi,magFilter:bi}:{};null!==pe.map&&pe.map.dispose(),pe.map=new Da(r.x,r.y,we),pe.map.texture.name=ge.name+".shadowMap",pe.camera.updateProjectionMatrix()}n.setRenderTarget(pe.map),n.clear();const xe=pe.getViewportCount();for(let we=0;we<xe;we++){const q=pe.getViewport(we);o.set(s.x*q.x,s.y*q.y,s.x*q.z,s.y*q.w),J.viewport(o),pe.updateMatrices(ge,we),i=pe.getFrustum(),D(P,U,pe.camera,ge,this.type)}!0!==pe.isPointLightShadow&&this.type===Ea&&w(pe,U),pe.needsUpdate=!1}v=this.type,_.needsUpdate=!1,n.setRenderTarget(W,I,F)}}function Xie(n,e,t){const i=t.isWebGL2,a=new function r(){let $=!1;const Ye=new An;let ke=null;const de=new An(0,0,0,0);return{setMask:function(Ve){ke!==Ve&&!$&&(n.colorMask(Ve,Ve,Ve,Ve),ke=Ve)},setLocked:function(Ve){$=Ve},setClear:function(Ve,Ct,vn,wi,Fs){!0===Fs&&(Ve*=wi,Ct*=wi,vn*=wi),Ye.set(Ve,Ct,vn,wi),!1===de.equals(Ye)&&(n.clearColor(Ve,Ct,vn,wi),de.copy(Ye))},reset:function(){$=!1,ke=null,de.set(-1,0,0,0)}}},u=new function s(){let $=!1,Ye=null,ke=null,de=null;return{setTest:function(Ve){Ve?Gt(n.DEPTH_TEST):fn(n.DEPTH_TEST)},setMask:function(Ve){Ye!==Ve&&!$&&(n.depthMask(Ve),Ye=Ve)},setFunc:function(Ve){if(ke!==Ve){switch(Ve){case 0:n.depthFunc(n.NEVER);break;case 1:n.depthFunc(n.ALWAYS);break;case 2:n.depthFunc(n.LESS);break;case 3:default:n.depthFunc(n.LEQUAL);break;case 4:n.depthFunc(n.EQUAL);break;case 5:n.depthFunc(n.GEQUAL);break;case 6:n.depthFunc(n.GREATER);break;case 7:n.depthFunc(n.NOTEQUAL)}ke=Ve}},setLocked:function(Ve){$=Ve},setClear:function(Ve){de!==Ve&&(n.clearDepth(Ve),de=Ve)},reset:function(){$=!1,Ye=null,ke=null,de=null}}},l=new function o(){let $=!1,Ye=null,ke=null,de=null,Ve=null,Ct=null,vn=null,wi=null,Fs=null;return{setTest:function(Hn){$||(Hn?Gt(n.STENCIL_TEST):fn(n.STENCIL_TEST))},setMask:function(Hn){Ye!==Hn&&!$&&(n.stencilMask(Hn),Ye=Hn)},setFunc:function(Hn,wr,Jo){(ke!==Hn||de!==wr||Ve!==Jo)&&(n.stencilFunc(Hn,wr,Jo),ke=Hn,de=wr,Ve=Jo)},setOp:function(Hn,wr,Jo){(Ct!==Hn||vn!==wr||wi!==Jo)&&(n.stencilOp(Hn,wr,Jo),Ct=Hn,vn=wr,wi=Jo)},setLocked:function(Hn){$=Hn},setClear:function(Hn){Fs!==Hn&&(n.clearStencil(Hn),Fs=Hn)},reset:function(){$=!1,Ye=null,ke=null,de=null,Ve=null,Ct=null,vn=null,wi=null,Fs=null}}},c=new WeakMap,f=new WeakMap;let h={},p={},g=new WeakMap,x=[],_=null,v=!1,w=null,M=null,D=null,T=null,P=null,U=null,W=null,I=new Ke(0,0,0),F=0,J=!1,ve=null,Ee=null,j=null,se=null,ge=null;const pe=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let Ne=!1,xe=0;const we=n.getParameter(n.VERSION);-1!==we.indexOf("WebGL")?(xe=parseFloat(/^WebGL (\d)/.exec(we)[1]),Ne=xe>=1):-1!==we.indexOf("OpenGL ES")&&(xe=parseFloat(/^OpenGL ES (\d)/.exec(we)[1]),Ne=xe>=2);let q=null,fe={};const je=n.getParameter(n.SCISSOR_BOX),Je=n.getParameter(n.VIEWPORT),tt=(new An).fromArray(je),Mt=(new An).fromArray(Je);function At($,Ye,ke,de){const Ve=new Uint8Array(4),Ct=n.createTexture();n.bindTexture($,Ct),n.texParameteri($,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri($,n.TEXTURE_MAG_FILTER,n.NEAREST);for(let vn=0;vn<ke;vn++)!i||$!==n.TEXTURE_3D&&$!==n.TEXTURE_2D_ARRAY?n.texImage2D(Ye+vn,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,Ve):n.texImage3D(Ye,0,n.RGBA,1,1,de,0,n.RGBA,n.UNSIGNED_BYTE,Ve);return Ct}const wt={};function Gt($){!0!==h[$]&&(n.enable($),h[$]=!0)}function fn($){!1!==h[$]&&(n.disable($),h[$]=!1)}wt[n.TEXTURE_2D]=At(n.TEXTURE_2D,n.TEXTURE_2D,1),wt[n.TEXTURE_CUBE_MAP]=At(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),i&&(wt[n.TEXTURE_2D_ARRAY]=At(n.TEXTURE_2D_ARRAY,n.TEXTURE_2D_ARRAY,1,1),wt[n.TEXTURE_3D]=At(n.TEXTURE_3D,n.TEXTURE_3D,1,1)),a.setClear(0,0,0,1),u.setClear(1),l.setClear(0),Gt(n.DEPTH_TEST),u.setFunc(3),Ze(!1),rt(1),Gt(n.CULL_FACE),be(0);const me={100:n.FUNC_ADD,101:n.FUNC_SUBTRACT,102:n.FUNC_REVERSE_SUBTRACT};if(i)me[103]=n.MIN,me[104]=n.MAX;else{const $=e.get("EXT_blend_minmax");null!==$&&(me[103]=$.MIN_EXT,me[104]=$.MAX_EXT)}const Te={200:n.ZERO,201:n.ONE,202:n.SRC_COLOR,204:n.SRC_ALPHA,210:n.SRC_ALPHA_SATURATE,208:n.DST_COLOR,206:n.DST_ALPHA,203:n.ONE_MINUS_SRC_COLOR,205:n.ONE_MINUS_SRC_ALPHA,209:n.ONE_MINUS_DST_COLOR,207:n.ONE_MINUS_DST_ALPHA,211:n.CONSTANT_COLOR,212:n.ONE_MINUS_CONSTANT_COLOR,213:n.CONSTANT_ALPHA,214:n.ONE_MINUS_CONSTANT_ALPHA};function be($,Ye,ke,de,Ve,Ct,vn,wi,Fs,Hn){if(0!==$){if(!1===v&&(Gt(n.BLEND),v=!0),5===$)Ve=Ve||Ye,Ct=Ct||ke,vn=vn||de,(Ye!==M||Ve!==P)&&(n.blendEquationSeparate(me[Ye],me[Ve]),M=Ye,P=Ve),(ke!==D||de!==T||Ct!==U||vn!==W)&&(n.blendFuncSeparate(Te[ke],Te[de],Te[Ct],Te[vn]),D=ke,T=de,U=Ct,W=vn),(!1===wi.equals(I)||Fs!==F)&&(n.blendColor(wi.r,wi.g,wi.b,Fs),I.copy(wi),F=Fs),w=$,J=!1;else if($!==w||Hn!==J){if((100!==M||100!==P)&&(n.blendEquation(n.FUNC_ADD),M=100,P=100),Hn)switch($){case 1:n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case 2:n.blendFunc(n.ONE,n.ONE);break;case 3:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case 4:n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",$)}else switch($){case 1:n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA);break;case 2:n.blendFunc(n.SRC_ALPHA,n.ONE);break;case 3:n.blendFuncSeparate(n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ZERO,n.ONE);break;case 4:n.blendFunc(n.ZERO,n.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",$)}D=null,T=null,U=null,W=null,I.set(0,0,0),F=0,w=$,J=Hn}}else!0===v&&(fn(n.BLEND),v=!1)}function Ze($){ve!==$&&(n.frontFace($?n.CW:n.CCW),ve=$)}function rt($){0!==$?(Gt(n.CULL_FACE),$!==Ee&&n.cullFace(1===$?n.BACK:2===$?n.FRONT:n.FRONT_AND_BACK)):fn(n.CULL_FACE),Ee=$}function sn($,Ye,ke){$?(Gt(n.POLYGON_OFFSET_FILL),(se!==Ye||ge!==ke)&&(n.polygonOffset(Ye,ke),se=Ye,ge=ke)):fn(n.POLYGON_OFFSET_FILL)}return{buffers:{color:a,depth:u,stencil:l},enable:Gt,disable:fn,bindFramebuffer:function St($,Ye){return p[$]!==Ye&&(n.bindFramebuffer($,Ye),p[$]=Ye,i&&($===n.DRAW_FRAMEBUFFER&&(p[n.FRAMEBUFFER]=Ye),$===n.FRAMEBUFFER&&(p[n.DRAW_FRAMEBUFFER]=Ye)),!0)},drawBuffers:function G($,Ye){let ke=x,de=!1;if($)if(ke=g.get(Ye),void 0===ke&&(ke=[],g.set(Ye,ke)),$.isWebGLMultipleRenderTargets){const Ve=$.texture;if(ke.length!==Ve.length||ke[0]!==n.COLOR_ATTACHMENT0){for(let Ct=0,vn=Ve.length;Ct<vn;Ct++)ke[Ct]=n.COLOR_ATTACHMENT0+Ct;ke.length=Ve.length,de=!0}}else ke[0]!==n.COLOR_ATTACHMENT0&&(ke[0]=n.COLOR_ATTACHMENT0,de=!0);else ke[0]!==n.BACK&&(ke[0]=n.BACK,de=!0);de&&(t.isWebGL2?n.drawBuffers(ke):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(ke))},useProgram:function ze($){return _!==$&&(n.useProgram($),_=$,!0)},setBlending:be,setMaterial:function mt($,Ye){2===$.side?fn(n.CULL_FACE):Gt(n.CULL_FACE);let ke=1===$.side;Ye&&(ke=!ke),Ze(ke),1===$.blending&&!1===$.transparent?be(0):be($.blending,$.blendEquation,$.blendSrc,$.blendDst,$.blendEquationAlpha,$.blendSrcAlpha,$.blendDstAlpha,$.blendColor,$.blendAlpha,$.premultipliedAlpha),u.setFunc($.depthFunc),u.setTest($.depthTest),u.setMask($.depthWrite),a.setMask($.colorWrite);const de=$.stencilWrite;l.setTest(de),de&&(l.setMask($.stencilWriteMask),l.setFunc($.stencilFunc,$.stencilRef,$.stencilFuncMask),l.setOp($.stencilFail,$.stencilZFail,$.stencilZPass)),sn($.polygonOffset,$.polygonOffsetFactor,$.polygonOffsetUnits),!0===$.alphaToCoverage?Gt(n.SAMPLE_ALPHA_TO_COVERAGE):fn(n.SAMPLE_ALPHA_TO_COVERAGE)},setFlipSided:Ze,setCullFace:rt,setLineWidth:function Vt($){$!==j&&(Ne&&n.lineWidth($),j=$)},setPolygonOffset:sn,setScissorTest:function ri($){$?Gt(n.SCISSOR_TEST):fn(n.SCISSOR_TEST)},activeTexture:function B($){void 0===$&&($=n.TEXTURE0+pe-1),q!==$&&(n.activeTexture($),q=$)},bindTexture:function R($,Ye,ke){void 0===ke&&(ke=null===q?n.TEXTURE0+pe-1:q);let de=fe[ke];void 0===de&&(de={type:void 0,texture:void 0},fe[ke]=de),(de.type!==$||de.texture!==Ye)&&(q!==ke&&(n.activeTexture(ke),q=ke),n.bindTexture($,Ye||wt[$]),de.type=$,de.texture=Ye)},unbindTexture:function te(){const $=fe[q];void 0!==$&&void 0!==$.type&&(n.bindTexture($.type,null),$.type=void 0,$.texture=void 0)},compressedTexImage2D:function Re(){try{n.compressedTexImage2D.apply(n,arguments)}catch($){console.error("THREE.WebGLState:",$)}},compressedTexImage3D:function Ce(){try{n.compressedTexImage3D.apply(n,arguments)}catch($){console.error("THREE.WebGLState:",$)}},texImage2D:function Fe(){try{n.texImage2D.apply(n,arguments)}catch($){console.error("THREE.WebGLState:",$)}},texImage3D:function Tn(){try{n.texImage3D.apply(n,arguments)}catch($){console.error("THREE.WebGLState:",$)}},updateUBOMapping:function xt($,Ye){let ke=f.get(Ye);void 0===ke&&(ke=new WeakMap,f.set(Ye,ke));let de=ke.get($);void 0===de&&(de=n.getUniformBlockIndex(Ye,$.name),ke.set($,de))},uniformBlockBinding:function et($,Ye){const de=f.get(Ye).get($);c.get(Ye)!==de&&(n.uniformBlockBinding(Ye,de,$.__bindingPointIndex),c.set(Ye,de))},texStorage2D:function Lt(){try{n.texStorage2D.apply(n,arguments)}catch($){console.error("THREE.WebGLState:",$)}},texStorage3D:function gn(){try{n.texStorage3D.apply(n,arguments)}catch($){console.error("THREE.WebGLState:",$)}},texSubImage2D:function Le(){try{n.texSubImage2D.apply(n,arguments)}catch($){console.error("THREE.WebGLState:",$)}},texSubImage3D:function ct(){try{n.texSubImage3D.apply(n,arguments)}catch($){console.error("THREE.WebGLState:",$)}},compressedTexSubImage2D:function Ue(){try{n.compressedTexSubImage2D.apply(n,arguments)}catch($){console.error("THREE.WebGLState:",$)}},compressedTexSubImage3D:function Xe(){try{n.compressedTexSubImage3D.apply(n,arguments)}catch($){console.error("THREE.WebGLState:",$)}},scissor:function Wt($){!1===tt.equals($)&&(n.scissor($.x,$.y,$.z,$.w),tt.copy($))},viewport:function Ft($){!1===Mt.equals($)&&(n.viewport($.x,$.y,$.z,$.w),Mt.copy($))},reset:function un(){n.disable(n.BLEND),n.disable(n.CULL_FACE),n.disable(n.DEPTH_TEST),n.disable(n.POLYGON_OFFSET_FILL),n.disable(n.SCISSOR_TEST),n.disable(n.STENCIL_TEST),n.disable(n.SAMPLE_ALPHA_TO_COVERAGE),n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ONE,n.ZERO),n.blendFuncSeparate(n.ONE,n.ZERO,n.ONE,n.ZERO),n.blendColor(0,0,0,0),n.colorMask(!0,!0,!0,!0),n.clearColor(0,0,0,0),n.depthMask(!0),n.depthFunc(n.LESS),n.clearDepth(1),n.stencilMask(4294967295),n.stencilFunc(n.ALWAYS,0,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),n.clearStencil(0),n.cullFace(n.BACK),n.frontFace(n.CCW),n.polygonOffset(0,0),n.activeTexture(n.TEXTURE0),n.bindFramebuffer(n.FRAMEBUFFER,null),!0===i&&(n.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),n.bindFramebuffer(n.READ_FRAMEBUFFER,null)),n.useProgram(null),n.lineWidth(1),n.scissor(0,0,n.canvas.width,n.canvas.height),n.viewport(0,0,n.canvas.width,n.canvas.height),h={},q=null,fe={},p={},g=new WeakMap,x=[],_=null,v=!1,w=null,M=null,D=null,T=null,P=null,U=null,W=null,I=new Ke(0,0,0),F=0,J=!1,ve=null,Ee=null,j=null,se=null,ge=null,tt.set(0,0,n.canvas.width,n.canvas.height),Mt.set(0,0,n.canvas.width,n.canvas.height),a.reset(),u.reset(),l.reset()}}}function Yie(n,e,t,i,r,s,o){const a=r.isWebGL2,u=r.maxTextures,l=r.maxCubemapSize,c=r.maxTextureSize,f=r.maxSamples,h=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,p=!(typeof navigator>"u")&&/OculusBrowser/g.test(navigator.userAgent),g=new WeakMap;let x;const _=new WeakMap;let v=!1;try{v=typeof OffscreenCanvas<"u"&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch{}function w(B,R){return v?new OffscreenCanvas(B,R):m0("canvas")}function M(B,R,te,Re){let Ce=1;if((B.width>Re||B.height>Re)&&(Ce=Re/Math.max(B.width,B.height)),Ce<1||!0===R){if(typeof HTMLImageElement<"u"&&B instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&B instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&B instanceof ImageBitmap){const Le=R?N4:Math.floor,ct=Le(Ce*B.width),Ue=Le(Ce*B.height);void 0===x&&(x=w(ct,Ue));const Xe=te?w(ct,Ue):x;return Xe.width=ct,Xe.height=Ue,Xe.getContext("2d").drawImage(B,0,0,ct,Ue),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+B.width+"x"+B.height+") to ("+ct+"x"+Ue+")."),Xe}return"data"in B&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+B.width+"x"+B.height+")."),B}return B}function D(B){return RM(B.width)&&RM(B.height)}function P(B,R){return B.generateMipmaps&&R&&B.minFilter!==bi&&B.minFilter!==Ei}function U(B){n.generateMipmap(B)}function W(B,R,te,Re,Ce=!1){if(!1===a)return R;if(null!==B){if(void 0!==n[B])return n[B];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+B+"'")}let Le=R;if(R===n.RED&&(te===n.FLOAT&&(Le=n.R32F),te===n.HALF_FLOAT&&(Le=n.R16F),te===n.UNSIGNED_BYTE&&(Le=n.R8)),R===n.RED_INTEGER&&(te===n.UNSIGNED_BYTE&&(Le=n.R8UI),te===n.UNSIGNED_SHORT&&(Le=n.R16UI),te===n.UNSIGNED_INT&&(Le=n.R32UI),te===n.BYTE&&(Le=n.R8I),te===n.SHORT&&(Le=n.R16I),te===n.INT&&(Le=n.R32I)),R===n.RG&&(te===n.FLOAT&&(Le=n.RG32F),te===n.HALF_FLOAT&&(Le=n.RG16F),te===n.UNSIGNED_BYTE&&(Le=n.RG8)),R===n.RGBA){const ct=Ce?T4:Dn.getTransfer(Re);te===n.FLOAT&&(Le=n.RGBA32F),te===n.HALF_FLOAT&&(Le=n.RGBA16F),te===n.UNSIGNED_BYTE&&(Le=ct===Wn?n.SRGB8_ALPHA8:n.RGBA8),te===n.UNSIGNED_SHORT_4_4_4_4&&(Le=n.RGBA4),te===n.UNSIGNED_SHORT_5_5_5_1&&(Le=n.RGB5_A1)}return(Le===n.R16F||Le===n.R32F||Le===n.RG16F||Le===n.RG32F||Le===n.RGBA16F||Le===n.RGBA32F)&&e.get("EXT_color_buffer_float"),Le}function I(B,R,te){return!0===P(B,te)||B.isFramebufferTexture&&B.minFilter!==bi&&B.minFilter!==Ei?Math.log2(Math.max(R.width,R.height))+1:void 0!==B.mipmaps&&B.mipmaps.length>0?B.mipmaps.length:B.isCompressedTexture&&Array.isArray(B.image)?R.mipmaps.length:1}function F(B){return B===bi||1004===B||1005===B?n.NEAREST:n.LINEAR}function J(B){const R=B.target;R.removeEventListener("dispose",J),function Ee(B){const R=i.get(B);if(void 0===R.__webglInit)return;const te=B.source,Re=_.get(te);if(Re){const Ce=Re[R.__cacheKey];Ce.usedTimes--,0===Ce.usedTimes&&j(B),0===Object.keys(Re).length&&_.delete(te)}i.remove(B)}(R),R.isVideoTexture&&g.delete(R)}function ve(B){const R=B.target;R.removeEventListener("dispose",ve),function se(B){const R=B.texture,te=i.get(B),Re=i.get(R);if(void 0!==Re.__webglTexture&&(n.deleteTexture(Re.__webglTexture),o.memory.textures--),B.depthTexture&&B.depthTexture.dispose(),B.isWebGLCubeRenderTarget)for(let Ce=0;Ce<6;Ce++){if(Array.isArray(te.__webglFramebuffer[Ce]))for(let Le=0;Le<te.__webglFramebuffer[Ce].length;Le++)n.deleteFramebuffer(te.__webglFramebuffer[Ce][Le]);else n.deleteFramebuffer(te.__webglFramebuffer[Ce]);te.__webglDepthbuffer&&n.deleteRenderbuffer(te.__webglDepthbuffer[Ce])}else{if(Array.isArray(te.__webglFramebuffer))for(let Ce=0;Ce<te.__webglFramebuffer.length;Ce++)n.deleteFramebuffer(te.__webglFramebuffer[Ce]);else n.deleteFramebuffer(te.__webglFramebuffer);if(te.__webglDepthbuffer&&n.deleteRenderbuffer(te.__webglDepthbuffer),te.__webglMultisampledFramebuffer&&n.deleteFramebuffer(te.__webglMultisampledFramebuffer),te.__webglColorRenderbuffer)for(let Ce=0;Ce<te.__webglColorRenderbuffer.length;Ce++)te.__webglColorRenderbuffer[Ce]&&n.deleteRenderbuffer(te.__webglColorRenderbuffer[Ce]);te.__webglDepthRenderbuffer&&n.deleteRenderbuffer(te.__webglDepthRenderbuffer)}if(B.isWebGLMultipleRenderTargets)for(let Ce=0,Le=R.length;Ce<Le;Ce++){const ct=i.get(R[Ce]);ct.__webglTexture&&(n.deleteTexture(ct.__webglTexture),o.memory.textures--),i.remove(R[Ce])}i.remove(R),i.remove(B)}(R)}function j(B){const R=i.get(B);n.deleteTexture(R.__webglTexture),delete _.get(B.source)[R.__cacheKey],o.memory.textures--}let ge=0;function we(B,R){const te=i.get(B);if(B.isVideoTexture&&function sn(B){const R=o.render.frame;g.get(B)!==R&&(g.set(B,R),B.update())}(B),!1===B.isRenderTargetTexture&&B.version>0&&te.__version!==B.version){const Re=B.image;if(null===Re)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else{if(!1!==Re.complete)return void Gt(te,B,R);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}t.bindTexture(n.TEXTURE_2D,te.__webglTexture,n.TEXTURE0+R)}const Je={1e3:n.REPEAT,[br]:n.CLAMP_TO_EDGE,1002:n.MIRRORED_REPEAT},tt={[bi]:n.NEAREST,1004:n.NEAREST_MIPMAP_NEAREST,1005:n.NEAREST_MIPMAP_LINEAR,[Ei]:n.LINEAR,1007:n.LINEAR_MIPMAP_NEAREST,[kl]:n.LINEAR_MIPMAP_LINEAR},Mt={512:n.NEVER,519:n.ALWAYS,513:n.LESS,515:n.LEQUAL,514:n.EQUAL,518:n.GEQUAL,516:n.GREATER,517:n.NOTEQUAL};function At(B,R,te){if(te?(n.texParameteri(B,n.TEXTURE_WRAP_S,Je[R.wrapS]),n.texParameteri(B,n.TEXTURE_WRAP_T,Je[R.wrapT]),(B===n.TEXTURE_3D||B===n.TEXTURE_2D_ARRAY)&&n.texParameteri(B,n.TEXTURE_WRAP_R,Je[R.wrapR]),n.texParameteri(B,n.TEXTURE_MAG_FILTER,tt[R.magFilter]),n.texParameteri(B,n.TEXTURE_MIN_FILTER,tt[R.minFilter])):(n.texParameteri(B,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(B,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),(B===n.TEXTURE_3D||B===n.TEXTURE_2D_ARRAY)&&n.texParameteri(B,n.TEXTURE_WRAP_R,n.CLAMP_TO_EDGE),(R.wrapS!==br||R.wrapT!==br)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),n.texParameteri(B,n.TEXTURE_MAG_FILTER,F(R.magFilter)),n.texParameteri(B,n.TEXTURE_MIN_FILTER,F(R.minFilter)),R.minFilter!==bi&&R.minFilter!==Ei&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),R.compareFunction&&(n.texParameteri(B,n.TEXTURE_COMPARE_MODE,n.COMPARE_REF_TO_TEXTURE),n.texParameteri(B,n.TEXTURE_COMPARE_FUNC,Mt[R.compareFunction])),!0===e.has("EXT_texture_filter_anisotropic")){const Re=e.get("EXT_texture_filter_anisotropic");if(R.magFilter===bi||1005!==R.minFilter&&R.minFilter!==kl||R.type===wa&&!1===e.has("OES_texture_float_linear")||!1===a&&R.type===h0&&!1===e.has("OES_texture_half_float_linear"))return;(R.anisotropy>1||i.get(R).__currentAnisotropy)&&(n.texParameterf(B,Re.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(R.anisotropy,r.getMaxAnisotropy())),i.get(R).__currentAnisotropy=R.anisotropy)}}function wt(B,R){let te=!1;void 0===B.__webglInit&&(B.__webglInit=!0,R.addEventListener("dispose",J));const Re=R.source;let Ce=_.get(Re);void 0===Ce&&(Ce={},_.set(Re,Ce));const Le=function xe(B){const R=[];return R.push(B.wrapS),R.push(B.wrapT),R.push(B.wrapR||0),R.push(B.magFilter),R.push(B.minFilter),R.push(B.anisotropy),R.push(B.internalFormat),R.push(B.format),R.push(B.type),R.push(B.generateMipmaps),R.push(B.premultiplyAlpha),R.push(B.flipY),R.push(B.unpackAlignment),R.push(B.colorSpace),R.join()}(R);if(Le!==B.__cacheKey){void 0===Ce[Le]&&(Ce[Le]={texture:n.createTexture(),usedTimes:0},o.memory.textures++,te=!0),Ce[Le].usedTimes++;const ct=Ce[B.__cacheKey];void 0!==ct&&(Ce[B.__cacheKey].usedTimes--,0===ct.usedTimes&&j(R)),B.__cacheKey=Le,B.__webglTexture=Ce[Le].texture}return te}function Gt(B,R,te){let Re=n.TEXTURE_2D;(R.isDataArrayTexture||R.isCompressedArrayTexture)&&(Re=n.TEXTURE_2D_ARRAY),R.isData3DTexture&&(Re=n.TEXTURE_3D);const Ce=wt(B,R),Le=R.source;t.bindTexture(Re,B.__webglTexture,n.TEXTURE0+te);const ct=i.get(Le);if(Le.version!==ct.__version||!0===Ce){t.activeTexture(n.TEXTURE0+te);const Ue=Dn.getPrimaries(Dn.workingColorSpace),Xe=""===R.colorSpace?null:Dn.getPrimaries(R.colorSpace),Lt=""===R.colorSpace||Ue===Xe?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,R.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,R.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,R.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Lt);const gn=function T(B){return!a&&(B.wrapS!==br||B.wrapT!==br||B.minFilter!==bi&&B.minFilter!==Ei)}(R)&&!1===D(R.image);let Fe=M(R.image,gn,!1,c);Fe=ri(R,Fe);const Tn=D(Fe)||a,Wt=s.convert(R.format,R.colorSpace);let et,Ft=s.convert(R.type),xt=W(R.internalFormat,Wt,Ft,R.colorSpace,R.isVideoTexture);At(Re,R,Tn);const un=R.mipmaps,$=a&&!0!==R.isVideoTexture,Ye=void 0===ct.__version||!0===Ce,ke=I(R,Fe,Tn);if(R.isDepthTexture)xt=n.DEPTH_COMPONENT,a?xt=R.type===wa?n.DEPTH_COMPONENT32F:R.type===Iu?n.DEPTH_COMPONENT24:R.type===Ul?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT16:R.type===wa&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),R.format===Bl&&xt===n.DEPTH_COMPONENT&&1012!==R.type&&R.type!==Iu&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),R.type=Iu,Ft=s.convert(R.type)),R.format===lf&&xt===n.DEPTH_COMPONENT&&(xt=n.DEPTH_STENCIL,R.type!==Ul&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),R.type=Ul,Ft=s.convert(R.type))),Ye&&($?t.texStorage2D(n.TEXTURE_2D,1,xt,Fe.width,Fe.height):t.texImage2D(n.TEXTURE_2D,0,xt,Fe.width,Fe.height,0,Wt,Ft,null));else if(R.isDataTexture)if(un.length>0&&Tn){$&&Ye&&t.texStorage2D(n.TEXTURE_2D,ke,xt,un[0].width,un[0].height);for(let de=0,Ve=un.length;de<Ve;de++)et=un[de],$?t.texSubImage2D(n.TEXTURE_2D,de,0,0,et.width,et.height,Wt,Ft,et.data):t.texImage2D(n.TEXTURE_2D,de,xt,et.width,et.height,0,Wt,Ft,et.data);R.generateMipmaps=!1}else $?(Ye&&t.texStorage2D(n.TEXTURE_2D,ke,xt,Fe.width,Fe.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,Fe.width,Fe.height,Wt,Ft,Fe.data)):t.texImage2D(n.TEXTURE_2D,0,xt,Fe.width,Fe.height,0,Wt,Ft,Fe.data);else if(R.isCompressedTexture)if(R.isCompressedArrayTexture){$&&Ye&&t.texStorage3D(n.TEXTURE_2D_ARRAY,ke,xt,un[0].width,un[0].height,Fe.depth);for(let de=0,Ve=un.length;de<Ve;de++)et=un[de],R.format!==Ps?null!==Wt?$?t.compressedTexSubImage3D(n.TEXTURE_2D_ARRAY,de,0,0,0,et.width,et.height,Fe.depth,Wt,et.data,0,0):t.compressedTexImage3D(n.TEXTURE_2D_ARRAY,de,xt,et.width,et.height,Fe.depth,0,et.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):$?t.texSubImage3D(n.TEXTURE_2D_ARRAY,de,0,0,0,et.width,et.height,Fe.depth,Wt,Ft,et.data):t.texImage3D(n.TEXTURE_2D_ARRAY,de,xt,et.width,et.height,Fe.depth,0,Wt,Ft,et.data)}else{$&&Ye&&t.texStorage2D(n.TEXTURE_2D,ke,xt,un[0].width,un[0].height);for(let de=0,Ve=un.length;de<Ve;de++)et=un[de],R.format!==Ps?null!==Wt?$?t.compressedTexSubImage2D(n.TEXTURE_2D,de,0,0,et.width,et.height,Wt,et.data):t.compressedTexImage2D(n.TEXTURE_2D,de,xt,et.width,et.height,0,et.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):$?t.texSubImage2D(n.TEXTURE_2D,de,0,0,et.width,et.height,Wt,Ft,et.data):t.texImage2D(n.TEXTURE_2D,de,xt,et.width,et.height,0,Wt,Ft,et.data)}else if(R.isDataArrayTexture)$?(Ye&&t.texStorage3D(n.TEXTURE_2D_ARRAY,ke,xt,Fe.width,Fe.height,Fe.depth),t.texSubImage3D(n.TEXTURE_2D_ARRAY,0,0,0,0,Fe.width,Fe.height,Fe.depth,Wt,Ft,Fe.data)):t.texImage3D(n.TEXTURE_2D_ARRAY,0,xt,Fe.width,Fe.height,Fe.depth,0,Wt,Ft,Fe.data);else if(R.isData3DTexture)$?(Ye&&t.texStorage3D(n.TEXTURE_3D,ke,xt,Fe.width,Fe.height,Fe.depth),t.texSubImage3D(n.TEXTURE_3D,0,0,0,0,Fe.width,Fe.height,Fe.depth,Wt,Ft,Fe.data)):t.texImage3D(n.TEXTURE_3D,0,xt,Fe.width,Fe.height,Fe.depth,0,Wt,Ft,Fe.data);else if(R.isFramebufferTexture){if(Ye)if($)t.texStorage2D(n.TEXTURE_2D,ke,xt,Fe.width,Fe.height);else{let de=Fe.width,Ve=Fe.height;for(let Ct=0;Ct<ke;Ct++)t.texImage2D(n.TEXTURE_2D,Ct,xt,de,Ve,0,Wt,Ft,null),de>>=1,Ve>>=1}}else if(un.length>0&&Tn){$&&Ye&&t.texStorage2D(n.TEXTURE_2D,ke,xt,un[0].width,un[0].height);for(let de=0,Ve=un.length;de<Ve;de++)et=un[de],$?t.texSubImage2D(n.TEXTURE_2D,de,0,0,Wt,Ft,et):t.texImage2D(n.TEXTURE_2D,de,xt,Wt,Ft,et);R.generateMipmaps=!1}else $?(Ye&&t.texStorage2D(n.TEXTURE_2D,ke,xt,Fe.width,Fe.height),t.texSubImage2D(n.TEXTURE_2D,0,0,0,Wt,Ft,Fe)):t.texImage2D(n.TEXTURE_2D,0,xt,Wt,Ft,Fe);P(R,Tn)&&U(Re),ct.__version=Le.version,R.onUpdate&&R.onUpdate(R)}B.__version=R.version}function St(B,R,te,Re,Ce,Le){const ct=s.convert(te.format,te.colorSpace),Ue=s.convert(te.type),Xe=W(te.internalFormat,ct,Ue,te.colorSpace);if(!i.get(R).__hasExternalTextures){const gn=Math.max(1,R.width>>Le),Fe=Math.max(1,R.height>>Le);Ce===n.TEXTURE_3D||Ce===n.TEXTURE_2D_ARRAY?t.texImage3D(Ce,Le,Xe,gn,Fe,R.depth,0,ct,Ue,null):t.texImage2D(Ce,Le,Xe,gn,Fe,0,ct,Ue,null)}t.bindFramebuffer(n.FRAMEBUFFER,B),Vt(R)?h.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,Re,Ce,i.get(te).__webglTexture,0,rt(R)):(Ce===n.TEXTURE_2D||Ce>=n.TEXTURE_CUBE_MAP_POSITIVE_X&&Ce<=n.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&n.framebufferTexture2D(n.FRAMEBUFFER,Re,Ce,i.get(te).__webglTexture,Le),t.bindFramebuffer(n.FRAMEBUFFER,null)}function G(B,R,te){if(n.bindRenderbuffer(n.RENDERBUFFER,B),R.depthBuffer&&!R.stencilBuffer){let Re=!0===a?n.DEPTH_COMPONENT24:n.DEPTH_COMPONENT16;if(te||Vt(R)){const Ce=R.depthTexture;Ce&&Ce.isDepthTexture&&(Ce.type===wa?Re=n.DEPTH_COMPONENT32F:Ce.type===Iu&&(Re=n.DEPTH_COMPONENT24));const Le=rt(R);Vt(R)?h.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Le,Re,R.width,R.height):n.renderbufferStorageMultisample(n.RENDERBUFFER,Le,Re,R.width,R.height)}else n.renderbufferStorage(n.RENDERBUFFER,Re,R.width,R.height);n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,B)}else if(R.depthBuffer&&R.stencilBuffer){const Re=rt(R);te&&!1===Vt(R)?n.renderbufferStorageMultisample(n.RENDERBUFFER,Re,n.DEPTH24_STENCIL8,R.width,R.height):Vt(R)?h.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Re,n.DEPTH24_STENCIL8,R.width,R.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,R.width,R.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,B)}else{const Re=!0===R.isWebGLMultipleRenderTargets?R.texture:[R.texture];for(let Ce=0;Ce<Re.length;Ce++){const Le=Re[Ce],ct=s.convert(Le.format,Le.colorSpace),Ue=s.convert(Le.type),Xe=W(Le.internalFormat,ct,Ue,Le.colorSpace),Lt=rt(R);te&&!1===Vt(R)?n.renderbufferStorageMultisample(n.RENDERBUFFER,Lt,Xe,R.width,R.height):Vt(R)?h.renderbufferStorageMultisampleEXT(n.RENDERBUFFER,Lt,Xe,R.width,R.height):n.renderbufferStorage(n.RENDERBUFFER,Xe,R.width,R.height)}}n.bindRenderbuffer(n.RENDERBUFFER,null)}function me(B){const R=i.get(B),te=!0===B.isWebGLCubeRenderTarget;if(B.depthTexture&&!R.__autoAllocateDepthBuffer){if(te)throw new Error("target.depthTexture not supported in Cube render targets");!function ze(B,R){if(R&&R.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(t.bindFramebuffer(n.FRAMEBUFFER,B),!R.depthTexture||!R.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(R.depthTexture).__webglTexture||R.depthTexture.image.width!==R.width||R.depthTexture.image.height!==R.height)&&(R.depthTexture.image.width=R.width,R.depthTexture.image.height=R.height,R.depthTexture.needsUpdate=!0),we(R.depthTexture,0);const Re=i.get(R.depthTexture).__webglTexture,Ce=rt(R);if(R.depthTexture.format===Bl)Vt(R)?h.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Re,0,Ce):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,Re,0);else{if(R.depthTexture.format!==lf)throw new Error("Unknown depthTexture format");Vt(R)?h.framebufferTexture2DMultisampleEXT(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Re,0,Ce):n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,Re,0)}}(R.__webglFramebuffer,B)}else if(te){R.__webglDepthbuffer=[];for(let Re=0;Re<6;Re++)t.bindFramebuffer(n.FRAMEBUFFER,R.__webglFramebuffer[Re]),R.__webglDepthbuffer[Re]=n.createRenderbuffer(),G(R.__webglDepthbuffer[Re],B,!1)}else t.bindFramebuffer(n.FRAMEBUFFER,R.__webglFramebuffer),R.__webglDepthbuffer=n.createRenderbuffer(),G(R.__webglDepthbuffer,B,!1);t.bindFramebuffer(n.FRAMEBUFFER,null)}function rt(B){return Math.min(f,B.samples)}function Vt(B){const R=i.get(B);return a&&B.samples>0&&!0===e.has("WEBGL_multisampled_render_to_texture")&&!1!==R.__useRenderToTexture}function ri(B,R){const te=B.colorSpace,Re=B.format,Ce=B.type;return!0===B.isCompressedTexture||!0===B.isVideoTexture||1035===B.format||te!==Sa&&""!==te&&(Dn.getTransfer(te)===Wn?!1===a?!0===e.has("EXT_sRGB")&&Re===Ps?(B.format=1035,B.minFilter=Ei,B.generateMipmaps=!1):R=LL.sRGBToLinear(R):(Re!==Ps||Ce!==Tu)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",te)),R}this.allocateTextureUnit=function Ne(){const B=ge;return B>=u&&console.warn("THREE.WebGLTextures: Trying to use "+B+" texture units while this GPU supports only "+u),ge+=1,B},this.resetTextureUnits=function pe(){ge=0},this.setTexture2D=we,this.setTexture2DArray=function q(B,R){const te=i.get(B);B.version>0&&te.__version!==B.version?Gt(te,B,R):t.bindTexture(n.TEXTURE_2D_ARRAY,te.__webglTexture,n.TEXTURE0+R)},this.setTexture3D=function fe(B,R){const te=i.get(B);B.version>0&&te.__version!==B.version?Gt(te,B,R):t.bindTexture(n.TEXTURE_3D,te.__webglTexture,n.TEXTURE0+R)},this.setTextureCube=function je(B,R){const te=i.get(B);B.version>0&&te.__version!==B.version?function fn(B,R,te){if(6!==R.image.length)return;const Re=wt(B,R),Ce=R.source;t.bindTexture(n.TEXTURE_CUBE_MAP,B.__webglTexture,n.TEXTURE0+te);const Le=i.get(Ce);if(Ce.version!==Le.__version||!0===Re){t.activeTexture(n.TEXTURE0+te);const ct=Dn.getPrimaries(Dn.workingColorSpace),Ue=""===R.colorSpace?null:Dn.getPrimaries(R.colorSpace),Xe=""===R.colorSpace||ct===Ue?n.NONE:n.BROWSER_DEFAULT_WEBGL;n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,R.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,R.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,R.unpackAlignment),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,Xe);const Lt=R.isCompressedTexture||R.image[0].isCompressedTexture,gn=R.image[0]&&R.image[0].isDataTexture,Fe=[];for(let de=0;de<6;de++)Fe[de]=Lt||gn?gn?R.image[de].image:R.image[de]:M(R.image[de],!1,!0,l),Fe[de]=ri(R,Fe[de]);const Tn=Fe[0],Wt=D(Tn)||a,Ft=s.convert(R.format,R.colorSpace),xt=s.convert(R.type),et=W(R.internalFormat,Ft,xt,R.colorSpace),un=a&&!0!==R.isVideoTexture,$=void 0===Le.__version||!0===Re;let ke,Ye=I(R,Tn,Wt);if(At(n.TEXTURE_CUBE_MAP,R,Wt),Lt){un&&$&&t.texStorage2D(n.TEXTURE_CUBE_MAP,Ye,et,Tn.width,Tn.height);for(let de=0;de<6;de++){ke=Fe[de].mipmaps;for(let Ve=0;Ve<ke.length;Ve++){const Ct=ke[Ve];R.format!==Ps?null!==Ft?un?t.compressedTexSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+de,Ve,0,0,Ct.width,Ct.height,Ft,Ct.data):t.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+de,Ve,et,Ct.width,Ct.height,0,Ct.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):un?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+de,Ve,0,0,Ct.width,Ct.height,Ft,xt,Ct.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+de,Ve,et,Ct.width,Ct.height,0,Ft,xt,Ct.data)}}}else{ke=R.mipmaps,un&&$&&(ke.length>0&&Ye++,t.texStorage2D(n.TEXTURE_CUBE_MAP,Ye,et,Fe[0].width,Fe[0].height));for(let de=0;de<6;de++)if(gn){un?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+de,0,0,0,Fe[de].width,Fe[de].height,Ft,xt,Fe[de].data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+de,0,et,Fe[de].width,Fe[de].height,0,Ft,xt,Fe[de].data);for(let Ve=0;Ve<ke.length;Ve++){const vn=ke[Ve].image[de].image;un?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+de,Ve+1,0,0,vn.width,vn.height,Ft,xt,vn.data):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+de,Ve+1,et,vn.width,vn.height,0,Ft,xt,vn.data)}}else{un?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+de,0,0,0,Ft,xt,Fe[de]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+de,0,et,Ft,xt,Fe[de]);for(let Ve=0;Ve<ke.length;Ve++){const Ct=ke[Ve];un?t.texSubImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+de,Ve+1,0,0,Ft,xt,Ct.image[de]):t.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+de,Ve+1,et,Ft,xt,Ct.image[de])}}}P(R,Wt)&&U(n.TEXTURE_CUBE_MAP),Le.__version=Ce.version,R.onUpdate&&R.onUpdate(R)}B.__version=R.version}(te,B,R):t.bindTexture(n.TEXTURE_CUBE_MAP,te.__webglTexture,n.TEXTURE0+R)},this.rebindTextures=function Te(B,R,te){const Re=i.get(B);void 0!==R&&St(Re.__webglFramebuffer,B,B.texture,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,0),void 0!==te&&me(B)},this.setupRenderTarget=function be(B){const R=B.texture,te=i.get(B),Re=i.get(R);B.addEventListener("dispose",ve),!0!==B.isWebGLMultipleRenderTargets&&(void 0===Re.__webglTexture&&(Re.__webglTexture=n.createTexture()),Re.__version=R.version,o.memory.textures++);const Ce=!0===B.isWebGLCubeRenderTarget,Le=!0===B.isWebGLMultipleRenderTargets,ct=D(B)||a;if(Ce){te.__webglFramebuffer=[];for(let Ue=0;Ue<6;Ue++)if(a&&R.mipmaps&&R.mipmaps.length>0){te.__webglFramebuffer[Ue]=[];for(let Xe=0;Xe<R.mipmaps.length;Xe++)te.__webglFramebuffer[Ue][Xe]=n.createFramebuffer()}else te.__webglFramebuffer[Ue]=n.createFramebuffer()}else{if(a&&R.mipmaps&&R.mipmaps.length>0){te.__webglFramebuffer=[];for(let Ue=0;Ue<R.mipmaps.length;Ue++)te.__webglFramebuffer[Ue]=n.createFramebuffer()}else te.__webglFramebuffer=n.createFramebuffer();if(Le)if(r.drawBuffers){const Ue=B.texture;for(let Xe=0,Lt=Ue.length;Xe<Lt;Xe++){const gn=i.get(Ue[Xe]);void 0===gn.__webglTexture&&(gn.__webglTexture=n.createTexture(),o.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(a&&B.samples>0&&!1===Vt(B)){const Ue=Le?R:[R];te.__webglMultisampledFramebuffer=n.createFramebuffer(),te.__webglColorRenderbuffer=[],t.bindFramebuffer(n.FRAMEBUFFER,te.__webglMultisampledFramebuffer);for(let Xe=0;Xe<Ue.length;Xe++){const Lt=Ue[Xe];te.__webglColorRenderbuffer[Xe]=n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,te.__webglColorRenderbuffer[Xe]);const gn=s.convert(Lt.format,Lt.colorSpace),Fe=s.convert(Lt.type),Tn=W(Lt.internalFormat,gn,Fe,Lt.colorSpace,!0===B.isXRRenderTarget),Wt=rt(B);n.renderbufferStorageMultisample(n.RENDERBUFFER,Wt,Tn,B.width,B.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Xe,n.RENDERBUFFER,te.__webglColorRenderbuffer[Xe])}n.bindRenderbuffer(n.RENDERBUFFER,null),B.depthBuffer&&(te.__webglDepthRenderbuffer=n.createRenderbuffer(),G(te.__webglDepthRenderbuffer,B,!0)),t.bindFramebuffer(n.FRAMEBUFFER,null)}}if(Ce){t.bindTexture(n.TEXTURE_CUBE_MAP,Re.__webglTexture),At(n.TEXTURE_CUBE_MAP,R,ct);for(let Ue=0;Ue<6;Ue++)if(a&&R.mipmaps&&R.mipmaps.length>0)for(let Xe=0;Xe<R.mipmaps.length;Xe++)St(te.__webglFramebuffer[Ue][Xe],B,R,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,Xe);else St(te.__webglFramebuffer[Ue],B,R,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,0);P(R,ct)&&U(n.TEXTURE_CUBE_MAP),t.unbindTexture()}else if(Le){const Ue=B.texture;for(let Xe=0,Lt=Ue.length;Xe<Lt;Xe++){const gn=Ue[Xe],Fe=i.get(gn);t.bindTexture(n.TEXTURE_2D,Fe.__webglTexture),At(n.TEXTURE_2D,gn,ct),St(te.__webglFramebuffer,B,gn,n.COLOR_ATTACHMENT0+Xe,n.TEXTURE_2D,0),P(gn,ct)&&U(n.TEXTURE_2D)}t.unbindTexture()}else{let Ue=n.TEXTURE_2D;if((B.isWebGL3DRenderTarget||B.isWebGLArrayRenderTarget)&&(a?Ue=B.isWebGL3DRenderTarget?n.TEXTURE_3D:n.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),t.bindTexture(Ue,Re.__webglTexture),At(Ue,R,ct),a&&R.mipmaps&&R.mipmaps.length>0)for(let Xe=0;Xe<R.mipmaps.length;Xe++)St(te.__webglFramebuffer[Xe],B,R,n.COLOR_ATTACHMENT0,Ue,Xe);else St(te.__webglFramebuffer,B,R,n.COLOR_ATTACHMENT0,Ue,0);P(R,ct)&&U(Ue),t.unbindTexture()}B.depthBuffer&&me(B)},this.updateRenderTargetMipmap=function mt(B){const R=D(B)||a,te=!0===B.isWebGLMultipleRenderTargets?B.texture:[B.texture];for(let Re=0,Ce=te.length;Re<Ce;Re++){const Le=te[Re];if(P(Le,R)){const ct=B.isWebGLCubeRenderTarget?n.TEXTURE_CUBE_MAP:n.TEXTURE_2D,Ue=i.get(Le).__webglTexture;t.bindTexture(ct,Ue),U(ct),t.unbindTexture()}}},this.updateMultisampleRenderTarget=function Ze(B){if(a&&B.samples>0&&!1===Vt(B)){const R=B.isWebGLMultipleRenderTargets?B.texture:[B.texture],te=B.width,Re=B.height;let Ce=n.COLOR_BUFFER_BIT;const Le=[],ct=B.stencilBuffer?n.DEPTH_STENCIL_ATTACHMENT:n.DEPTH_ATTACHMENT,Ue=i.get(B),Xe=!0===B.isWebGLMultipleRenderTargets;if(Xe)for(let Lt=0;Lt<R.length;Lt++)t.bindFramebuffer(n.FRAMEBUFFER,Ue.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Lt,n.RENDERBUFFER,null),t.bindFramebuffer(n.FRAMEBUFFER,Ue.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Lt,n.TEXTURE_2D,null,0);t.bindFramebuffer(n.READ_FRAMEBUFFER,Ue.__webglMultisampledFramebuffer),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Ue.__webglFramebuffer);for(let Lt=0;Lt<R.length;Lt++){Le.push(n.COLOR_ATTACHMENT0+Lt),B.depthBuffer&&Le.push(ct);const gn=void 0!==Ue.__ignoreDepthValues&&Ue.__ignoreDepthValues;if(!1===gn&&(B.depthBuffer&&(Ce|=n.DEPTH_BUFFER_BIT),B.stencilBuffer&&(Ce|=n.STENCIL_BUFFER_BIT)),Xe&&n.framebufferRenderbuffer(n.READ_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,Ue.__webglColorRenderbuffer[Lt]),!0===gn&&(n.invalidateFramebuffer(n.READ_FRAMEBUFFER,[ct]),n.invalidateFramebuffer(n.DRAW_FRAMEBUFFER,[ct])),Xe){const Fe=i.get(R[Lt]).__webglTexture;n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,Fe,0)}n.blitFramebuffer(0,0,te,Re,0,0,te,Re,Ce,n.NEAREST),p&&n.invalidateFramebuffer(n.READ_FRAMEBUFFER,Le)}if(t.bindFramebuffer(n.READ_FRAMEBUFFER,null),t.bindFramebuffer(n.DRAW_FRAMEBUFFER,null),Xe)for(let Lt=0;Lt<R.length;Lt++){t.bindFramebuffer(n.FRAMEBUFFER,Ue.__webglMultisampledFramebuffer),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+Lt,n.RENDERBUFFER,Ue.__webglColorRenderbuffer[Lt]);const gn=i.get(R[Lt]).__webglTexture;t.bindFramebuffer(n.FRAMEBUFFER,Ue.__webglFramebuffer),n.framebufferTexture2D(n.DRAW_FRAMEBUFFER,n.COLOR_ATTACHMENT0+Lt,n.TEXTURE_2D,gn,0)}t.bindFramebuffer(n.DRAW_FRAMEBUFFER,Ue.__webglMultisampledFramebuffer)}},this.setupDepthRenderbuffer=me,this.setupFrameBufferTexture=St,this.useMultisampledRTT=Vt}function Zie(n,e,t){const i=t.isWebGL2;return{convert:function r(s,o=""){let a;const u=Dn.getTransfer(o);if(s===Tu)return n.UNSIGNED_BYTE;if(1017===s)return n.UNSIGNED_SHORT_4_4_4_4;if(1018===s)return n.UNSIGNED_SHORT_5_5_5_1;if(1010===s)return n.BYTE;if(1011===s)return n.SHORT;if(1012===s)return n.UNSIGNED_SHORT;if(1013===s)return n.INT;if(s===Iu)return n.UNSIGNED_INT;if(s===wa)return n.FLOAT;if(s===h0)return i?n.HALF_FLOAT:(a=e.get("OES_texture_half_float"),null!==a?a.HALF_FLOAT_OES:null);if(1021===s)return n.ALPHA;if(s===Ps)return n.RGBA;if(1024===s)return n.LUMINANCE;if(1025===s)return n.LUMINANCE_ALPHA;if(s===Bl)return n.DEPTH_COMPONENT;if(s===lf)return n.DEPTH_STENCIL;if(1035===s)return a=e.get("EXT_sRGB"),null!==a?a.SRGB_ALPHA_EXT:null;if(1028===s)return n.RED;if(1029===s)return n.RED_INTEGER;if(1030===s)return n.RG;if(1031===s)return n.RG_INTEGER;if(1033===s)return n.RGBA_INTEGER;if(33776===s||33777===s||33778===s||33779===s)if(u===Wn){if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),null===a)return null;if(33776===s)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(33777===s)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(33778===s)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(33779===s)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else{if(a=e.get("WEBGL_compressed_texture_s3tc"),null===a)return null;if(33776===s)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===s)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===s)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===s)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===s||35841===s||35842===s||35843===s){if(a=e.get("WEBGL_compressed_texture_pvrtc"),null===a)return null;if(35840===s)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===s)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===s)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===s)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===s)return a=e.get("WEBGL_compressed_texture_etc1"),null!==a?a.COMPRESSED_RGB_ETC1_WEBGL:null;if(37492===s||37496===s){if(a=e.get("WEBGL_compressed_texture_etc"),null===a)return null;if(37492===s)return u===Wn?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(37496===s)return u===Wn?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}if(37808===s||37809===s||37810===s||37811===s||37812===s||37813===s||37814===s||37815===s||37816===s||37817===s||37818===s||37819===s||37820===s||37821===s){if(a=e.get("WEBGL_compressed_texture_astc"),null===a)return null;if(37808===s)return u===Wn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(37809===s)return u===Wn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(37810===s)return u===Wn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(37811===s)return u===Wn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(37812===s)return u===Wn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(37813===s)return u===Wn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(37814===s)return u===Wn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(37815===s)return u===Wn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(37816===s)return u===Wn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(37817===s)return u===Wn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(37818===s)return u===Wn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(37819===s)return u===Wn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(37820===s)return u===Wn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(37821===s)return u===Wn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}if(36492===s||36494===s||36495===s){if(a=e.get("EXT_texture_compression_bptc"),null===a)return null;if(36492===s)return u===Wn?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(36494===s)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(36495===s)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}if(36283===s||36284===s||36285===s||36286===s){if(a=e.get("EXT_texture_compression_rgtc"),null===a)return null;if(36492===s)return a.COMPRESSED_RED_RGTC1_EXT;if(36284===s)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(36285===s)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(36286===s)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}return s===Ul?i?n.UNSIGNED_INT_24_8:(a=e.get("WEBGL_depth_texture"),null!==a?a.UNSIGNED_INT_24_8_WEBGL:null):void 0!==n[s]?n[s]:null}}}class Kie extends ar{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class S0 extends Ns{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Jie={type:"move"};class ow{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new S0,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new S0,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new k,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new k),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new S0,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new k,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new k),this._grip}dispatchEvent(e){return null!==this._targetRay&&this._targetRay.dispatchEvent(e),null!==this._grip&&this._grip.dispatchEvent(e),null!==this._hand&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const t=this._hand;if(t)for(const i of e.hand.values())this._getHandJoint(t,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(e,t,i){let r=null,s=null,o=null;const a=this._targetRay,u=this._grip,l=this._hand;if(e&&"visible-blurred"!==t.session.visibilityState){if(l&&e.hand){o=!0;for(const x of e.hand.values()){const _=t.getJointPose(x,i),v=this._getHandJoint(l,x);null!==_&&(v.matrix.fromArray(_.transform.matrix),v.matrix.decompose(v.position,v.rotation,v.scale),v.matrixWorldNeedsUpdate=!0,v.jointRadius=_.radius),v.visible=null!==_}const h=l.joints["index-finger-tip"].position.distanceTo(l.joints["thumb-tip"].position),p=.02,g=.005;l.inputState.pinching&&h>p+g?(l.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!l.inputState.pinching&&h<=p-g&&(l.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else null!==u&&e.gripSpace&&(s=t.getPose(e.gripSpace,i),null!==s&&(u.matrix.fromArray(s.transform.matrix),u.matrix.decompose(u.position,u.rotation,u.scale),u.matrixWorldNeedsUpdate=!0,s.linearVelocity?(u.hasLinearVelocity=!0,u.linearVelocity.copy(s.linearVelocity)):u.hasLinearVelocity=!1,s.angularVelocity?(u.hasAngularVelocity=!0,u.angularVelocity.copy(s.angularVelocity)):u.hasAngularVelocity=!1));null!==a&&(r=t.getPose(e.targetRaySpace,i),null===r&&null!==s&&(r=s),null!==r&&(a.matrix.fromArray(r.transform.matrix),a.matrix.decompose(a.position,a.rotation,a.scale),a.matrixWorldNeedsUpdate=!0,r.linearVelocity?(a.hasLinearVelocity=!0,a.linearVelocity.copy(r.linearVelocity)):a.hasLinearVelocity=!1,r.angularVelocity?(a.hasAngularVelocity=!0,a.angularVelocity.copy(r.angularVelocity)):a.hasAngularVelocity=!1,this.dispatchEvent(Jie)))}return null!==a&&(a.visible=null!==r),null!==u&&(u.visible=null!==s),null!==l&&(l.visible=null!==o),this}_getHandJoint(e,t){if(void 0===e.joints[t.jointName]){const i=new S0;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[t.jointName]=i,e.add(i)}return e.joints[t.jointName]}}class Qie extends Ru{constructor(e,t,i,r,s,o,a,u,l,c){if((c=void 0!==c?c:Bl)!==Bl&&c!==lf)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===i&&c===Bl&&(i=Iu),void 0===i&&c===lf&&(i=Ul),super(null,r,s,o,a,u,c,i,l),this.isDepthTexture=!0,this.image={width:e,height:t},this.magFilter=void 0!==a?a:bi,this.minFilter=void 0!==u?u:bi,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const t=super.toJSON(e);return null!==this.compareFunction&&(t.compareFunction=this.compareFunction),t}}class ere extends hf{constructor(e,t){super();const i=this;let r=null,s=1,o=null,a="local-floor",u=1,l=null,c=null,f=null,h=null,p=null,g=null;const x=t.getContextAttributes();let _=null,v=null;const w=[],M=[],D=new ar;D.layers.enable(1),D.viewport=new An;const T=new ar;T.layers.enable(2),T.viewport=new An;const P=[D,T],U=new Kie;U.layers.enable(1),U.layers.enable(2);let W=null,I=null;function F(q){const fe=M.indexOf(q.inputSource);if(-1===fe)return;const je=w[fe];void 0!==je&&(je.update(q.inputSource,q.frame,l||o),je.dispatchEvent({type:q.type,data:q.inputSource}))}function J(){r.removeEventListener("select",F),r.removeEventListener("selectstart",F),r.removeEventListener("selectend",F),r.removeEventListener("squeeze",F),r.removeEventListener("squeezestart",F),r.removeEventListener("squeezeend",F),r.removeEventListener("end",J),r.removeEventListener("inputsourceschange",ve);for(let q=0;q<w.length;q++){const fe=M[q];null!==fe&&(M[q]=null,w[q].disconnect(fe))}W=null,I=null,e.setRenderTarget(_),p=null,h=null,f=null,r=null,v=null,we.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}function ve(q){for(let fe=0;fe<q.removed.length;fe++){const je=q.removed[fe],Je=M.indexOf(je);Je>=0&&(M[Je]=null,w[Je].disconnect(je))}for(let fe=0;fe<q.added.length;fe++){const je=q.added[fe];let Je=M.indexOf(je);if(-1===Je){for(let Mt=0;Mt<w.length;Mt++){if(Mt>=M.length){M.push(je),Je=Mt;break}if(null===M[Mt]){M[Mt]=je,Je=Mt;break}}if(-1===Je)break}const tt=w[Je];tt&&tt.connect(je)}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(q){let fe=w[q];return void 0===fe&&(fe=new ow,w[q]=fe),fe.getTargetRaySpace()},this.getControllerGrip=function(q){let fe=w[q];return void 0===fe&&(fe=new ow,w[q]=fe),fe.getGripSpace()},this.getHand=function(q){let fe=w[q];return void 0===fe&&(fe=new ow,w[q]=fe),fe.getHandSpace()},this.setFramebufferScaleFactor=function(q){s=q,!0===i.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(q){a=q,!0===i.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return l||o},this.setReferenceSpace=function(q){l=q},this.getBaseLayer=function(){return null!==h?h:p},this.getBinding=function(){return f},this.getFrame=function(){return g},this.getSession=function(){return r},this.setSession=function(){var q=pM(function*(fe){if(r=fe,null!==r){if(_=e.getRenderTarget(),r.addEventListener("select",F),r.addEventListener("selectstart",F),r.addEventListener("selectend",F),r.addEventListener("squeeze",F),r.addEventListener("squeezestart",F),r.addEventListener("squeezeend",F),r.addEventListener("end",J),r.addEventListener("inputsourceschange",ve),!0!==x.xrCompatible&&(yield t.makeXRCompatible()),void 0===r.renderState.layers||!1===e.capabilities.isWebGL2)p=new XRWebGLLayer(r,t,{antialias:void 0!==r.renderState.layers||x.antialias,alpha:!0,depth:x.depth,stencil:x.stencil,framebufferScaleFactor:s}),r.updateRenderState({baseLayer:p}),v=new Da(p.framebufferWidth,p.framebufferHeight,{format:Ps,type:Tu,colorSpace:e.outputColorSpace,stencilBuffer:x.stencil});else{let je=null,Je=null,tt=null;x.depth&&(tt=x.stencil?t.DEPTH24_STENCIL8:t.DEPTH_COMPONENT24,je=x.stencil?lf:Bl,Je=x.stencil?Ul:Iu);const Mt={colorFormat:t.RGBA8,depthFormat:tt,scaleFactor:s};f=new XRWebGLBinding(r,t),h=f.createProjectionLayer(Mt),r.updateRenderState({layers:[h]}),v=new Da(h.textureWidth,h.textureHeight,{format:Ps,type:Tu,depthTexture:new Qie(h.textureWidth,h.textureHeight,Je,void 0,void 0,void 0,void 0,void 0,void 0,je),stencilBuffer:x.stencil,colorSpace:e.outputColorSpace,samples:x.antialias?4:0}),e.properties.get(v).__ignoreDepthValues=h.ignoreDepthValues}v.isXRRenderTarget=!0,this.setFoveation(u),l=null,o=yield r.requestReferenceSpace(a),we.setContext(r),we.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}});return function(fe){return q.apply(this,arguments)}}(),this.getEnvironmentBlendMode=function(){if(null!==r)return r.environmentBlendMode};const Ee=new k,j=new k;function ge(q,fe){null===fe?q.matrixWorld.copy(q.matrix):q.matrixWorld.multiplyMatrices(fe.matrixWorld,q.matrix),q.matrixWorldInverse.copy(q.matrixWorld).invert()}this.updateCamera=function(q){if(null===r)return;U.near=T.near=D.near=q.near,U.far=T.far=D.far=q.far,(W!==U.near||I!==U.far)&&(r.updateRenderState({depthNear:U.near,depthFar:U.far}),W=U.near,I=U.far);const fe=q.parent,je=U.cameras;ge(U,fe);for(let Je=0;Je<je.length;Je++)ge(je[Je],fe);2===je.length?function se(q,fe,je){Ee.setFromMatrixPosition(fe.matrixWorld),j.setFromMatrixPosition(je.matrixWorld);const Je=Ee.distanceTo(j),tt=fe.projectionMatrix.elements,Mt=je.projectionMatrix.elements,At=tt[14]/(tt[10]-1),wt=tt[14]/(tt[10]+1),Gt=(tt[9]+1)/tt[5],fn=(tt[9]-1)/tt[5],St=(tt[8]-1)/tt[0],G=(Mt[8]+1)/Mt[0],ze=At*St,me=At*G,Te=Je/(-St+G),be=Te*-St;fe.matrixWorld.decompose(q.position,q.quaternion,q.scale),q.translateX(be),q.translateZ(Te),q.matrixWorld.compose(q.position,q.quaternion,q.scale),q.matrixWorldInverse.copy(q.matrixWorld).invert();const mt=At+Te,Ze=wt+Te;q.projectionMatrix.makePerspective(ze-be,me+(Je-be),Gt*wt/Ze*mt,fn*wt/Ze*mt,mt,Ze),q.projectionMatrixInverse.copy(q.projectionMatrix).invert()}(U,D,T):U.projectionMatrix.copy(D.projectionMatrix),function pe(q,fe,je){null===je?q.matrix.copy(fe.matrixWorld):(q.matrix.copy(je.matrixWorld),q.matrix.invert(),q.matrix.multiply(fe.matrixWorld)),q.matrix.decompose(q.position,q.quaternion,q.scale),q.updateMatrixWorld(!0),q.projectionMatrix.copy(fe.projectionMatrix),q.projectionMatrixInverse.copy(fe.projectionMatrixInverse),q.isPerspectiveCamera&&(q.fov=2*pf*Math.atan(1/q.projectionMatrix.elements[5]),q.zoom=1)}(q,U,fe)},this.getCamera=function(){return U},this.getFoveation=function(){if(null!==h||null!==p)return u},this.setFoveation=function(q){u=q,null!==h&&(h.fixedFoveation=q),null!==p&&void 0!==p.fixedFoveation&&(p.fixedFoveation=q)};let Ne=null;const we=new eF;we.setAnimationLoop(function xe(q,fe){if(c=fe.getViewerPose(l||o),g=fe,null!==c){const je=c.views;null!==p&&(e.setRenderTargetFramebuffer(v,p.framebuffer),e.setRenderTarget(v));let Je=!1;je.length!==U.cameras.length&&(U.cameras.length=0,Je=!0);for(let tt=0;tt<je.length;tt++){const Mt=je[tt];let At=null;if(null!==p)At=p.getViewport(Mt);else{const Gt=f.getViewSubImage(h,Mt);At=Gt.viewport,0===tt&&(e.setRenderTargetTextures(v,Gt.colorTexture,h.ignoreDepthValues?void 0:Gt.depthStencilTexture),e.setRenderTarget(v))}let wt=P[tt];void 0===wt&&(wt=new ar,wt.layers.enable(tt),wt.viewport=new An,P[tt]=wt),wt.matrix.fromArray(Mt.transform.matrix),wt.matrix.decompose(wt.position,wt.quaternion,wt.scale),wt.projectionMatrix.fromArray(Mt.projectionMatrix),wt.projectionMatrixInverse.copy(wt.projectionMatrix).invert(),wt.viewport.set(At.x,At.y,At.width,At.height),0===tt&&(U.matrix.copy(wt.matrix),U.matrix.decompose(U.position,U.quaternion,U.scale)),!0===Je&&U.cameras.push(wt)}}for(let je=0;je<w.length;je++){const Je=M[je],tt=w[je];null!==Je&&void 0!==tt&&tt.update(Je,fe,l||o)}Ne&&Ne(q,fe),fe.detectedPlanes&&i.dispatchEvent({type:"planesdetected",data:fe}),g=null}),this.setAnimationLoop=function(q){Ne=q},this.dispose=function(){}}}function tre(n,e){function t(_,v){!0===_.matrixAutoUpdate&&_.updateMatrix(),v.value.copy(_.matrix)}function s(_,v){_.opacity.value=v.opacity,v.color&&_.diffuse.value.copy(v.color),v.emissive&&_.emissive.value.copy(v.emissive).multiplyScalar(v.emissiveIntensity),v.map&&(_.map.value=v.map,t(v.map,_.mapTransform)),v.alphaMap&&(_.alphaMap.value=v.alphaMap,t(v.alphaMap,_.alphaMapTransform)),v.bumpMap&&(_.bumpMap.value=v.bumpMap,t(v.bumpMap,_.bumpMapTransform),_.bumpScale.value=v.bumpScale,1===v.side&&(_.bumpScale.value*=-1)),v.normalMap&&(_.normalMap.value=v.normalMap,t(v.normalMap,_.normalMapTransform),_.normalScale.value.copy(v.normalScale),1===v.side&&_.normalScale.value.negate()),v.displacementMap&&(_.displacementMap.value=v.displacementMap,t(v.displacementMap,_.displacementMapTransform),_.displacementScale.value=v.displacementScale,_.displacementBias.value=v.displacementBias),v.emissiveMap&&(_.emissiveMap.value=v.emissiveMap,t(v.emissiveMap,_.emissiveMapTransform)),v.specularMap&&(_.specularMap.value=v.specularMap,t(v.specularMap,_.specularMapTransform)),v.alphaTest>0&&(_.alphaTest.value=v.alphaTest);const w=e.get(v).envMap;if(w&&(_.envMap.value=w,_.flipEnvMap.value=w.isCubeTexture&&!1===w.isRenderTargetTexture?-1:1,_.reflectivity.value=v.reflectivity,_.ior.value=v.ior,_.refractionRatio.value=v.refractionRatio),v.lightMap){_.lightMap.value=v.lightMap;const M=!0===n._useLegacyLights?Math.PI:1;_.lightMapIntensity.value=v.lightMapIntensity*M,t(v.lightMap,_.lightMapTransform)}v.aoMap&&(_.aoMap.value=v.aoMap,_.aoMapIntensity.value=v.aoMapIntensity,t(v.aoMap,_.aoMapTransform))}return{refreshFogUniforms:function i(_,v){v.color.getRGB(_.fogColor.value,QL(n)),v.isFog?(_.fogNear.value=v.near,_.fogFar.value=v.far):v.isFogExp2&&(_.fogDensity.value=v.density)},refreshMaterialUniforms:function r(_,v,w,M,D){v.isMeshBasicMaterial||v.isMeshLambertMaterial?s(_,v):v.isMeshToonMaterial?(s(_,v),function f(_,v){v.gradientMap&&(_.gradientMap.value=v.gradientMap)}(_,v)):v.isMeshPhongMaterial?(s(_,v),function c(_,v){_.specular.value.copy(v.specular),_.shininess.value=Math.max(v.shininess,1e-4)}(_,v)):v.isMeshStandardMaterial?(s(_,v),function h(_,v){_.metalness.value=v.metalness,v.metalnessMap&&(_.metalnessMap.value=v.metalnessMap,t(v.metalnessMap,_.metalnessMapTransform)),_.roughness.value=v.roughness,v.roughnessMap&&(_.roughnessMap.value=v.roughnessMap,t(v.roughnessMap,_.roughnessMapTransform)),e.get(v).envMap&&(_.envMapIntensity.value=v.envMapIntensity)}(_,v),v.isMeshPhysicalMaterial&&function p(_,v,w){_.ior.value=v.ior,v.sheen>0&&(_.sheenColor.value.copy(v.sheenColor).multiplyScalar(v.sheen),_.sheenRoughness.value=v.sheenRoughness,v.sheenColorMap&&(_.sheenColorMap.value=v.sheenColorMap,t(v.sheenColorMap,_.sheenColorMapTransform)),v.sheenRoughnessMap&&(_.sheenRoughnessMap.value=v.sheenRoughnessMap,t(v.sheenRoughnessMap,_.sheenRoughnessMapTransform))),v.clearcoat>0&&(_.clearcoat.value=v.clearcoat,_.clearcoatRoughness.value=v.clearcoatRoughness,v.clearcoatMap&&(_.clearcoatMap.value=v.clearcoatMap,t(v.clearcoatMap,_.clearcoatMapTransform)),v.clearcoatRoughnessMap&&(_.clearcoatRoughnessMap.value=v.clearcoatRoughnessMap,t(v.clearcoatRoughnessMap,_.clearcoatRoughnessMapTransform)),v.clearcoatNormalMap&&(_.clearcoatNormalMap.value=v.clearcoatNormalMap,t(v.clearcoatNormalMap,_.clearcoatNormalMapTransform),_.clearcoatNormalScale.value.copy(v.clearcoatNormalScale),1===v.side&&_.clearcoatNormalScale.value.negate())),v.iridescence>0&&(_.iridescence.value=v.iridescence,_.iridescenceIOR.value=v.iridescenceIOR,_.iridescenceThicknessMinimum.value=v.iridescenceThicknessRange[0],_.iridescenceThicknessMaximum.value=v.iridescenceThicknessRange[1],v.iridescenceMap&&(_.iridescenceMap.value=v.iridescenceMap,t(v.iridescenceMap,_.iridescenceMapTransform)),v.iridescenceThicknessMap&&(_.iridescenceThicknessMap.value=v.iridescenceThicknessMap,t(v.iridescenceThicknessMap,_.iridescenceThicknessMapTransform))),v.transmission>0&&(_.transmission.value=v.transmission,_.transmissionSamplerMap.value=w.texture,_.transmissionSamplerSize.value.set(w.width,w.height),v.transmissionMap&&(_.transmissionMap.value=v.transmissionMap,t(v.transmissionMap,_.transmissionMapTransform)),_.thickness.value=v.thickness,v.thicknessMap&&(_.thicknessMap.value=v.thicknessMap,t(v.thicknessMap,_.thicknessMapTransform)),_.attenuationDistance.value=v.attenuationDistance,_.attenuationColor.value.copy(v.attenuationColor)),v.anisotropy>0&&(_.anisotropyVector.value.set(v.anisotropy*Math.cos(v.anisotropyRotation),v.anisotropy*Math.sin(v.anisotropyRotation)),v.anisotropyMap&&(_.anisotropyMap.value=v.anisotropyMap,t(v.anisotropyMap,_.anisotropyMapTransform))),_.specularIntensity.value=v.specularIntensity,_.specularColor.value.copy(v.specularColor),v.specularColorMap&&(_.specularColorMap.value=v.specularColorMap,t(v.specularColorMap,_.specularColorMapTransform)),v.specularIntensityMap&&(_.specularIntensityMap.value=v.specularIntensityMap,t(v.specularIntensityMap,_.specularIntensityMapTransform))}(_,v,D)):v.isMeshMatcapMaterial?(s(_,v),function g(_,v){v.matcap&&(_.matcap.value=v.matcap)}(_,v)):v.isMeshDepthMaterial?s(_,v):v.isMeshDistanceMaterial?(s(_,v),function x(_,v){const w=e.get(v).light;_.referencePosition.value.setFromMatrixPosition(w.matrixWorld),_.nearDistance.value=w.shadow.camera.near,_.farDistance.value=w.shadow.camera.far}(_,v)):v.isMeshNormalMaterial?s(_,v):v.isLineBasicMaterial?(function o(_,v){_.diffuse.value.copy(v.color),_.opacity.value=v.opacity,v.map&&(_.map.value=v.map,t(v.map,_.mapTransform))}(_,v),v.isLineDashedMaterial&&function a(_,v){_.dashSize.value=v.dashSize,_.totalSize.value=v.dashSize+v.gapSize,_.scale.value=v.scale}(_,v)):v.isPointsMaterial?function u(_,v,w,M){_.diffuse.value.copy(v.color),_.opacity.value=v.opacity,_.size.value=v.size*w,_.scale.value=.5*M,v.map&&(_.map.value=v.map,t(v.map,_.uvTransform)),v.alphaMap&&(_.alphaMap.value=v.alphaMap,t(v.alphaMap,_.alphaMapTransform)),v.alphaTest>0&&(_.alphaTest.value=v.alphaTest)}(_,v,w,M):v.isSpriteMaterial?function l(_,v){_.diffuse.value.copy(v.color),_.opacity.value=v.opacity,_.rotation.value=v.rotation,v.map&&(_.map.value=v.map,t(v.map,_.mapTransform)),v.alphaMap&&(_.alphaMap.value=v.alphaMap,t(v.alphaMap,_.alphaMapTransform)),v.alphaTest>0&&(_.alphaTest.value=v.alphaTest)}(_,v):v.isShadowMaterial?(_.color.value.copy(v.color),_.opacity.value=v.opacity):v.isShaderMaterial&&(v.uniformsNeedUpdate=!1)}}}function nre(n,e,t,i){let r={},s={},o=[];const a=t.isWebGL2?n.getParameter(n.MAX_UNIFORM_BUFFER_BINDINGS):0;function p(w,M,D){const T=w.value;if(void 0===D[M]){if("number"==typeof T)D[M]=T;else{const P=Array.isArray(T)?T:[T],U=[];for(let W=0;W<P.length;W++)U.push(P[W].clone());D[M]=U}return!0}if("number"==typeof T){if(D[M]!==T)return D[M]=T,!0}else{const P=Array.isArray(D[M])?D[M]:[D[M]],U=Array.isArray(T)?T:[T];for(let W=0;W<P.length;W++){const I=P[W];if(!1===I.equals(U[W]))return I.copy(U[W]),!0}}return!1}function x(w){const M={boundary:0,storage:0};return"number"==typeof w?(M.boundary=4,M.storage=4):w.isVector2?(M.boundary=8,M.storage=8):w.isVector3||w.isColor?(M.boundary=16,M.storage=12):w.isVector4?(M.boundary=16,M.storage=16):w.isMatrix3?(M.boundary=48,M.storage=48):w.isMatrix4?(M.boundary=64,M.storage=64):w.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",w),M}function _(w){const M=w.target;M.removeEventListener("dispose",_);const D=o.indexOf(M.__bindingPointIndex);o.splice(D,1),n.deleteBuffer(r[M.id]),delete r[M.id],delete s[M.id]}return{bind:function u(w,M){i.uniformBlockBinding(w,M.program)},update:function l(w,M){let D=r[w.id];void 0===D&&(function g(w){const M=w.uniforms;let D=0;let P=0;for(let U=0,W=M.length;U<W;U++){const I=M[U],F={boundary:0,storage:0},J=Array.isArray(I.value)?I.value:[I.value];for(let ve=0,Ee=J.length;ve<Ee;ve++){const se=x(J[ve]);F.boundary+=se.boundary,F.storage+=se.storage}I.__data=new Float32Array(F.storage/Float32Array.BYTES_PER_ELEMENT),I.__offset=D,U>0&&(P=D%16,0!==P&&16-P-F.boundary<0&&(D+=16-P,I.__offset=D)),D+=F.storage}P=D%16,P>0&&(D+=16-P),w.__size=D,w.__cache={}}(w),D=function c(w){const M=function f(){for(let w=0;w<a;w++)if(-1===o.indexOf(w))return o.push(w),w;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}();w.__bindingPointIndex=M;const D=n.createBuffer(),T=w.__size,P=w.usage;return n.bindBuffer(n.UNIFORM_BUFFER,D),n.bufferData(n.UNIFORM_BUFFER,T,P),n.bindBuffer(n.UNIFORM_BUFFER,null),n.bindBufferBase(n.UNIFORM_BUFFER,M,D),D}(w),r[w.id]=D,w.addEventListener("dispose",_)),i.updateUBOMapping(w,M.program);const P=e.render.frame;s[w.id]!==P&&(function h(w){const D=w.uniforms,T=w.__cache;n.bindBuffer(n.UNIFORM_BUFFER,r[w.id]);for(let P=0,U=D.length;P<U;P++){const W=D[P];if(!0===p(W,P,T)){const I=W.__offset,F=Array.isArray(W.value)?W.value:[W.value];let J=0;for(let ve=0;ve<F.length;ve++){const Ee=F[ve],j=x(Ee);"number"==typeof Ee?(W.__data[0]=Ee,n.bufferSubData(n.UNIFORM_BUFFER,I+J,W.__data)):Ee.isMatrix3?(W.__data[0]=Ee.elements[0],W.__data[1]=Ee.elements[1],W.__data[2]=Ee.elements[2],W.__data[3]=Ee.elements[0],W.__data[4]=Ee.elements[3],W.__data[5]=Ee.elements[4],W.__data[6]=Ee.elements[5],W.__data[7]=Ee.elements[0],W.__data[8]=Ee.elements[6],W.__data[9]=Ee.elements[7],W.__data[10]=Ee.elements[8],W.__data[11]=Ee.elements[0]):(Ee.toArray(W.__data,J),J+=j.storage/Float32Array.BYTES_PER_ELEMENT)}n.bufferSubData(n.UNIFORM_BUFFER,I,W.__data)}}n.bindBuffer(n.UNIFORM_BUFFER,null)}(w),s[w.id]=P)},dispose:function v(){for(const w in r)n.deleteBuffer(r[w]);o=[],r={},s={}}}}class TF{constructor(e={}){const{canvas:t=LQ(),context:i=null,depth:r=!0,stencil:s=!0,alpha:o=!1,antialias:a=!1,premultipliedAlpha:u=!0,preserveDrawingBuffer:l=!1,powerPreference:c="default",failIfMajorPerformanceCaveat:f=!1}=e;let h;this.isWebGLRenderer=!0,h=null!==i?i.getContextAttributes().alpha:o;const p=new Uint32Array(4),g=new Int32Array(4);let x=null,_=null;const v=[],w=[];this.domElement=t,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Bi,this._useLegacyLights=!1,this.toneMapping=Du,this.toneMappingExposure=1;const M=this;let D=!1,T=0,P=0,U=null,W=-1,I=null;const F=new An,J=new An;let ve=null;const Ee=new Ke(0);let j=0,se=t.width,ge=t.height,pe=1,Ne=null,xe=null;const we=new An(0,0,se,ge),q=new An(0,0,se,ge);let fe=!1;const je=new JM;let Je=!1,tt=!1,Mt=null;const At=new zt,wt=new _e,Gt=new k,fn={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function St(){return null===U?pe:1}let me,Te,be,mt,Ze,rt,Vt,sn,ri,B,R,te,Re,Ce,Le,ct,Ue,Xe,Lt,gn,Fe,Tn,Wt,Ft,G=i;function ze(O,Y){for(let ie=0;ie<O.length;ie++){const ae=t.getContext(O[ie],Y);if(null!==ae)return ae}return null}try{const O={alpha:!0,depth:r,stencil:s,antialias:a,premultipliedAlpha:u,preserveDrawingBuffer:l,powerPreference:c,failIfMajorPerformanceCaveat:f};if("setAttribute"in t&&t.setAttribute("data-engine","three.js r158"),t.addEventListener("webglcontextlost",un,!1),t.addEventListener("webglcontextrestored",$,!1),t.addEventListener("webglcontextcreationerror",Ye,!1),null===G){const Y=["webgl2","webgl","experimental-webgl"];if(!0===M.isWebGL1Renderer&&Y.shift(),G=ze(Y,O),null===G)throw ze(Y)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&G instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),void 0===G.getShaderPrecisionFormat&&(G.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(O){throw console.error("THREE.WebGLRenderer: "+O.message),O}function xt(){me=new pne(G),Te=new une(G,me,e),me.init(Te),Tn=new Zie(G,me,Te),be=new Xie(G,me,Te),mt=new vne(G),Ze=new Fie,rt=new Yie(G,me,be,Ze,Te,Tn,mt),Vt=new cne(M),sn=new hne(M),ri=new aee(G,Te),Wt=new one(G,me,ri,Te),B=new mne(G,ri,mt,Wt),R=new bne(G,B,ri,mt),Lt=new xne(G,Te,rt),ct=new lne(Ze),te=new Lie(M,Vt,sn,me,Te,Wt,ct),Re=new tre(M,Ze),Ce=new Uie,Le=new Wie(me,Te),Xe=new sne(M,Vt,sn,be,R,h,u),Ue=new qie(M,R,Te),Ft=new nre(G,mt,Te,be),gn=new ane(G,me,mt,Te),Fe=new gne(G,me,mt,Te),mt.programs=te.programs,M.capabilities=Te,M.extensions=me,M.properties=Ze,M.renderLists=Ce,M.shadowMap=Ue,M.state=be,M.info=mt}xt();const et=new ere(M,G);function un(O){O.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),D=!0}function $(){console.log("THREE.WebGLRenderer: Context Restored."),D=!1;const O=mt.autoReset,Y=Ue.enabled,ie=Ue.autoUpdate,oe=Ue.needsUpdate,ae=Ue.type;xt(),mt.autoReset=O,Ue.enabled=Y,Ue.autoUpdate=ie,Ue.needsUpdate=oe,Ue.type=ae}function Ye(O){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",O.statusMessage)}function ke(O){const Y=O.target;Y.removeEventListener("dispose",ke),function de(O){(function Ve(O){const Y=Ze.get(O).programs;void 0!==Y&&(Y.forEach(function(ie){te.releaseProgram(ie)}),O.isShaderMaterial&&te.releaseShaderCache(O))})(O),Ze.remove(O)}(Y)}function Ct(O,Y,ie){!0===O.transparent&&2===O.side&&!1===O.forceSinglePass?(O.side=1,O.needsUpdate=!0,$_(O,Y,ie),O.side=0,O.needsUpdate=!0,$_(O,Y,ie),O.side=2):$_(O,Y,ie)}this.xr=et,this.getContext=function(){return G},this.getContextAttributes=function(){return G.getContextAttributes()},this.forceContextLoss=function(){const O=me.get("WEBGL_lose_context");O&&O.loseContext()},this.forceContextRestore=function(){const O=me.get("WEBGL_lose_context");O&&O.restoreContext()},this.getPixelRatio=function(){return pe},this.setPixelRatio=function(O){void 0!==O&&(pe=O,this.setSize(se,ge,!1))},this.getSize=function(O){return O.set(se,ge)},this.setSize=function(O,Y,ie=!0){et.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(se=O,ge=Y,t.width=Math.floor(O*pe),t.height=Math.floor(Y*pe),!0===ie&&(t.style.width=O+"px",t.style.height=Y+"px"),this.setViewport(0,0,O,Y))},this.getDrawingBufferSize=function(O){return O.set(se*pe,ge*pe).floor()},this.setDrawingBufferSize=function(O,Y,ie){se=O,ge=Y,pe=ie,t.width=Math.floor(O*ie),t.height=Math.floor(Y*ie),this.setViewport(0,0,O,Y)},this.getCurrentViewport=function(O){return O.copy(F)},this.getViewport=function(O){return O.copy(we)},this.setViewport=function(O,Y,ie,oe){O.isVector4?we.set(O.x,O.y,O.z,O.w):we.set(O,Y,ie,oe),be.viewport(F.copy(we).multiplyScalar(pe).floor())},this.getScissor=function(O){return O.copy(q)},this.setScissor=function(O,Y,ie,oe){O.isVector4?q.set(O.x,O.y,O.z,O.w):q.set(O,Y,ie,oe),be.scissor(J.copy(q).multiplyScalar(pe).floor())},this.getScissorTest=function(){return fe},this.setScissorTest=function(O){be.setScissorTest(fe=O)},this.setOpaqueSort=function(O){Ne=O},this.setTransparentSort=function(O){xe=O},this.getClearColor=function(O){return O.copy(Xe.getClearColor())},this.setClearColor=function(){Xe.setClearColor.apply(Xe,arguments)},this.getClearAlpha=function(){return Xe.getClearAlpha()},this.setClearAlpha=function(){Xe.setClearAlpha.apply(Xe,arguments)},this.clear=function(O=!0,Y=!0,ie=!0){let oe=0;if(O){let ae=!1;if(null!==U){const Qe=U.texture.format;ae=1033===Qe||1031===Qe||1029===Qe}if(ae){const Qe=U.texture.type,ft=Qe===Tu||Qe===Iu||1012===Qe||Qe===Ul||1017===Qe||1018===Qe,Dt=Xe.getClearColor(),kt=Xe.getClearAlpha(),en=Dt.r,jt=Dt.g,Zt=Dt.b;ft?(p[0]=en,p[1]=jt,p[2]=Zt,p[3]=kt,G.clearBufferuiv(G.COLOR,0,p)):(g[0]=en,g[1]=jt,g[2]=Zt,g[3]=kt,G.clearBufferiv(G.COLOR,0,g))}else oe|=G.COLOR_BUFFER_BIT}Y&&(oe|=G.DEPTH_BUFFER_BIT),ie&&(oe|=G.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),G.clear(oe)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",un,!1),t.removeEventListener("webglcontextrestored",$,!1),t.removeEventListener("webglcontextcreationerror",Ye,!1),Ce.dispose(),Le.dispose(),Ze.dispose(),Vt.dispose(),sn.dispose(),R.dispose(),Wt.dispose(),Ft.dispose(),te.dispose(),et.dispose(),et.removeEventListener("sessionstart",Fs),et.removeEventListener("sessionend",Hn),Mt&&(Mt.dispose(),Mt=null),wr.stop()},this.renderBufferDirect=function(O,Y,ie,oe,ae,Qe){null===Y&&(Y=fn);const ft=ae.isMesh&&ae.matrixWorld.determinant()<0,Dt=function hae(O,Y,ie,oe,ae){!0!==Y.isScene&&(Y=fn),rt.resetTextureUnits();const Qe=Y.fog,Dt=null===U?M.outputColorSpace:!0===U.isXRRenderTarget?U.texture.colorSpace:Sa,kt=(oe.isMeshStandardMaterial?sn:Vt).get(oe.envMap||(oe.isMeshStandardMaterial?Y.environment:null)),en=!0===oe.vertexColors&&!!ie.attributes.color&&4===ie.attributes.color.itemSize,jt=!!ie.attributes.tangent&&(!!oe.normalMap||oe.anisotropy>0),Zt=!!ie.morphAttributes.position,hi=!!ie.morphAttributes.normal,ps=!!ie.morphAttributes.color;let zi=Du;oe.toneMapped&&(null===U||!0===U.isXRRenderTarget)&&(zi=M.toneMapping);const Ua=ie.morphAttributes.position||ie.morphAttributes.normal||ie.morphAttributes.color,si=void 0!==Ua?Ua.length:0,on=Ze.get(oe),Zw=_.state.lights;!0!==Je||!0!==tt&&O===I||ct.setState(oe,O,O===I&&oe.id===W);let Si=!1;oe.version===on.__version?(on.needsLights&&on.lightsStateVersion!==Zw.state.version||on.outputColorSpace!==Dt||ae.isInstancedMesh&&!1===on.instancing||!ae.isInstancedMesh&&!0===on.instancing||ae.isSkinnedMesh&&!1===on.skinning||!ae.isSkinnedMesh&&!0===on.skinning||ae.isInstancedMesh&&!0===on.instancingColor&&null===ae.instanceColor||ae.isInstancedMesh&&!1===on.instancingColor&&null!==ae.instanceColor||on.envMap!==kt||!0===oe.fog&&on.fog!==Qe||void 0!==on.numClippingPlanes&&(on.numClippingPlanes!==ct.numPlanes||on.numIntersection!==ct.numIntersection)||on.vertexAlphas!==en||on.vertexTangents!==jt||on.morphTargets!==Zt||on.morphNormals!==hi||on.morphColors!==ps||on.toneMapping!==zi||!0===Te.isWebGL2&&on.morphTargetsCount!==si)&&(Si=!0):(Si=!0,on.__version=oe.version);let sc=on.currentProgram;!0===Si&&(sc=$_(oe,Y,ae));let rU=!1,q0=!1,Kw=!1;const Sr=sc.getUniforms(),oc=on.uniforms;if(be.useProgram(sc.program)&&(rU=!0,q0=!0,Kw=!0),oe.id!==W&&(W=oe.id,q0=!0),rU||I!==O){Sr.setValue(G,"projectionMatrix",O.projectionMatrix),Sr.setValue(G,"viewMatrix",O.matrixWorldInverse);const ms=Sr.map.cameraPosition;void 0!==ms&&ms.setValue(G,Gt.setFromMatrixPosition(O.matrixWorld)),Te.logarithmicDepthBuffer&&Sr.setValue(G,"logDepthBufFC",2/(Math.log(O.far+1)/Math.LN2)),(oe.isMeshPhongMaterial||oe.isMeshToonMaterial||oe.isMeshLambertMaterial||oe.isMeshBasicMaterial||oe.isMeshStandardMaterial||oe.isShaderMaterial)&&Sr.setValue(G,"isOrthographic",!0===O.isOrthographicCamera),I!==O&&(I=O,q0=!0,Kw=!0)}if(ae.isSkinnedMesh){Sr.setOptional(G,ae,"bindMatrix"),Sr.setOptional(G,ae,"bindMatrixInverse");const ms=ae.skeleton;ms&&(Te.floatVertexTextures?(null===ms.boneTexture&&ms.computeBoneTexture(),Sr.setValue(G,"boneTexture",ms.boneTexture,rt),Sr.setValue(G,"boneTextureSize",ms.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Jw=ie.morphAttributes;if((void 0!==Jw.position||void 0!==Jw.normal||void 0!==Jw.color&&!0===Te.isWebGL2)&&Lt.update(ae,ie,sc),(q0||on.receiveShadow!==ae.receiveShadow)&&(on.receiveShadow=ae.receiveShadow,Sr.setValue(G,"receiveShadow",ae.receiveShadow)),oe.isMeshGouraudMaterial&&null!==oe.envMap&&(oc.envMap.value=kt,oc.flipEnvMap.value=kt.isCubeTexture&&!1===kt.isRenderTargetTexture?-1:1),q0&&(Sr.setValue(G,"toneMappingExposure",M.toneMappingExposure),on.needsLights&&function pae(O,Y){O.ambientLightColor.needsUpdate=Y,O.lightProbe.needsUpdate=Y,O.directionalLights.needsUpdate=Y,O.directionalLightShadows.needsUpdate=Y,O.pointLights.needsUpdate=Y,O.pointLightShadows.needsUpdate=Y,O.spotLights.needsUpdate=Y,O.spotLightShadows.needsUpdate=Y,O.rectAreaLights.needsUpdate=Y,O.hemisphereLights.needsUpdate=Y}(oc,Kw),Qe&&!0===oe.fog&&Re.refreshFogUniforms(oc,Qe),Re.refreshMaterialUniforms(oc,oe,pe,ge,Mt),o_.upload(G,nU(on),oc,rt)),oe.isShaderMaterial&&!0===oe.uniformsNeedUpdate&&(o_.upload(G,nU(on),oc,rt),oe.uniformsNeedUpdate=!1),oe.isSpriteMaterial&&Sr.setValue(G,"center",ae.center),Sr.setValue(G,"modelViewMatrix",ae.modelViewMatrix),Sr.setValue(G,"normalMatrix",ae.normalMatrix),Sr.setValue(G,"modelMatrix",ae.matrixWorld),oe.isShaderMaterial||oe.isRawShaderMaterial){const ms=oe.uniformsGroups;for(let Qw=0,gae=ms.length;Qw<gae;Qw++)if(Te.isWebGL2){const sU=ms[Qw];Ft.update(sU,sc),Ft.bind(sU,sc)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return sc}(O,Y,ie,oe,ae);be.setMaterial(oe,ft);let kt=ie.index,en=1;if(!0===oe.wireframe){if(kt=B.getWireframeAttribute(ie),void 0===kt)return;en=2}const jt=ie.drawRange,Zt=ie.attributes.position;let hi=jt.start*en,ps=(jt.start+jt.count)*en;null!==Qe&&(hi=Math.max(hi,Qe.start*en),ps=Math.min(ps,(Qe.start+Qe.count)*en)),null!==kt?(hi=Math.max(hi,0),ps=Math.min(ps,kt.count)):null!=Zt&&(hi=Math.max(hi,0),ps=Math.min(ps,Zt.count));const zi=ps-hi;if(zi<0||zi===1/0)return;Wt.setup(ae,oe,Dt,ie,kt);let Ua,si=gn;if(null!==kt&&(Ua=ri.get(kt),si=Fe,si.setIndex(Ua)),ae.isMesh)!0===oe.wireframe?(be.setLineWidth(oe.wireframeLinewidth*St()),si.setMode(G.LINES)):si.setMode(G.TRIANGLES);else if(ae.isLine){let on=oe.linewidth;void 0===on&&(on=1),be.setLineWidth(on*St()),si.setMode(ae.isLineSegments?G.LINES:ae.isLineLoop?G.LINE_LOOP:G.LINE_STRIP)}else ae.isPoints?si.setMode(G.POINTS):ae.isSprite&&si.setMode(G.TRIANGLES);if(ae.isInstancedMesh)si.renderInstances(hi,zi,ae.count);else if(ie.isInstancedBufferGeometry){const Zw=Math.min(ie.instanceCount,void 0!==ie._maxInstanceCount?ie._maxInstanceCount:1/0);si.renderInstances(hi,zi,Zw)}else si.render(hi,zi)},this.compile=function(O,Y,ie=null){null===ie&&(ie=O),_=Le.get(ie),_.init(),w.push(_),ie.traverseVisible(function(ae){ae.isLight&&ae.layers.test(Y.layers)&&(_.pushLight(ae),ae.castShadow&&_.pushShadow(ae))}),O!==ie&&O.traverseVisible(function(ae){ae.isLight&&ae.layers.test(Y.layers)&&(_.pushLight(ae),ae.castShadow&&_.pushShadow(ae))}),_.setupLights(M._useLegacyLights);const oe=new Set;return O.traverse(function(ae){const Qe=ae.material;if(Qe)if(Array.isArray(Qe))for(let ft=0;ft<Qe.length;ft++){const Dt=Qe[ft];Ct(Dt,ie,ae),oe.add(Dt)}else Ct(Qe,ie,ae),oe.add(Qe)}),w.pop(),_=null,oe},this.compileAsync=function(O,Y,ie=null){const oe=this.compile(O,Y,ie);return new Promise(ae=>{function Qe(){oe.forEach(function(ft){Ze.get(ft).currentProgram.isReady()&&oe.delete(ft)}),0!==oe.size?setTimeout(Qe,10):ae(O)}null!==me.get("KHR_parallel_shader_compile")?Qe():setTimeout(Qe,10)})};let vn=null;function Fs(){wr.stop()}function Hn(){wr.start()}const wr=new eF;function Jo(O,Y,ie,oe){if(!1===O.visible)return;if(O.layers.test(Y.layers))if(O.isGroup)ie=O.renderOrder;else if(O.isLOD)!0===O.autoUpdate&&O.update(Y);else if(O.isLight)_.pushLight(O),O.castShadow&&_.pushShadow(O);else if(O.isSprite){if(!O.frustumCulled||je.intersectsSprite(O)){oe&&Gt.setFromMatrixPosition(O.matrixWorld).applyMatrix4(At);const ft=R.update(O),Dt=O.material;Dt.visible&&x.push(O,ft,Dt,ie,Gt.z,null)}}else if((O.isMesh||O.isLine||O.isPoints)&&(!O.frustumCulled||je.intersectsObject(O))){const ft=R.update(O),Dt=O.material;if(oe&&(void 0!==O.boundingSphere?(null===O.boundingSphere&&O.computeBoundingSphere(),Gt.copy(O.boundingSphere.center)):(null===ft.boundingSphere&&ft.computeBoundingSphere(),Gt.copy(ft.boundingSphere.center)),Gt.applyMatrix4(O.matrixWorld).applyMatrix4(At)),Array.isArray(Dt)){const kt=ft.groups;for(let en=0,jt=kt.length;en<jt;en++){const Zt=kt[en],hi=Dt[Zt.materialIndex];hi&&hi.visible&&x.push(O,ft,hi,ie,Gt.z,Zt)}}else Dt.visible&&x.push(O,ft,Dt,ie,Gt.z,null)}const Qe=O.children;for(let ft=0,Dt=Qe.length;ft<Dt;ft++)Jo(Qe[ft],Y,ie,oe)}function eU(O,Y,ie,oe){const ae=O.opaque,Qe=O.transmissive,ft=O.transparent;_.setupLightsView(ie),!0===Je&&ct.setGlobalState(M.clippingPlanes,ie),Qe.length>0&&function fae(O,Y,ie,oe){if(null!==(!0===ie.isScene?ie.overrideMaterial:null))return;const Qe=Te.isWebGL2;null===Mt&&(Mt=new Da(1,1,{generateMipmaps:!0,type:me.has("EXT_color_buffer_half_float")?h0:Tu,minFilter:kl,samples:Qe?4:0})),M.getDrawingBufferSize(wt),Qe?Mt.setSize(wt.x,wt.y):Mt.setSize(N4(wt.x),N4(wt.y));const ft=M.getRenderTarget();M.setRenderTarget(Mt),M.getClearColor(Ee),j=M.getClearAlpha(),j<1&&M.setClearColor(16777215,.5),M.clear();const Dt=M.toneMapping;M.toneMapping=Du,j_(O,ie,oe),rt.updateMultisampleRenderTarget(Mt),rt.updateRenderTargetMipmap(Mt);let kt=!1;for(let en=0,jt=Y.length;en<jt;en++){const Zt=Y[en],hi=Zt.object,ps=Zt.geometry,zi=Zt.material,Ua=Zt.group;if(2===zi.side&&hi.layers.test(oe.layers)){const si=zi.side;zi.side=1,zi.needsUpdate=!0,tU(hi,ie,oe,ps,zi,Ua),zi.side=si,zi.needsUpdate=!0,kt=!0}}!0===kt&&(rt.updateMultisampleRenderTarget(Mt),rt.updateRenderTargetMipmap(Mt)),M.setRenderTarget(ft),M.setClearColor(Ee,j),M.toneMapping=Dt}(ae,Qe,Y,ie),oe&&be.viewport(F.copy(oe)),ae.length>0&&j_(ae,Y,ie),Qe.length>0&&j_(Qe,Y,ie),ft.length>0&&j_(ft,Y,ie),be.buffers.depth.setTest(!0),be.buffers.depth.setMask(!0),be.buffers.color.setMask(!0),be.setPolygonOffset(!1)}function j_(O,Y,ie){const oe=!0===Y.isScene?Y.overrideMaterial:null;for(let ae=0,Qe=O.length;ae<Qe;ae++){const ft=O[ae],Dt=ft.object,kt=ft.geometry,en=null===oe?ft.material:oe,jt=ft.group;Dt.layers.test(ie.layers)&&tU(Dt,Y,ie,kt,en,jt)}}function tU(O,Y,ie,oe,ae,Qe){O.onBeforeRender(M,Y,ie,oe,ae,Qe),O.modelViewMatrix.multiplyMatrices(ie.matrixWorldInverse,O.matrixWorld),O.normalMatrix.getNormalMatrix(O.modelViewMatrix),ae.onBeforeRender(M,Y,ie,oe,O,Qe),!0===ae.transparent&&2===ae.side&&!1===ae.forceSinglePass?(ae.side=1,ae.needsUpdate=!0,M.renderBufferDirect(ie,Y,oe,ae,O,Qe),ae.side=0,ae.needsUpdate=!0,M.renderBufferDirect(ie,Y,oe,ae,O,Qe),ae.side=2):M.renderBufferDirect(ie,Y,oe,ae,O,Qe),O.onAfterRender(M,Y,ie,oe,ae,Qe)}function $_(O,Y,ie){!0!==Y.isScene&&(Y=fn);const oe=Ze.get(O),ae=_.state.lights,ft=ae.state.version,Dt=te.getParameters(O,ae.state,_.state.shadowsArray,Y,ie),kt=te.getProgramCacheKey(Dt);let en=oe.programs;oe.environment=O.isMeshStandardMaterial?Y.environment:null,oe.fog=Y.fog,oe.envMap=(O.isMeshStandardMaterial?sn:Vt).get(O.envMap||oe.environment),void 0===en&&(O.addEventListener("dispose",ke),en=new Map,oe.programs=en);let jt=en.get(kt);if(void 0!==jt){if(oe.currentProgram===jt&&oe.lightsStateVersion===ft)return iU(O,Dt),jt}else Dt.uniforms=te.getUniforms(O),O.onBuild(ie,Dt,M),O.onBeforeCompile(Dt,M),jt=te.acquireProgram(Dt,kt),en.set(kt,jt),oe.uniforms=Dt.uniforms;const Zt=oe.uniforms;return(!O.isShaderMaterial&&!O.isRawShaderMaterial||!0===O.clipping)&&(Zt.clippingPlanes=ct.uniform),iU(O,Dt),oe.needsLights=function mae(O){return O.isMeshLambertMaterial||O.isMeshToonMaterial||O.isMeshPhongMaterial||O.isMeshStandardMaterial||O.isShadowMaterial||O.isShaderMaterial&&!0===O.lights}(O),oe.lightsStateVersion=ft,oe.needsLights&&(Zt.ambientLightColor.value=ae.state.ambient,Zt.lightProbe.value=ae.state.probe,Zt.directionalLights.value=ae.state.directional,Zt.directionalLightShadows.value=ae.state.directionalShadow,Zt.spotLights.value=ae.state.spot,Zt.spotLightShadows.value=ae.state.spotShadow,Zt.rectAreaLights.value=ae.state.rectArea,Zt.ltc_1.value=ae.state.rectAreaLTC1,Zt.ltc_2.value=ae.state.rectAreaLTC2,Zt.pointLights.value=ae.state.point,Zt.pointLightShadows.value=ae.state.pointShadow,Zt.hemisphereLights.value=ae.state.hemi,Zt.directionalShadowMap.value=ae.state.directionalShadowMap,Zt.directionalShadowMatrix.value=ae.state.directionalShadowMatrix,Zt.spotShadowMap.value=ae.state.spotShadowMap,Zt.spotLightMatrix.value=ae.state.spotLightMatrix,Zt.spotLightMap.value=ae.state.spotLightMap,Zt.pointShadowMap.value=ae.state.pointShadowMap,Zt.pointShadowMatrix.value=ae.state.pointShadowMatrix),oe.currentProgram=jt,oe.uniformsList=null,jt}function nU(O){if(null===O.uniformsList){const Y=O.currentProgram.getUniforms();O.uniformsList=o_.seqWithValue(Y.seq,O.uniforms)}return O.uniformsList}function iU(O,Y){const ie=Ze.get(O);ie.outputColorSpace=Y.outputColorSpace,ie.instancing=Y.instancing,ie.instancingColor=Y.instancingColor,ie.skinning=Y.skinning,ie.morphTargets=Y.morphTargets,ie.morphNormals=Y.morphNormals,ie.morphColors=Y.morphColors,ie.morphTargetsCount=Y.morphTargetsCount,ie.numClippingPlanes=Y.numClippingPlanes,ie.numIntersection=Y.numClipIntersection,ie.vertexAlphas=Y.vertexAlphas,ie.vertexTangents=Y.vertexTangents,ie.toneMapping=Y.toneMapping}wr.setAnimationLoop(function wi(O){vn&&vn(O)}),typeof self<"u"&&wr.setContext(self),this.setAnimationLoop=function(O){vn=O,et.setAnimationLoop(O),null===O?wr.stop():wr.start()},et.addEventListener("sessionstart",Fs),et.addEventListener("sessionend",Hn),this.render=function(O,Y){if(void 0===Y||!0===Y.isCamera){if(!0!==D){if(!0===O.matrixWorldAutoUpdate&&O.updateMatrixWorld(),null===Y.parent&&!0===Y.matrixWorldAutoUpdate&&Y.updateMatrixWorld(),!0===et.enabled&&!0===et.isPresenting&&(!0===et.cameraAutoUpdate&&et.updateCamera(Y),Y=et.getCamera()),!0===O.isScene&&O.onBeforeRender(M,O,Y,U),_=Le.get(O,w.length),_.init(),w.push(_),At.multiplyMatrices(Y.projectionMatrix,Y.matrixWorldInverse),je.setFromProjectionMatrix(At),tt=this.localClippingEnabled,Je=ct.init(this.clippingPlanes,tt),x=Ce.get(O,v.length),x.init(),v.push(x),Jo(O,Y,0,M.sortObjects),x.finish(),!0===M.sortObjects&&x.sort(Ne,xe),this.info.render.frame++,!0===Je&&ct.beginShadows(),Ue.render(_.state.shadowsArray,O,Y),!0===Je&&ct.endShadows(),!0===this.info.autoReset&&this.info.reset(),Xe.render(x,O),_.setupLights(M._useLegacyLights),Y.isArrayCamera){const oe=Y.cameras;for(let ae=0,Qe=oe.length;ae<Qe;ae++){const ft=oe[ae];eU(x,O,ft,ft.viewport)}}else eU(x,O,Y);null!==U&&(rt.updateMultisampleRenderTarget(U),rt.updateRenderTargetMipmap(U)),!0===O.isScene&&O.onAfterRender(M,O,Y),Wt.resetDefaultState(),W=-1,I=null,w.pop(),_=w.length>0?w[w.length-1]:null,v.pop(),x=v.length>0?v[v.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return T},this.getActiveMipmapLevel=function(){return P},this.getRenderTarget=function(){return U},this.setRenderTargetTextures=function(O,Y,ie){Ze.get(O.texture).__webglTexture=Y,Ze.get(O.depthTexture).__webglTexture=ie;const oe=Ze.get(O);oe.__hasExternalTextures=!0,oe.__hasExternalTextures&&(oe.__autoAllocateDepthBuffer=void 0===ie,oe.__autoAllocateDepthBuffer||!0===me.has("WEBGL_multisampled_render_to_texture")&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),oe.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(O,Y){const ie=Ze.get(O);ie.__webglFramebuffer=Y,ie.__useDefaultFramebuffer=void 0===Y},this.setRenderTarget=function(O,Y=0,ie=0){U=O,T=Y,P=ie;let oe=!0,ae=null,Qe=!1,ft=!1;if(O){const kt=Ze.get(O);void 0!==kt.__useDefaultFramebuffer?(be.bindFramebuffer(G.FRAMEBUFFER,null),oe=!1):void 0===kt.__webglFramebuffer?rt.setupRenderTarget(O):kt.__hasExternalTextures&&rt.rebindTextures(O,Ze.get(O.texture).__webglTexture,Ze.get(O.depthTexture).__webglTexture);const en=O.texture;(en.isData3DTexture||en.isDataArrayTexture||en.isCompressedArrayTexture)&&(ft=!0);const jt=Ze.get(O).__webglFramebuffer;O.isWebGLCubeRenderTarget?(ae=Array.isArray(jt[Y])?jt[Y][ie]:jt[Y],Qe=!0):ae=Te.isWebGL2&&O.samples>0&&!1===rt.useMultisampledRTT(O)?Ze.get(O).__webglMultisampledFramebuffer:Array.isArray(jt)?jt[ie]:jt,F.copy(O.viewport),J.copy(O.scissor),ve=O.scissorTest}else F.copy(we).multiplyScalar(pe).floor(),J.copy(q).multiplyScalar(pe).floor(),ve=fe;if(be.bindFramebuffer(G.FRAMEBUFFER,ae)&&Te.drawBuffers&&oe&&be.drawBuffers(O,ae),be.viewport(F),be.scissor(J),be.setScissorTest(ve),Qe){const kt=Ze.get(O.texture);G.framebufferTexture2D(G.FRAMEBUFFER,G.COLOR_ATTACHMENT0,G.TEXTURE_CUBE_MAP_POSITIVE_X+Y,kt.__webglTexture,ie)}else if(ft){const kt=Ze.get(O.texture);G.framebufferTextureLayer(G.FRAMEBUFFER,G.COLOR_ATTACHMENT0,kt.__webglTexture,ie||0,Y||0)}W=-1},this.readRenderTargetPixels=function(O,Y,ie,oe,ae,Qe,ft){if(!O||!O.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Dt=Ze.get(O).__webglFramebuffer;if(O.isWebGLCubeRenderTarget&&void 0!==ft&&(Dt=Dt[ft]),Dt){be.bindFramebuffer(G.FRAMEBUFFER,Dt);try{const kt=O.texture,en=kt.format,jt=kt.type;if(en!==Ps&&Tn.convert(en)!==G.getParameter(G.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");const Zt=jt===h0&&(me.has("EXT_color_buffer_half_float")||Te.isWebGL2&&me.has("EXT_color_buffer_float"));if(!(jt===Tu||Tn.convert(jt)===G.getParameter(G.IMPLEMENTATION_COLOR_READ_TYPE)||jt===wa&&(Te.isWebGL2||me.has("OES_texture_float")||me.has("WEBGL_color_buffer_float"))||Zt))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");Y>=0&&Y<=O.width-oe&&ie>=0&&ie<=O.height-ae&&G.readPixels(Y,ie,oe,ae,Tn.convert(en),Tn.convert(jt),Qe)}finally{const kt=null!==U?Ze.get(U).__webglFramebuffer:null;be.bindFramebuffer(G.FRAMEBUFFER,kt)}}},this.copyFramebufferToTexture=function(O,Y,ie=0){const oe=Math.pow(2,-ie),ae=Math.floor(Y.image.width*oe),Qe=Math.floor(Y.image.height*oe);rt.setTexture2D(Y,0),G.copyTexSubImage2D(G.TEXTURE_2D,ie,0,0,O.x,O.y,ae,Qe),be.unbindTexture()},this.copyTextureToTexture=function(O,Y,ie,oe=0){const ae=Y.image.width,Qe=Y.image.height,ft=Tn.convert(ie.format),Dt=Tn.convert(ie.type);rt.setTexture2D(ie,0),G.pixelStorei(G.UNPACK_FLIP_Y_WEBGL,ie.flipY),G.pixelStorei(G.UNPACK_PREMULTIPLY_ALPHA_WEBGL,ie.premultiplyAlpha),G.pixelStorei(G.UNPACK_ALIGNMENT,ie.unpackAlignment),Y.isDataTexture?G.texSubImage2D(G.TEXTURE_2D,oe,O.x,O.y,ae,Qe,ft,Dt,Y.image.data):Y.isCompressedTexture?G.compressedTexSubImage2D(G.TEXTURE_2D,oe,O.x,O.y,Y.mipmaps[0].width,Y.mipmaps[0].height,ft,Y.mipmaps[0].data):G.texSubImage2D(G.TEXTURE_2D,oe,O.x,O.y,ft,Dt,Y.image),0===oe&&ie.generateMipmaps&&G.generateMipmap(G.TEXTURE_2D),be.unbindTexture()},this.copyTextureToTexture3D=function(O,Y,ie,oe,ae=0){if(M.isWebGL1Renderer)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");const Qe=O.max.x-O.min.x+1,ft=O.max.y-O.min.y+1,Dt=O.max.z-O.min.z+1,kt=Tn.convert(oe.format),en=Tn.convert(oe.type);let jt;if(oe.isData3DTexture)rt.setTexture3D(oe,0),jt=G.TEXTURE_3D;else{if(!oe.isDataArrayTexture)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");rt.setTexture2DArray(oe,0),jt=G.TEXTURE_2D_ARRAY}G.pixelStorei(G.UNPACK_FLIP_Y_WEBGL,oe.flipY),G.pixelStorei(G.UNPACK_PREMULTIPLY_ALPHA_WEBGL,oe.premultiplyAlpha),G.pixelStorei(G.UNPACK_ALIGNMENT,oe.unpackAlignment);const Zt=G.getParameter(G.UNPACK_ROW_LENGTH),hi=G.getParameter(G.UNPACK_IMAGE_HEIGHT),ps=G.getParameter(G.UNPACK_SKIP_PIXELS),zi=G.getParameter(G.UNPACK_SKIP_ROWS),Ua=G.getParameter(G.UNPACK_SKIP_IMAGES),si=ie.isCompressedTexture?ie.mipmaps[0]:ie.image;G.pixelStorei(G.UNPACK_ROW_LENGTH,si.width),G.pixelStorei(G.UNPACK_IMAGE_HEIGHT,si.height),G.pixelStorei(G.UNPACK_SKIP_PIXELS,O.min.x),G.pixelStorei(G.UNPACK_SKIP_ROWS,O.min.y),G.pixelStorei(G.UNPACK_SKIP_IMAGES,O.min.z),ie.isDataTexture||ie.isData3DTexture?G.texSubImage3D(jt,ae,Y.x,Y.y,Y.z,Qe,ft,Dt,kt,en,si.data):ie.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),G.compressedTexSubImage3D(jt,ae,Y.x,Y.y,Y.z,Qe,ft,Dt,kt,si.data)):G.texSubImage3D(jt,ae,Y.x,Y.y,Y.z,Qe,ft,Dt,kt,en,si),G.pixelStorei(G.UNPACK_ROW_LENGTH,Zt),G.pixelStorei(G.UNPACK_IMAGE_HEIGHT,hi),G.pixelStorei(G.UNPACK_SKIP_PIXELS,ps),G.pixelStorei(G.UNPACK_SKIP_ROWS,zi),G.pixelStorei(G.UNPACK_SKIP_IMAGES,Ua),0===ae&&oe.generateMipmaps&&G.generateMipmap(jt),be.unbindTexture()},this.initTexture=function(O){O.isCubeTexture?rt.setTextureCube(O,0):O.isData3DTexture?rt.setTexture3D(O,0):O.isDataArrayTexture||O.isCompressedArrayTexture?rt.setTexture2DArray(O,0):rt.setTexture2D(O,0),be.unbindTexture()},this.resetState=function(){T=0,P=0,U=null,be.reset(),Wt.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Ca}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const t=this.getContext();t.drawingBufferColorSpace=e===AM?"display-p3":"srgb",t.unpackColorSpace=Dn.workingColorSpace===A4?"display-p3":"srgb"}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===Bi?Vl:3e3}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===Vl?Bi:Sa}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}(class ire extends TF{}).prototype.isWebGL1Renderer=!0;class IF extends Ns{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,t){return super.copy(e,t),null!==e.background&&(this.background=e.background.clone()),null!==e.environment&&(this.environment=e.environment.clone()),null!==e.fog&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const t=super.toJSON(e);return null!==this.fog&&(t.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(t.object.backgroundBlurriness=this.backgroundBlurriness),1!==this.backgroundIntensity&&(t.object.backgroundIntensity=this.backgroundIntensity),t}}class Xo{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,t){const i=this.getUtoTmapping(e);return this.getPoint(i,t)}getPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return t}getSpacedPoints(e=5){const t=[];for(let i=0;i<=e;i++)t.push(this.getPointAt(i/e));return t}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const t=[];let i,r=this.getPoint(0),s=0;t.push(0);for(let o=1;o<=e;o++)i=this.getPoint(o/e),s+=i.distanceTo(r),t.push(s),r=i;return this.cacheArcLengths=t,t}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,t){const i=this.getLengths();let r=0;const s=i.length;let o;o=t||e*i[s-1];let l,a=0,u=s-1;for(;a<=u;)if(r=Math.floor(a+(u-a)/2),l=i[r]-o,l<0)a=r+1;else{if(!(l>0)){u=r;break}u=r-1}if(r=u,i[r]===o)return r/(s-1);const c=i[r];return(r+(o-c)/(i[r+1]-c))/(s-1)}getTangent(e,t){let r=e-1e-4,s=e+1e-4;r<0&&(r=0),s>1&&(s=1);const o=this.getPoint(r),a=this.getPoint(s),u=t||(o.isVector2?new _e:new k);return u.copy(a).sub(o).normalize(),u}getTangentAt(e,t){const i=this.getUtoTmapping(e);return this.getTangent(i,t)}computeFrenetFrames(e,t){const i=new k,r=[],s=[],o=[],a=new k,u=new zt;for(let p=0;p<=e;p++)r[p]=this.getTangentAt(p/e,new k);s[0]=new k,o[0]=new k;let l=Number.MAX_VALUE;const c=Math.abs(r[0].x),f=Math.abs(r[0].y),h=Math.abs(r[0].z);c<=l&&(l=c,i.set(1,0,0)),f<=l&&(l=f,i.set(0,1,0)),h<=l&&i.set(0,0,1),a.crossVectors(r[0],i).normalize(),s[0].crossVectors(r[0],a),o[0].crossVectors(r[0],s[0]);for(let p=1;p<=e;p++){if(s[p]=s[p-1].clone(),o[p]=o[p-1].clone(),a.crossVectors(r[p-1],r[p]),a.length()>Number.EPSILON){a.normalize();const g=Math.acos(ni(r[p-1].dot(r[p]),-1,1));s[p].applyMatrix4(u.makeRotationAxis(a,g))}o[p].crossVectors(r[p],s[p])}if(!0===t){let p=Math.acos(ni(s[0].dot(s[e]),-1,1));p/=e,r[0].dot(a.crossVectors(s[0],s[e]))>0&&(p=-p);for(let g=1;g<=e;g++)s[g].applyMatrix4(u.makeRotationAxis(r[g],p*g)),o[g].crossVectors(r[g],s[g])}return{tangents:r,normals:s,binormals:o}}clone(){return(new this.constructor).copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class mw extends Xo{constructor(e=0,t=0,i=1,r=1,s=0,o=2*Math.PI,a=!1,u=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=r,this.aStartAngle=s,this.aEndAngle=o,this.aClockwise=a,this.aRotation=u}getPoint(e,t){const i=t||new _e,r=2*Math.PI;let s=this.aEndAngle-this.aStartAngle;const o=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=r;for(;s>r;)s-=r;s<Number.EPSILON&&(s=o?0:r),!0===this.aClockwise&&!o&&(s===r?s=-r:s-=r);const a=this.aStartAngle+e*s;let u=this.aX+this.xRadius*Math.cos(a),l=this.aY+this.yRadius*Math.sin(a);if(0!==this.aRotation){const c=Math.cos(this.aRotation),f=Math.sin(this.aRotation),h=u-this.aX,p=l-this.aY;u=h*c-p*f+this.aX,l=h*f+p*c+this.aY}return i.set(u,l)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}function gw(){let n=0,e=0,t=0,i=0;function r(s,o,a,u){n=s,e=a,t=-3*s+3*o-2*a-u,i=2*s-2*o+a+u}return{initCatmullRom:function(s,o,a,u,l){r(o,a,l*(a-s),l*(u-o))},initNonuniformCatmullRom:function(s,o,a,u,l,c,f){let h=(o-s)/l-(a-s)/(l+c)+(a-o)/c,p=(a-o)/c-(u-o)/(c+f)+(u-a)/f;h*=c,p*=c,r(o,a,h,p)},calc:function(s){const o=s*s;return n+e*s+t*o+i*(o*s)}}}const v_=new k,vw=new gw,_w=new gw,yw=new gw;function tk(n,e,t,i,r){const s=.5*(i-e),o=.5*(r-t),a=n*n;return(2*t-2*i+s+o)*(n*a)+(-3*t+3*i-2*s-o)*a+s*n+t}function O0(n,e,t,i){return function gre(n,e){const t=1-n;return t*t*e}(n,e)+function vre(n,e){return 2*(1-n)*n*e}(n,t)+function _re(n,e){return n*n*e}(n,i)}function N0(n,e,t,i,r){return function yre(n,e){const t=1-n;return t*t*t*e}(n,e)+function xre(n,e){const t=1-n;return 3*t*t*n*e}(n,t)+function bre(n,e){return 3*(1-n)*n*n*e}(n,i)+function Ere(n,e){return n*n*n*e}(n,r)}class nk extends Xo{constructor(e=new _e,t=new _e,i=new _e,r=new _e){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new _e){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(N0(e,r.x,s.x,o.x,a.x),N0(e,r.y,s.y,o.y,a.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class ik extends Xo{constructor(e=new _e,t=new _e){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=t}getPoint(e,t=new _e){const i=t;return 1===e?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new _e){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class rk extends Xo{constructor(e=new _e,t=new _e,i=new _e){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new _e){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(O0(e,r.x,s.x,o.x),O0(e,r.y,s.y,o.y)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class ok extends Xo{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,t=new _e){const i=t,r=this.points,s=(r.length-1)*e,o=Math.floor(s),a=s-o,u=r[0===o?o:o-1],l=r[o],c=r[o>r.length-2?r.length-1:o+1],f=r[o>r.length-3?r.length-1:o+2];return i.set(tk(a,u.x,l.x,c.x,f.x),tk(a,u.y,l.y,c.y,f.y)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++)this.points.push(e.points[t].clone());return this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++)e.points.push(this.points[t].toArray());return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push((new _e).fromArray(r))}return this}}var __=Object.freeze({__proto__:null,ArcCurve:class pre extends mw{constructor(e,t,i,r,s,o){super(e,t,i,i,r,s,o),this.isArcCurve=!0,this.type="ArcCurve"}},CatmullRomCurve3:class mre extends Xo{constructor(e=[],t=!1,i="centripetal",r=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=t,this.curveType=i,this.tension=r}getPoint(e,t=new k){const i=t,r=this.points,s=r.length,o=(s-(this.closed?0:1))*e;let l,c,a=Math.floor(o),u=o-a;this.closed?a+=a>0?0:(Math.floor(Math.abs(a)/s)+1)*s:0===u&&a===s-1&&(a=s-2,u=1),this.closed||a>0?l=r[(a-1)%s]:(v_.subVectors(r[0],r[1]).add(r[0]),l=v_);const f=r[a%s],h=r[(a+1)%s];if(this.closed||a+2<s?c=r[(a+2)%s]:(v_.subVectors(r[s-1],r[s-2]).add(r[s-1]),c=v_),"centripetal"===this.curveType||"chordal"===this.curveType){const p="chordal"===this.curveType?.5:.25;let g=Math.pow(l.distanceToSquared(f),p),x=Math.pow(f.distanceToSquared(h),p),_=Math.pow(h.distanceToSquared(c),p);x<1e-4&&(x=1),g<1e-4&&(g=x),_<1e-4&&(_=x),vw.initNonuniformCatmullRom(l.x,f.x,h.x,c.x,g,x,_),_w.initNonuniformCatmullRom(l.y,f.y,h.y,c.y,g,x,_),yw.initNonuniformCatmullRom(l.z,f.z,h.z,c.z,g,x,_)}else"catmullrom"===this.curveType&&(vw.initCatmullRom(l.x,f.x,h.x,c.x,this.tension),_w.initCatmullRom(l.y,f.y,h.y,c.y,this.tension),yw.initCatmullRom(l.z,f.z,h.z,c.z,this.tension));return i.set(vw.calc(u),_w.calc(u),yw.calc(u)),i}copy(e){super.copy(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++)this.points.push(e.points[t].clone());return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let t=0,i=this.points.length;t<i;t++)e.points.push(this.points[t].toArray());return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let t=0,i=e.points.length;t<i;t++){const r=e.points[t];this.points.push((new k).fromArray(r))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}},CubicBezierCurve:nk,CubicBezierCurve3:class Mre extends Xo{constructor(e=new k,t=new k,i=new k,r=new k){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=t,this.v2=i,this.v3=r}getPoint(e,t=new k){const i=t,r=this.v0,s=this.v1,o=this.v2,a=this.v3;return i.set(N0(e,r.x,s.x,o.x,a.x),N0(e,r.y,s.y,o.y,a.y),N0(e,r.z,s.z,o.z,a.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}},EllipseCurve:mw,LineCurve:ik,LineCurve3:class wre extends Xo{constructor(e=new k,t=new k){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=t}getPoint(e,t=new k){const i=t;return 1===e?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(e).add(this.v1)),i}getPointAt(e,t){return this.getPoint(e,t)}getTangent(e,t=new k){return t.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,t){return this.getTangent(e,t)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},QuadraticBezierCurve:rk,QuadraticBezierCurve3:class sk extends Xo{constructor(e=new k,t=new k,i=new k){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=t,this.v2=i}getPoint(e,t=new k){const i=t,r=this.v0,s=this.v1,o=this.v2;return i.set(O0(e,r.x,s.x,o.x),O0(e,r.y,s.y,o.y),O0(e,r.z,s.z,o.z)),i}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}},SplineCurve:ok});class Sre extends Xo{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);return e.equals(t)||this.curves.push(new __[!0===e.isVector2?"LineCurve":"LineCurve3"](t,e)),this}getPoint(e,t){const i=e*this.getLength(),r=this.getCurveLengths();let s=0;for(;s<r.length;){if(r[s]>=i){const o=r[s]-i,a=this.curves[s],u=a.getLength();return a.getPointAt(0===u?0:1-o/u,t)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let t=0;for(let i=0,r=this.curves.length;i<r;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e,e}getSpacedPoints(e=40){const t=[];for(let i=0;i<=e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t}getPoints(e=12){const t=[];let i;for(let r=0,s=this.curves;r<s.length;r++){const o=s[r],u=o.getPoints(o.isEllipseCurve?2*e:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e);for(let l=0;l<u.length;l++){const c=u[l];i&&i.equals(c)||(t.push(c),i=c)}}return this.autoClose&&t.length>1&&!t[t.length-1].equals(t[0])&&t.push(t[0]),t}copy(e){super.copy(e),this.curves=[];for(let t=0,i=e.curves.length;t<i;t++)this.curves.push(e.curves[t].clone());return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let t=0,i=this.curves.length;t<i;t++)e.curves.push(this.curves[t].toJSON());return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let t=0,i=e.curves.length;t<i;t++){const r=e.curves[t];this.curves.push((new __[r.type]).fromJSON(r))}return this}}class y_ extends Sre{constructor(e){super(),this.type="Path",this.currentPoint=new _e,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y);return this}moveTo(e,t){return this.currentPoint.set(e,t),this}lineTo(e,t){const i=new ik(this.currentPoint.clone(),new _e(e,t));return this.curves.push(i),this.currentPoint.set(e,t),this}quadraticCurveTo(e,t,i,r){const s=new rk(this.currentPoint.clone(),new _e(e,t),new _e(i,r));return this.curves.push(s),this.currentPoint.set(i,r),this}bezierCurveTo(e,t,i,r,s,o){const a=new nk(this.currentPoint.clone(),new _e(e,t),new _e(i,r),new _e(s,o));return this.curves.push(a),this.currentPoint.set(s,o),this}splineThru(e){const t=[this.currentPoint.clone()].concat(e),i=new ok(t);return this.curves.push(i),this.currentPoint.copy(e[e.length-1]),this}arc(e,t,i,r,s,o){return this.absarc(e+this.currentPoint.x,t+this.currentPoint.y,i,r,s,o),this}absarc(e,t,i,r,s,o){return this.absellipse(e,t,i,i,r,s,o),this}ellipse(e,t,i,r,s,o,a,u){return this.absellipse(e+this.currentPoint.x,t+this.currentPoint.y,i,r,s,o,a,u),this}absellipse(e,t,i,r,s,o,a,u){const l=new mw(e,t,i,r,s,o,a,u);if(this.curves.length>0){const f=l.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(l);const c=l.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Wf extends y_{constructor(e){super(e),this.uuid=us(),this.type="Shape",this.holes=[]}getPointsHoles(e){const t=[];for(let i=0,r=this.holes.length;i<r;i++)t[i]=this.holes[i].getPoints(e);return t}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let t=0,i=e.holes.length;t<i;t++)this.holes.push(e.holes[t].clone());return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let t=0,i=this.holes.length;t<i;t++)e.holes.push(this.holes[t].toJSON());return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let t=0,i=e.holes.length;t<i;t++){const r=e.holes[t];this.holes.push((new y_).fromJSON(r))}return this}}function ak(n,e,t,i,r){let s,o;if(r===function Gre(n,e,t,i){let r=0;for(let s=e,o=t-i;s<t;s+=i)r+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return r}(n,e,t,i)>0)for(s=e;s<t;s+=i)o=ck(s,n[s],n[s+1],o);else for(s=t-i;s>=e;s-=i)o=ck(s,n[s],n[s+1],o);return o&&w_(o,o.next)&&(U0(o),o=o.next),o}function Jl(n,e){if(!n)return n;e||(e=n);let i,t=n;do{if(i=!1,t.steiner||!w_(t,t.next)&&0!==Kn(t.prev,t,t.next))t=t.next;else{if(U0(t),t=e=t.prev,t===t.next)break;i=!0}}while(i||t!==e);return e}function F0(n,e,t,i,r,s,o){if(!n)return;!o&&s&&function kre(n,e,t,i){let r=n;do{0===r.z&&(r.z=Sw(r.x,r.y,e,t,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==n);r.prevZ.nextZ=null,r.prevZ=null,function Ure(n){let e,t,i,r,s,o,a,u,l=1;do{for(t=n,n=null,s=null,o=0;t;){for(o++,i=t,a=0,e=0;e<l&&(a++,i=i.nextZ,i);e++);for(u=l;a>0||u>0&&i;)0!==a&&(0===u||!i||t.z<=i.z)?(r=t,t=t.nextZ,a--):(r=i,i=i.nextZ,u--),s?s.nextZ=r:n=r,r.prevZ=s,s=r;t=i}s.nextZ=null,l*=2}while(o>1)}(r)}(n,i,r,s);let u,l,a=n;for(;n.prev!==n.next;)if(u=n.prev,l=n.next,s?Tre(n,i,r,s):Are(n))e.push(u.i/t|0),e.push(n.i/t|0),e.push(l.i/t|0),U0(n),n=l.next,a=l.next;else if((n=l)===a){o?1===o?F0(n=Ire(Jl(n),e,t),e,t,i,r,s,2):2===o&&Rre(n,e,t,i,r,s):F0(Jl(n),e,t,i,r,s,1);break}}function Are(n){const e=n.prev,t=n,i=n.next;if(Kn(e,t,i)>=0)return!1;const r=e.x,s=t.x,o=i.x,a=e.y,u=t.y,l=i.y,c=r<s?r<o?r:o:s<o?s:o,f=a<u?a<l?a:l:u<l?u:l,h=r>s?r>o?r:o:s>o?s:o,p=a>u?a>l?a:l:u>l?u:l;let g=i.next;for(;g!==e;){if(g.x>=c&&g.x<=h&&g.y>=f&&g.y<=p&&jf(r,a,s,u,o,l,g.x,g.y)&&Kn(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function Tre(n,e,t,i){const r=n.prev,s=n,o=n.next;if(Kn(r,s,o)>=0)return!1;const a=r.x,u=s.x,l=o.x,c=r.y,f=s.y,h=o.y,p=a<u?a<l?a:l:u<l?u:l,g=c<f?c<h?c:h:f<h?f:h,x=a>u?a>l?a:l:u>l?u:l,_=c>f?c>h?c:h:f>h?f:h,v=Sw(p,g,e,t,i),w=Sw(x,_,e,t,i);let M=n.prevZ,D=n.nextZ;for(;M&&M.z>=v&&D&&D.z<=w;){if(M.x>=p&&M.x<=x&&M.y>=g&&M.y<=_&&M!==r&&M!==o&&jf(a,c,u,f,l,h,M.x,M.y)&&Kn(M.prev,M,M.next)>=0||(M=M.prevZ,D.x>=p&&D.x<=x&&D.y>=g&&D.y<=_&&D!==r&&D!==o&&jf(a,c,u,f,l,h,D.x,D.y)&&Kn(D.prev,D,D.next)>=0))return!1;D=D.nextZ}for(;M&&M.z>=v;){if(M.x>=p&&M.x<=x&&M.y>=g&&M.y<=_&&M!==r&&M!==o&&jf(a,c,u,f,l,h,M.x,M.y)&&Kn(M.prev,M,M.next)>=0)return!1;M=M.prevZ}for(;D&&D.z<=w;){if(D.x>=p&&D.x<=x&&D.y>=g&&D.y<=_&&D!==r&&D!==o&&jf(a,c,u,f,l,h,D.x,D.y)&&Kn(D.prev,D,D.next)>=0)return!1;D=D.nextZ}return!0}function Ire(n,e,t){let i=n;do{const r=i.prev,s=i.next.next;!w_(r,s)&&uk(r,i,i.next,s)&&k0(r,s)&&k0(s,r)&&(e.push(r.i/t|0),e.push(i.i/t|0),e.push(s.i/t|0),U0(i),U0(i.next),i=n=s),i=i.next}while(i!==n);return Jl(i)}function Rre(n,e,t,i,r,s){let o=n;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&Vre(o,a)){let u=lk(o,a);return o=Jl(o,o.next),u=Jl(u,u.next),F0(o,e,t,i,r,s,0),void F0(u,e,t,i,r,s,0)}a=a.next}o=o.next}while(o!==n)}function Ore(n,e){return n.x-e.x}function Nre(n,e){const t=function Lre(n,e){let r,t=e,i=-1/0;const s=n.x,o=n.y;do{if(o<=t.y&&o>=t.next.y&&t.next.y!==t.y){const h=t.x+(o-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(h<=s&&h>i&&(i=h,r=t.x<t.next.x?t:t.next,h===s))return r}t=t.next}while(t!==e);if(!r)return null;const a=r,u=r.x,l=r.y;let f,c=1/0;t=r;do{s>=t.x&&t.x>=u&&s!==t.x&&jf(o<l?s:i,o,u,l,o<l?i:s,o,t.x,t.y)&&(f=Math.abs(o-t.y)/(s-t.x),k0(t,n)&&(f<c||f===c&&(t.x>r.x||t.x===r.x&&Fre(r,t)))&&(r=t,c=f)),t=t.next}while(t!==a);return r}(n,e);if(!t)return e;const i=lk(t,n);return Jl(i,i.next),Jl(t,t.next)}function Fre(n,e){return Kn(n.prev,n,e.prev)<0&&Kn(e.next,n,n.next)<0}function Sw(n,e,t,i,r){return(n=1431655765&((n=858993459&((n=252645135&((n=16711935&((n=(n-t)*r|0)|n<<8))|n<<4))|n<<2))|n<<1))|(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-i)*r|0)|e<<8))|e<<4))|e<<2))|e<<1))<<1}function Bre(n){let e=n,t=n;do{(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next}while(e!==n);return t}function jf(n,e,t,i,r,s,o,a){return(r-o)*(e-a)>=(n-o)*(s-a)&&(n-o)*(i-a)>=(t-o)*(e-a)&&(t-o)*(s-a)>=(r-o)*(i-a)}function Vre(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!function Hre(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&uk(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}(n,e)&&(k0(n,e)&&k0(e,n)&&function zre(n,e){let t=n,i=!1;const r=(n.x+e.x)/2,s=(n.y+e.y)/2;do{t.y>s!=t.next.y>s&&t.next.y!==t.y&&r<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(i=!i),t=t.next}while(t!==n);return i}(n,e)&&(Kn(n.prev,n,e.prev)||Kn(n,e.prev,e))||w_(n,e)&&Kn(n.prev,n,n.next)>0&&Kn(e.prev,e,e.next)>0)}function Kn(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function w_(n,e){return n.x===e.x&&n.y===e.y}function uk(n,e,t,i){const r=C_(Kn(n,e,t)),s=C_(Kn(n,e,i)),o=C_(Kn(t,i,n)),a=C_(Kn(t,i,e));return!!(r!==s&&o!==a||0===r&&S_(n,t,e)||0===s&&S_(n,i,e)||0===o&&S_(t,n,i)||0===a&&S_(t,e,i))}function S_(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function C_(n){return n>0?1:n<0?-1:0}function k0(n,e){return Kn(n.prev,n,n.next)<0?Kn(n,e,n.next)>=0&&Kn(n,n.prev,e)>=0:Kn(n,e,n.prev)<0||Kn(n,n.next,e)<0}function lk(n,e){const t=new Cw(n.i,n.x,n.y),i=new Cw(e.i,e.x,e.y),r=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=r,r.prev=t,i.next=t,t.prev=i,s.next=i,i.prev=s,i}function ck(n,e,t,i){const r=new Cw(n,e,t);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function U0(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function Cw(n,e,t){this.i=n,this.x=e,this.y=t,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}class La{static area(e){const t=e.length;let i=0;for(let r=t-1,s=0;s<t;r=s++)i+=e[r].x*e[s].y-e[s].x*e[r].y;return.5*i}static isClockWise(e){return La.area(e)<0}static triangulateShape(e,t){const i=[],r=[],s=[];dk(e),fk(i,e);let o=e.length;t.forEach(dk);for(let u=0;u<t.length;u++)r.push(o),o+=t[u].length,fk(i,t[u]);const a=function(n,e,t=2){const i=e&&e.length,r=i?e[0]*t:n.length;let s=ak(n,0,r,t,!0);const o=[];if(!s||s.next===s.prev)return o;let a,u,l,c,f,h,p;if(i&&(s=function Pre(n,e,t,i){const r=[];let s,o,a,u,l;for(s=0,o=e.length;s<o;s++)a=e[s]*i,u=s<o-1?e[s+1]*i:n.length,l=ak(n,a,u,i,!1),l===l.next&&(l.steiner=!0),r.push(Bre(l));for(r.sort(Ore),s=0;s<r.length;s++)t=Nre(r[s],t);return t}(n,e,s,t)),n.length>80*t){a=l=n[0],u=c=n[1];for(let g=t;g<r;g+=t)f=n[g],h=n[g+1],f<a&&(a=f),h<u&&(u=h),f>l&&(l=f),h>c&&(c=h);p=Math.max(l-a,c-u),p=0!==p?32767/p:0}return F0(s,o,t,a,u,p,0),o}(i,r);for(let u=0;u<a.length;u+=3)s.push(a.slice(u,u+3));return s}}function dk(n){const e=n.length;e>2&&n[e-1].equals(n[0])&&n.pop()}function fk(n,e){for(let t=0;t<e.length;t++)n.push(e[t].x),n.push(e[t].y)}class D_ extends nn{constructor(e=new Wf([new _e(.5,.5),new _e(-.5,.5),new _e(-.5,-.5),new _e(.5,-.5)]),t={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:t},e=Array.isArray(e)?e:[e];const i=this,r=[],s=[];for(let a=0,u=e.length;a<u;a++)o(e[a]);function o(a){const u=[],l=void 0!==t.curveSegments?t.curveSegments:12,c=void 0!==t.steps?t.steps:1,f=void 0!==t.depth?t.depth:1;let h=void 0===t.bevelEnabled||t.bevelEnabled,p=void 0!==t.bevelThickness?t.bevelThickness:.2,g=void 0!==t.bevelSize?t.bevelSize:p-.1,x=void 0!==t.bevelOffset?t.bevelOffset:0,_=void 0!==t.bevelSegments?t.bevelSegments:3;const v=t.extrudePath,w=void 0!==t.UVGenerator?t.UVGenerator:Wre;let M,T,P,U,W,D=!1;v&&(M=v.getSpacedPoints(c),D=!0,h=!1,T=v.computeFrenetFrames(c,!1),P=new k,U=new k,W=new k),h||(_=0,p=0,g=0,x=0);const I=a.extractPoints(l);let F=I.shape;const J=I.holes;if(!La.isClockWise(F)){F=F.reverse();for(let G=0,ze=J.length;G<ze;G++){const me=J[G];La.isClockWise(me)&&(J[G]=me.reverse())}}const Ee=La.triangulateShape(F,J),j=F;for(let G=0,ze=J.length;G<ze;G++)F=F.concat(J[G]);function se(G,ze,me){return ze||console.error("THREE.ExtrudeGeometry: vec does not exist"),G.clone().addScaledVector(ze,me)}const ge=F.length,pe=Ee.length;function Ne(G,ze,me){let Te,be,mt;const Ze=G.x-ze.x,rt=G.y-ze.y,Vt=me.x-G.x,sn=me.y-G.y,ri=Ze*Ze+rt*rt;if(Math.abs(Ze*sn-rt*Vt)>Number.EPSILON){const R=Math.sqrt(ri),te=Math.sqrt(Vt*Vt+sn*sn),Re=ze.x-rt/R,Ce=ze.y+Ze/R,Ue=((me.x-sn/te-Re)*sn-(me.y+Vt/te-Ce)*Vt)/(Ze*sn-rt*Vt);Te=Re+Ze*Ue-G.x,be=Ce+rt*Ue-G.y;const Xe=Te*Te+be*be;if(Xe<=2)return new _e(Te,be);mt=Math.sqrt(Xe/2)}else{let R=!1;Ze>Number.EPSILON?Vt>Number.EPSILON&&(R=!0):Ze<-Number.EPSILON?Vt<-Number.EPSILON&&(R=!0):Math.sign(rt)===Math.sign(sn)&&(R=!0),R?(Te=-rt,be=Ze,mt=Math.sqrt(ri)):(Te=Ze,be=rt,mt=Math.sqrt(ri/2))}return new _e(Te/mt,be/mt)}const xe=[];for(let G=0,ze=j.length,me=ze-1,Te=G+1;G<ze;G++,me++,Te++)me===ze&&(me=0),Te===ze&&(Te=0),xe[G]=Ne(j[G],j[me],j[Te]);const we=[];let q,fe=xe.concat();for(let G=0,ze=J.length;G<ze;G++){const me=J[G];q=[];for(let Te=0,be=me.length,mt=be-1,Ze=Te+1;Te<be;Te++,mt++,Ze++)mt===be&&(mt=0),Ze===be&&(Ze=0),q[Te]=Ne(me[Te],me[mt],me[Ze]);we.push(q),fe=fe.concat(q)}for(let G=0;G<_;G++){const ze=G/_,me=p*Math.cos(ze*Math.PI/2),Te=g*Math.sin(ze*Math.PI/2)+x;for(let be=0,mt=j.length;be<mt;be++){const Ze=se(j[be],xe[be],Te);At(Ze.x,Ze.y,-me)}for(let be=0,mt=J.length;be<mt;be++){const Ze=J[be];q=we[be];for(let rt=0,Vt=Ze.length;rt<Vt;rt++){const sn=se(Ze[rt],q[rt],Te);At(sn.x,sn.y,-me)}}}const je=g+x;for(let G=0;G<ge;G++){const ze=h?se(F[G],fe[G],je):F[G];D?(U.copy(T.normals[0]).multiplyScalar(ze.x),P.copy(T.binormals[0]).multiplyScalar(ze.y),W.copy(M[0]).add(U).add(P),At(W.x,W.y,W.z)):At(ze.x,ze.y,0)}for(let G=1;G<=c;G++)for(let ze=0;ze<ge;ze++){const me=h?se(F[ze],fe[ze],je):F[ze];D?(U.copy(T.normals[G]).multiplyScalar(me.x),P.copy(T.binormals[G]).multiplyScalar(me.y),W.copy(M[G]).add(U).add(P),At(W.x,W.y,W.z)):At(me.x,me.y,f/c*G)}for(let G=_-1;G>=0;G--){const ze=G/_,me=p*Math.cos(ze*Math.PI/2),Te=g*Math.sin(ze*Math.PI/2)+x;for(let be=0,mt=j.length;be<mt;be++){const Ze=se(j[be],xe[be],Te);At(Ze.x,Ze.y,f+me)}for(let be=0,mt=J.length;be<mt;be++){const Ze=J[be];q=we[be];for(let rt=0,Vt=Ze.length;rt<Vt;rt++){const sn=se(Ze[rt],q[rt],Te);D?At(sn.x,sn.y+M[c-1].y,M[c-1].x+me):At(sn.x,sn.y,f+me)}}}function Mt(G,ze){let me=G.length;for(;--me>=0;){const Te=me;let be=me-1;be<0&&(be=G.length-1);for(let mt=0,Ze=c+2*_;mt<Ze;mt++){const rt=ge*mt,Vt=ge*(mt+1);Gt(ze+Te+rt,ze+be+rt,ze+be+Vt,ze+Te+Vt)}}}function At(G,ze,me){u.push(G),u.push(ze),u.push(me)}function wt(G,ze,me){fn(G),fn(ze),fn(me);const Te=r.length/3,be=w.generateTopUV(i,r,Te-3,Te-2,Te-1);St(be[0]),St(be[1]),St(be[2])}function Gt(G,ze,me,Te){fn(G),fn(ze),fn(Te),fn(ze),fn(me),fn(Te);const be=r.length/3,mt=w.generateSideWallUV(i,r,be-6,be-3,be-2,be-1);St(mt[0]),St(mt[1]),St(mt[3]),St(mt[1]),St(mt[2]),St(mt[3])}function fn(G){r.push(u[3*G+0]),r.push(u[3*G+1]),r.push(u[3*G+2])}function St(G){s.push(G.x),s.push(G.y)}(function Je(){const G=r.length/3;if(h){let ze=0,me=ge*ze;for(let Te=0;Te<pe;Te++){const be=Ee[Te];wt(be[2]+me,be[1]+me,be[0]+me)}ze=c+2*_,me=ge*ze;for(let Te=0;Te<pe;Te++){const be=Ee[Te];wt(be[0]+me,be[1]+me,be[2]+me)}}else{for(let ze=0;ze<pe;ze++){const me=Ee[ze];wt(me[2],me[1],me[0])}for(let ze=0;ze<pe;ze++){const me=Ee[ze];wt(me[0]+ge*c,me[1]+ge*c,me[2]+ge*c)}}i.addGroup(G,r.length/3-G,0)})(),function tt(){const G=r.length/3;let ze=0;Mt(j,ze),ze+=j.length;for(let me=0,Te=J.length;me<Te;me++){const be=J[me];Mt(be,ze),ze+=be.length}i.addGroup(G,r.length/3-G,1)}()}this.setAttribute("position",new ot(r,3)),this.setAttribute("uv",new ot(s,2)),this.computeVertexNormals()}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return function jre(n,e,t){if(t.shapes=[],Array.isArray(n))for(let i=0,r=n.length;i<r;i++)t.shapes.push(n[i].uuid);else t.shapes.push(n.uuid);return t.options=Object.assign({},e),void 0!==e.extrudePath&&(t.options.extrudePath=e.extrudePath.toJSON()),t}(this.parameters.shapes,this.parameters.options,e)}static fromJSON(e,t){const i=[];for(let s=0,o=e.shapes.length;s<o;s++)i.push(t[e.shapes[s]]);const r=e.options.extrudePath;return void 0!==r&&(e.options.extrudePath=(new __[r.type]).fromJSON(r)),new D_(i,e.options)}}const Wre={generateTopUV:function(n,e,t,i,r){const a=e[3*i],u=e[3*i+1],l=e[3*r],c=e[3*r+1];return[new _e(e[3*t],e[3*t+1]),new _e(a,u),new _e(l,c)]},generateSideWallUV:function(n,e,t,i,r,s){const o=e[3*t],a=e[3*t+1],u=e[3*t+2],l=e[3*i],c=e[3*i+1],f=e[3*i+2],h=e[3*r],p=e[3*r+1],g=e[3*r+2],x=e[3*s],_=e[3*s+1],v=e[3*s+2];return Math.abs(a-c)<Math.abs(o-l)?[new _e(o,1-u),new _e(l,1-f),new _e(h,1-g),new _e(x,1-v)]:[new _e(a,1-u),new _e(c,1-f),new _e(p,1-g),new _e(_,1-v)]}};function Ql(n,e,t){return!n||!t&&n.constructor===e?n:"number"==typeof e.BYTES_PER_ELEMENT?new e(n):Array.prototype.slice.call(n)}class I_{constructor(e,t,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==r?r:new t.constructor(i),this.sampleValues=t,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const t=this.parameterPositions;let i=this._cachedIndex,r=t[i],s=t[i-1];e:{t:{let o;n:{i:if(!(e<r)){for(let a=i+2;;){if(void 0===r){if(e<s)break i;return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===a)break;if(s=r,r=t[++i],e<r)break t}o=t.length;break n}if(e>=s)break e;{const a=t[1];e<a&&(i=2,s=a);for(let u=i-2;;){if(void 0===s)return this._cachedIndex=0,this.copySampleValue_(0);if(i===u)break;if(r=s,s=t[--i-1],e>=s)break t}o=i,i=0}}for(;i<o;){const a=i+o>>>1;e<t[a]?o=a:i=a+1}if(r=t[i],s=t[i-1],void 0===s)return this._cachedIndex=0,this.copySampleValue_(0);if(void 0===r)return i=t.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,s,r)}return this.interpolate_(i,s,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const t=this.resultBuffer,i=this.sampleValues,r=this.valueSize,s=e*r;for(let o=0;o!==r;++o)t[o]=i[s+o];return t}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class ose extends I_{constructor(e,t,i,r){super(e,t,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:2400,endingEnd:2400}}intervalChanged_(e,t,i){const r=this.parameterPositions;let s=e-2,o=e+1,a=r[s],u=r[o];if(void 0===a)switch(this.getSettings_().endingStart){case 2401:s=e,a=2*t-i;break;case 2402:s=r.length-2,a=t+r[s]-r[s+1];break;default:s=e,a=i}if(void 0===u)switch(this.getSettings_().endingEnd){case 2401:o=e,u=2*i-t;break;case 2402:o=1,u=i+r[1]-r[0];break;default:o=e-1,u=t}const l=.5*(i-t),c=this.valueSize;this._weightPrev=l/(t-a),this._weightNext=l/(u-i),this._offsetPrev=s*c,this._offsetNext=o*c}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,u=e*a,l=u-a,c=this._offsetPrev,f=this._offsetNext,h=this._weightPrev,p=this._weightNext,g=(i-t)/(r-t),x=g*g,_=x*g,v=-h*_+2*h*x-h*g,w=(1+h)*_+(-1.5-2*h)*x+(-.5+h)*g+1,M=(-1-p)*_+(1.5+p)*x+.5*g,D=p*_-p*x;for(let T=0;T!==a;++T)s[T]=v*o[c+T]+w*o[l+T]+M*o[u+T]+D*o[f+T];return s}}class vk extends I_{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,u=e*a,l=u-a,c=(i-t)/(r-t),f=1-c;for(let h=0;h!==a;++h)s[h]=o[l+h]*f+o[u+h]*c;return s}}class ase extends I_{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class Yo{constructor(e,t,i,r){if(void 0===e)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===t||0===t.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Ql(t,this.TimeBufferType),this.values=Ql(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const t=e.constructor;let i;if(t.toJSON!==this.toJSON)i=t.toJSON(e);else{i={name:e.name,times:Ql(e.times,Array),values:Ql(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new ase(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new vk(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new ose(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let t;switch(e){case 2300:t=this.InterpolantFactoryMethodDiscrete;break;case 2301:t=this.InterpolantFactoryMethodLinear;break;case 2302:t=this.InterpolantFactoryMethodSmooth}if(void 0===t){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(i);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=t,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(e){if(0!==e){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]+=e}return this}scale(e){if(1!==e){const t=this.times;for(let i=0,r=t.length;i!==r;++i)t[i]*=e}return this}trim(e,t){const i=this.times,r=i.length;let s=0,o=r-1;for(;s!==r&&i[s]<e;)++s;for(;-1!==o&&i[o]>t;)--o;if(++o,0!==s||o!==r){s>=o&&(o=Math.max(o,1),s=o-1);const a=this.getValueSize();this.times=i.slice(s,o),this.values=this.values.slice(s*a,o*a)}return this}validate(){let e=!0;const t=this.getValueSize();t-Math.floor(t)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,s=i.length;0===s&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let a=0;a!==s;a++){const u=i[a];if("number"==typeof u&&isNaN(u)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,a,u),e=!1;break}if(null!==o&&o>u){console.error("THREE.KeyframeTrack: Out of order keys.",this,a,u,o),e=!1;break}o=u}if(void 0!==r&&function mk(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}(r))for(let a=0,u=r.length;a!==u;++a){const l=r[a];if(isNaN(l)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,a,l),e=!1;break}}return e}optimize(){const e=this.times.slice(),t=this.values.slice(),i=this.getValueSize(),r=2302===this.getInterpolation(),s=e.length-1;let o=1;for(let a=1;a<s;++a){let u=!1;const l=e[a];if(l!==e[a+1]&&(1!==a||l!==e[0]))if(r)u=!0;else{const f=a*i,h=f-i,p=f+i;for(let g=0;g!==i;++g){const x=t[f+g];if(x!==t[h+g]||x!==t[p+g]){u=!0;break}}}if(u){if(a!==o){e[o]=e[a];const f=a*i,h=o*i;for(let p=0;p!==i;++p)t[h+p]=t[f+p]}++o}}if(s>0){e[o]=e[s];for(let a=s*i,u=o*i,l=0;l!==i;++l)t[u+l]=t[a+l];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=t.slice(0,o*i)):(this.times=e,this.values=t),this}clone(){const e=this.times.slice(),t=this.values.slice(),r=new(0,this.constructor)(this.name,e,t);return r.createInterpolant=this.createInterpolant,r}}Yo.prototype.TimeBufferType=Float32Array,Yo.prototype.ValueBufferType=Float32Array,Yo.prototype.DefaultInterpolation=2301;class $f extends Yo{}$f.prototype.ValueTypeName="bool",$f.prototype.ValueBufferType=Array,$f.prototype.DefaultInterpolation=2300,$f.prototype.InterpolantFactoryMethodLinear=void 0,$f.prototype.InterpolantFactoryMethodSmooth=void 0;(class _k extends Yo{}).prototype.ValueTypeName="color";(class R_ extends Yo{}).prototype.ValueTypeName="number";class use extends I_{constructor(e,t,i,r){super(e,t,i,r)}interpolate_(e,t,i,r){const s=this.resultBuffer,o=this.sampleValues,a=this.valueSize,u=(i-t)/(r-t);let l=e*a;for(let c=l+a;l!==c;l+=4)ls.slerpFlat(s,0,o,l-a,o,l,u);return s}}class B0 extends Yo{InterpolantFactoryMethodLinear(e){return new use(this.times,this.values,this.getValueSize(),e)}}B0.prototype.ValueTypeName="quaternion",B0.prototype.DefaultInterpolation=2301,B0.prototype.InterpolantFactoryMethodSmooth=void 0;class qf extends Yo{}qf.prototype.ValueTypeName="string",qf.prototype.ValueBufferType=Array,qf.prototype.DefaultInterpolation=2300,qf.prototype.InterpolantFactoryMethodLinear=void 0,qf.prototype.InterpolantFactoryMethodSmooth=void 0;(class P_ extends Yo{}).prototype.ValueTypeName="vector";const Xf={enabled:!1,files:{},add:function(n,e){!1!==this.enabled&&(this.files[n]=e)},get:function(n){if(!1!==this.enabled)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};class yk{constructor(e,t,i){const r=this;let u,s=!1,o=0,a=0;const l=[];this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(c){a++,!1===s&&void 0!==r.onStart&&r.onStart(c,o,a),s=!0},this.itemEnd=function(c){o++,void 0!==r.onProgress&&r.onProgress(c,o,a),o===a&&(s=!1,void 0!==r.onLoad&&r.onLoad())},this.itemError=function(c){void 0!==r.onError&&r.onError(c)},this.resolveURL=function(c){return u?u(c):c},this.setURLModifier=function(c){return u=c,this},this.addHandler=function(c,f){return l.push(c,f),this},this.removeHandler=function(c){const f=l.indexOf(c);return-1!==f&&l.splice(f,2),this},this.getHandler=function(c){for(let f=0,h=l.length;f<h;f+=2){const p=l[f],g=l[f+1];if(p.global&&(p.lastIndex=0),p.test(c))return g}return null}}}const dse=new yk;let xk=(()=>{class n{constructor(t){this.manager=void 0!==t?t:dse,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(t,i){const r=this;return new Promise(function(s,o){r.load(t,s,i,o)})}parse(){}setCrossOrigin(t){return this.crossOrigin=t,this}setWithCredentials(t){return this.withCredentials=t,this}setPath(t){return this.path=t,this}setResourcePath(t){return this.resourcePath=t,this}setRequestHeader(t){return this.requestHeader=t,this}}return n.DEFAULT_MATERIAL_NAME="__DEFAULT",n})();const Fa={};class fse extends Error{constructor(e,t){super(e),this.response=t}}class ka extends xk{constructor(e){super(e)}load(e,t,i,r){void 0===e&&(e=""),void 0!==this.path&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Xf.get(e);if(void 0!==s)return this.manager.itemStart(e),setTimeout(()=>{t&&t(s),this.manager.itemEnd(e)},0),s;if(void 0!==Fa[e])return void Fa[e].push({onLoad:t,onProgress:i,onError:r});Fa[e]=[],Fa[e].push({onLoad:t,onProgress:i,onError:r});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),a=this.mimeType,u=this.responseType;fetch(o).then(l=>{if(200===l.status||0===l.status){if(0===l.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||void 0===l.body||void 0===l.body.getReader)return l;const c=Fa[e],f=l.body.getReader(),h=l.headers.get("Content-Length")||l.headers.get("X-File-Size"),p=h?parseInt(h):0,g=0!==p;let x=0;const _=new ReadableStream({start(v){!function w(){f.read().then(({done:M,value:D})=>{if(M)v.close();else{x+=D.byteLength;const T=new ProgressEvent("progress",{lengthComputable:g,loaded:x,total:p});for(let P=0,U=c.length;P<U;P++){const W=c[P];W.onProgress&&W.onProgress(T)}v.enqueue(D),w()}})}()}});return new Response(_)}throw new fse(`fetch for "${l.url}" responded with ${l.status}: ${l.statusText}`,l)}).then(l=>{switch(u){case"arraybuffer":return l.arrayBuffer();case"blob":return l.blob();case"document":return l.text().then(c=>(new DOMParser).parseFromString(c,a));case"json":return l.json();default:if(void 0===a)return l.text();{const f=/charset="?([^;"\s]*)"?/i.exec(a),h=f&&f[1]?f[1].toLowerCase():void 0,p=new TextDecoder(h);return l.arrayBuffer().then(g=>p.decode(g))}}}).then(l=>{Xf.add(e,l);const c=Fa[e];delete Fa[e];for(let f=0,h=c.length;f<h;f++){const p=c[f];p.onLoad&&p.onLoad(l)}}).catch(l=>{const c=Fa[e];if(void 0===c)throw this.manager.itemError(e),l;delete Fa[e];for(let f=0,h=c.length;f<h;f++){const p=c[f];p.onError&&p.onError(l)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}function Rk(){return(typeof performance>"u"?Date:performance).now()}const Bw="\\[\\]\\.:\\/",Ise=new RegExp("["+Bw+"]","g"),Vw="[^"+Bw+"]",Rse="[^"+Bw.replace("\\.","")+"]",Fse=new RegExp("^"+/((?:WC+[\/:])*)/.source.replace("WC",Vw)+/(WCOD+)?/.source.replace("WCOD",Rse)+/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Vw)+/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Vw)+"$"),kse=["material","materials","bones","map"];class Use{constructor(e,t,i){const r=i||jn.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,r)}getValue(e,t){this.bind();const r=this._bindings[this._targetGroup.nCachedObjects_];void 0!==r&&r.getValue(e,t)}setValue(e,t){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,s=i.length;r!==s;++r)i[r].setValue(e,t)}bind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()}unbind(){const e=this._bindings;for(let t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}}let jn=(()=>{class n{constructor(t,i,r){this.path=i,this.parsedPath=r||n.parseTrackName(i),this.node=n.findNode(t,this.parsedPath.nodeName),this.rootNode=t,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(t,i,r){return t&&t.isAnimationObjectGroup?new n.Composite(t,i,r):new n(t,i,r)}static sanitizeNodeName(t){return t.replace(/\s/g,"_").replace(Ise,"")}static parseTrackName(t){const i=Fse.exec(t);if(null===i)throw new Error("PropertyBinding: Cannot parse trackName: "+t);const r={nodeName:i[2],objectName:i[3],objectIndex:i[4],propertyName:i[5],propertyIndex:i[6]},s=r.nodeName&&r.nodeName.lastIndexOf(".");if(void 0!==s&&-1!==s){const o=r.nodeName.substring(s+1);-1!==kse.indexOf(o)&&(r.nodeName=r.nodeName.substring(0,s),r.objectName=o)}if(null===r.propertyName||0===r.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+t);return r}static findNode(t,i){if(void 0===i||""===i||"."===i||-1===i||i===t.name||i===t.uuid)return t;if(t.skeleton){const r=t.skeleton.getBoneByName(i);if(void 0!==r)return r}if(t.children){const r=function(o){for(let a=0;a<o.length;a++){const u=o[a];if(u.name===i||u.uuid===i)return u;const l=r(u.children);if(l)return l}return null},s=r(t.children);if(s)return s}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(t,i){t[i]=this.targetObject[this.propertyName]}_getValue_array(t,i){const r=this.resolvedProperty;for(let s=0,o=r.length;s!==o;++s)t[i++]=r[s]}_getValue_arrayElement(t,i){t[i]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(t,i){this.resolvedProperty.toArray(t,i)}_setValue_direct(t,i){this.targetObject[this.propertyName]=t[i]}_setValue_direct_setNeedsUpdate(t,i){this.targetObject[this.propertyName]=t[i],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(t,i){this.targetObject[this.propertyName]=t[i],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(t,i){const r=this.resolvedProperty;for(let s=0,o=r.length;s!==o;++s)r[s]=t[i++]}_setValue_array_setNeedsUpdate(t,i){const r=this.resolvedProperty;for(let s=0,o=r.length;s!==o;++s)r[s]=t[i++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(t,i){const r=this.resolvedProperty;for(let s=0,o=r.length;s!==o;++s)r[s]=t[i++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(t,i){this.resolvedProperty[this.propertyIndex]=t[i]}_setValue_arrayElement_setNeedsUpdate(t,i){this.resolvedProperty[this.propertyIndex]=t[i],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(t,i){this.resolvedProperty[this.propertyIndex]=t[i],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(t,i){this.resolvedProperty.fromArray(t,i)}_setValue_fromArray_setNeedsUpdate(t,i){this.resolvedProperty.fromArray(t,i),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(t,i){this.resolvedProperty.fromArray(t,i),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(t,i){this.bind(),this.getValue(t,i)}_setValue_unbound(t,i){this.bind(),this.setValue(t,i)}bind(){let t=this.node;const i=this.parsedPath,r=i.objectName,s=i.propertyName;let o=i.propertyIndex;if(t||(t=n.findNode(this.rootNode,i.nodeName),this.node=t),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!t)return void console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");if(r){let c=i.objectIndex;switch(r){case"materials":if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);t=t.material.materials;break;case"bones":if(!t.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);t=t.skeleton.bones;for(let f=0;f<t.length;f++)if(t[f].name===c){c=f;break}break;case"map":if("map"in t){t=t.map;break}if(!t.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!t.material.map)return void console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);t=t.material.map;break;default:if(void 0===t[r])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);t=t[r]}if(void 0!==c){if(void 0===t[c])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,t);t=t[c]}}const a=t[s];if(void 0===a)return void console.error("THREE.PropertyBinding: Trying to update property for track: "+i.nodeName+"."+s+" but it wasn't found.",t);let u=this.Versioning.None;this.targetObject=t,void 0!==t.needsUpdate?u=this.Versioning.NeedsUpdate:void 0!==t.matrixWorldNeedsUpdate&&(u=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(void 0!==o){if("morphTargetInfluences"===s){if(!t.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!t.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==t.morphTargetDictionary[o]&&(o=t.morphTargetDictionary[o])}l=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=o}else void 0!==a.fromArray&&void 0!==a.toArray?(l=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(l=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=s;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][u]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}return n.Composite=Use,n})();jn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},jn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},jn.prototype.GetterByBindingType=[jn.prototype._getValue_direct,jn.prototype._getValue_array,jn.prototype._getValue_arrayElement,jn.prototype._getValue_toArray],jn.prototype.SetterByBindingTypeAndVersioning=[[jn.prototype._setValue_direct,jn.prototype._setValue_direct_setNeedsUpdate,jn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[jn.prototype._setValue_array,jn.prototype._setValue_array_setNeedsUpdate,jn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[jn.prototype._setValue_arrayElement,jn.prototype._setValue_arrayElement_setNeedsUpdate,jn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[jn.prototype._setValue_fromArray,jn.prototype._setValue_fromArray_setNeedsUpdate,jn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]],new Float32Array(1);class Gse{constructor(){this.type="ShapePath",this.color=new Ke,this.subPaths=[],this.currentPath=null}moveTo(e,t){return this.currentPath=new y_,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,t),this}lineTo(e,t){return this.currentPath.lineTo(e,t),this}quadraticCurveTo(e,t,i,r){return this.currentPath.quadraticCurveTo(e,t,i,r),this}bezierCurveTo(e,t,i,r,s,o){return this.currentPath.bezierCurveTo(e,t,i,r,s,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function i(v,w){const M=w.length;let D=!1;for(let T=M-1,P=0;P<M;T=P++){let U=w[T],W=w[P],I=W.x-U.x,F=W.y-U.y;if(Math.abs(F)>Number.EPSILON){if(F<0&&(U=w[P],I=-I,W=w[T],F=-F),v.y<U.y||v.y>W.y)continue;if(v.y===U.y){if(v.x===U.x)return!0}else{const J=F*(v.x-U.x)-I*(v.y-U.y);if(0===J)return!0;if(J<0)continue;D=!D}}else{if(v.y!==U.y)continue;if(W.x<=v.x&&v.x<=U.x||U.x<=v.x&&v.x<=W.x)return!0}}return D}const r=La.isClockWise,s=this.subPaths;if(0===s.length)return[];let o,a,u;const l=[];if(1===s.length)return a=s[0],u=new Wf,u.curves=a.curves,l.push(u),l;let c=!r(s[0].getPoints());c=e?!c:c;const f=[],h=[];let x,_,p=[],g=0;h[g]=void 0,p[g]=[];for(let v=0,w=s.length;v<w;v++)a=s[v],x=a.getPoints(),o=r(x),o=e?!o:o,o?(!c&&h[g]&&g++,h[g]={s:new Wf,p:x},h[g].s.curves=a.curves,c&&g++,p[g]=[]):p[g].push({h:a,p:x[0]});if(!h[0])return function t(v){const w=[];for(let M=0,D=v.length;M<D;M++){const T=v[M],P=new Wf;P.curves=T.curves,w.push(P)}return w}(s);if(h.length>1){let v=!1,w=0;for(let M=0,D=h.length;M<D;M++)f[M]=[];for(let M=0,D=h.length;M<D;M++){const T=p[M];for(let P=0;P<T.length;P++){const U=T[P];let W=!0;for(let I=0;I<h.length;I++)i(U.p,h[I].p)&&(M!==I&&w++,W?(W=!1,f[I].push(U)):v=!0);W&&f[M].push(U)}}w>0&&!1===v&&(p=f)}for(let v=0,w=h.length;v<w;v++){u=h[v].s,l.push(u),_=p[v];for(let M=0,D=_.length;M<D;M++)u.holes.push(_[M].h)}return l}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"158"}})),typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="158");class jk extends xk{constructor(e){super(e)}load(e,t,i,r){const s=this,o=new ka(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(a){const u=s.parse(JSON.parse(a));t&&t(u)},i,r)}parse(e){return new Wse(e)}}class Wse{constructor(e){this.isFont=!0,this.type="Font",this.data=e}generateShapes(e,t=100){const i=[],r=function jse(n,e,t){const i=Array.from(n),r=e/t.resolution,s=(t.boundingBox.yMax-t.boundingBox.yMin+t.underlineThickness)*r,o=[];let a=0,u=0;for(let l=0;l<i.length;l++){const c=i[l];if("\n"===c)a=0,u-=s;else{const f=$se(c,r,a,u,t);a+=f.offsetX,o.push(f.path)}}return o}(e,t,this.data);for(let s=0,o=r.length;s<o;s++)i.push(...r[s].toShapes());return i}}function $se(n,e,t,i,r){const s=r.glyphs[n]||r.glyphs["?"];if(!s)return void console.error('THREE.Font: character "'+n+'" does not exists in font family '+r.familyName+".");const o=new Gse;let a,u,l,c,f,h,p,g;if(s.o){const x=s._cachedOutline||(s._cachedOutline=s.o.split(" "));for(let _=0,v=x.length;_<v;)switch(x[_++]){case"m":a=x[_++]*e+t,u=x[_++]*e+i,o.moveTo(a,u);break;case"l":a=x[_++]*e+t,u=x[_++]*e+i,o.lineTo(a,u);break;case"q":l=x[_++]*e+t,c=x[_++]*e+i,f=x[_++]*e+t,h=x[_++]*e+i,o.quadraticCurveTo(f,h,l,c);break;case"b":l=x[_++]*e+t,c=x[_++]*e+i,f=x[_++]*e+t,h=x[_++]*e+i,p=x[_++]*e+t,g=x[_++]*e+i,o.bezierCurveTo(f,h,p,g,l,c)}}return{offsetX:s.ha*e,path:o}}class $k extends D_{constructor(e,t={}){const i=t.font;if(void 0===i)super();else{const r=i.generateShapes(e,t.size);t.depth=void 0!==t.height?t.height:50,void 0===t.bevelThickness&&(t.bevelThickness=10),void 0===t.bevelSize&&(t.bevelSize=8),void 0===t.bevelEnabled&&(t.bevelEnabled=!1),super(r,t)}this.type="TextGeometry"}}var We=ac(276),Yf=ac.n(We);let Ko,H0,Uu,W0,j0,z_,G_,qw,Xw,Zo=new class Zse{constructor(){this.WriteIn=(e,t,i)=>{e.setItem(t,i),console.log("Saved: "+t+" - "+i)},this.ReadFrom=(e,t)=>{let i=e.getItem(t);return console.log("Read: "+t+" - "+i),i}}getFileText(e,t){fetch(e).then(i=>i.text()).then(i=>t(i)).catch(i=>console.error(i))}replaceAt(e,t,i){if(t<0||t>=e.length)throw new Error("Array index out of bounds!");let r=e.split("");return r[t]=i,r.join("")}getRandomNum(e,t){return Math.floor(Math.random()*t)+e}},qk=0,z0=0,Ww=0,Xk=new Array(256),soe=new class Ik{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=Rk(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const t=Rk();e=(t-this.oldTime)/1e3,this.oldTime=t,this.elapsedTime+=e}return e}},G0=new _e,Yk=!1,Zf=null,jw=null;function $0(){return Hr()<=824}function Hr(){return Yf()("#render_head").width()}function zr(){return Yf()("#block1").height()}function Zk(){return $w.apply(this,arguments)}function $w(){return($w=pM(function*(){return new Promise(n=>{(new jk).load("/assets/img/font.json",e=>{let t=W_.fontParams(e),i=new $k("0",t);i.computeBoundingBox();let r=new Array(2);r[0]=i.boundingBox.max.x-i.boundingBox.min.x,r[1]=i.boundingBox.max.y-i.boundingBox.min.y,Ww=zr()/r[1]*.5-1,n(r)})})})).apply(this,arguments)}function Kk(){void 0!==z_&&z_.dispose(),void 0!==G_&&G_.dispose(),z_=new Nf(Hr(),zr()),G_=new Nf(Hr(),zr()),qw=new or(z_,W0),Xw=new or(G_,j0)}function Jk(){let n=soe.getDelta();requestAnimationFrame(Jk),Yk&&void 0!==H0&&void 0!==Uu&&(Ko.setRenderTarget(Zf),Ko.render(H0,Uu),W0.uniforms.texture1.value=Zf.texture,W0.uniforms.t_width.value=Zf.texture.width,W0.uniforms.t_height.value=Zf.texture.height,qw.position.set(Hr()/2,zr()/2,0),Ko.setRenderTarget(jw),Ko.render(qw,Uu),j0.uniforms.texture1.value=Zf.texture,j0.uniforms.texture2.value=jw.texture,j0.uniforms.mouse.value=new _e(G0.x/Hr(),1-G0.y/zr()),Xw.position.set(Hr()/2,zr()/2,0),Ko.setRenderTarget(null),Ko.render(Xw,Uu));for(let e=0;e<Ww;e++){let t=Xk[e];if(void 0===t){Xk[e]=new W_(e,H0,new Yw);break}t.tick(n),t.shouldRedraw()&&(t.allow=!0,t.redraw())}}Yf()(()=>{W0=new co({uniforms:{texture1:{value:null},t_width:{value:0},t_height:{value:0}},vertexShader:"\n    out vec2 verUv;\n    void main() {\n        verUv = uv;\n        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.);\n    }\n",fragmentShader:$0()?"\n    in vec2 verUv;\n    uniform sampler2D texture1;\n\n    void main() {\n        vec4 color = vec4(0.0);\n        const float blurSize = 0.004;\n        const float bias = 0.04;\n        const float size = 32.;\n        const float step = blurSize / 6.;\n\n        for (float i = -blurSize; i <= blurSize; i += step) {\n            for (float j = -blurSize; j <= blurSize; j += step) {\n                vec2 offset = vec2(i, j);\n                vec4 txt = texture2D(texture1, verUv + offset);\n                float br = (txt.r + txt.g + txt.b) / 1.5;\n                color += txt * br;\n            }\n        }\n        \n        color /= pow((size * blurSize + 1.0), 4.);\n        gl_FragColor = color * bias;\n    }\n":"\n    in vec2 verUv;\n    uniform sampler2D texture1;\n\n    void main() {\n        vec4 color = vec4(0.0);\n        const float blurSize = 0.004;\n        const float bias = 0.035;\n        const float size = 48.;\n        const float step = blurSize / 6.;\n\n        for (float i = -blurSize; i <= blurSize; i += step) {\n            for (float j = -blurSize; j <= blurSize; j += step) {\n                vec2 offset = vec2(i, j);\n                vec4 txt = texture2D(texture1, verUv + offset);\n                float br = (txt.r + txt.g + txt.b) / 2.5;\n                color += txt * br;\n            }\n        }\n        \n        color /= pow((size * blurSize + 1.0), 4.);\n        gl_FragColor = color * bias;\n    }\n"}),j0=new co({uniforms:{texture1:{value:null},texture2:{value:null},mouse:{value:new _e(G0.x/Hr(),1-G0.y/zr())}},vertexShader:"\n    out vec2 verUv;\n    void main() {\n        verUv = uv;\n        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.);\n    }\n",fragmentShader:$0()?"\n    in vec2 verUv;\n    uniform sampler2D texture1;\n    uniform sampler2D texture2;\n    uniform vec2 mouse;\n\n    void main() {\n        vec4 color1 = texture2D(texture1, verUv);\n        vec4 color2 = texture2D(texture2, verUv);\n        float dist = distance(verUv, vec2(0.5));\n        float vignetteStrength = 0.9;\n        float vignetteFactor = smoothstep(0.0, vignetteStrength, dist);\n        vec4 color = (color1 + color2);\n        vec4 outColor = vec4(vec3(color.r, color.g, color.b) * (1.0 - vignetteFactor), 1.0);\n\n        gl_FragColor = outColor;\n    }\n":"\n    in vec2 verUv;\n    uniform sampler2D texture1;\n    uniform sampler2D texture2;\n    uniform vec2 mouse;\n\n    void main() {\n        vec4 color1 = texture2D(texture1, verUv);\n        vec4 color2 = texture2D(texture2, verUv);\n        float dist = distance(verUv, vec2(0.5));\n        float vignetteStrength = 0.65;\n\n        float vignetteFactor = smoothstep(0.0, vignetteStrength, dist);\n        vec4 color = (color1 + color2);\n        vec4 outColor = vec4(vec3(color.r, color.g, color.b) * (1.0 - vignetteFactor), 1.0);\n\n        float fromMouseDistance = distance(verUv, mouse);\n        float fct = smoothstep(0., .2, fromMouseDistance);\n        outColor = vec4(vec3(outColor.r, outColor.g, outColor.b) * vec3(1.0, fct, 1.0), 1.);\n\n        gl_FragColor = outColor;\n    }\n"}),Kk(),Ko=new TF,Ko.setSize(Hr(),zr()),H0=new IF,Uu=new i_(0,Hr(),zr(),0,1,1e3),Uu.position.set(0,0,25),Yf()("#render_head").append(Ko.domElement),Zk().then(n=>{qk=n[0],z0=n[1],Yf()("body").on("mousemove",t=>{G0.set(t.pageX,t.pageY)})}),Yf()(window).on("resize",()=>{Zk().then(n=>{(function ooe(n){n.left=0,n.right=Hr(),n.top=zr(),n.bottom=0,n.near=1,n.far=1e3})(Uu),Uu.updateProjectionMatrix(),Ko.setSize(Hr(),zr())}),H0.clear(),Kk()}),Zf=new Da(Hr(),zr()),jw=new Da(Hr(),zr()),Yk=!0});class W_{constructor(e,t,i){this.currentMesh=null,this.currentTextGeometry=null,this.currentMaterial=null,this.fadeTick=0,this.appearTick=0,this.meshLength=0,this.allow=!1,this.conveyor=i,this.scene=t,this.constructGeometries(),this.id=e,this.appendSpeed=Zo.getRandomNum(12,18),this.allow=!0}get getAppendSpeed(){return $0()?.5*this.appendSpeed:this.appendSpeed}tick(e){const t=e/this.getAppendSpeed;this.appearTick=Math.min(this.appearTick+=t,1.1),this.appearTick>.5&&(this.fadeTick=Math.min(this.fadeTick+=t,1.1)),null!==this.currentMaterial&&(this.currentMaterial.uniforms.fadeFactor.value=this.getFadeFactor(),this.currentMaterial.uniforms.appearFactor.value=this.getAppearFactor())}shouldRedraw(){return this.fadeTick>=1}static fontParams(e){return{font:e,size:$0()?16:18,height:5,curveSegments:1}}get getMaterial(){return this.currentMaterial}get getMesh(){return this.currentMesh}removeFromScene(){null!==this.currentMesh&&(this.scene.remove(this.currentMesh),this.currentTextGeometry?.dispose(),this.currentMaterial?.dispose())}addToScene(){this.allow&&null!==this.currentMesh&&this.scene.add(this.currentMesh)}getFadeFactor(){return this.fadeTick}getAppearFactor(){return this.appearTick}constructGeometries(){this.removeFromScene(),this.conveyor.getGenString().then(e=>{(new jk).load("/assets/img/font.json",t=>{this.currentTextGeometry=new $k(e,W_.fontParams(t)),this.currentMaterial=new co({vertexShader:"\n    out vec2 verUv;\n    void main() {\n        verUv = uv;\n        gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.);\n    }\n",fragmentShader:$0()?"\n    in vec2 verUv;\n    uniform float meshLength;\n    uniform float fadeFactor;\n    uniform float appearFactor;\n\n    float interpolateUV(vec2 uv, float start) {\n        return (uv.x - min(start, 1.)) / (1. - min(start, 1.));\n    }\n\n    void main() {\n        vec2 uv = verUv / vec2(meshLength, 1.);\n        vec3 col1 = vec3(0., 0., 1.);\n        vec3 col2 = vec3(0.4, 0.15, 0.3);\n        float f1 = clamp(appearFactor * 3.0, 0., 1.) * 0.2;\n        vec3 col3 = vec3(f1 * 0.6, f1 * 0.1, f1 * 0.05);\n        vec4 final = uv.x < appearFactor ? vec4(col1, 1.) : vec4(col3, 1);\n        float factor = appearFactor / 4.0;\n        final = (uv.x > factor && uv.x < appearFactor) ? vec4(mix(col1, col2, interpolateUV(uv, factor)), 1.) : final;\n        final = vec4(mix(vec3(0.), vec3(final.xyz), interpolateUV(uv, min(fadeFactor, 0.99))), 1);\n\n        gl_FragColor = final;\n    }\n":"\n    in vec2 verUv;\n    uniform float meshLength;\n    uniform float fadeFactor;\n    uniform float appearFactor;\n\n    float interpolateUV(vec2 uv, float start) {\n        return (uv.x - min(start, 1.)) / (1. - min(start, 1.));\n    }\n\n    void main() {\n        vec2 uv = verUv / vec2(meshLength, 1.);\n        vec3 col1 = vec3(0., 0., 1.);\n        vec3 col2 = vec3(1.);\n        float f1 = clamp(appearFactor * 3.0, 0., 1.) * 0.2;\n        vec3 col3 = vec3(f1 * 0.01, f1 * 0.025, f1);\n        vec4 final = uv.x < appearFactor ? vec4(col1, 1.) : vec4(col3, 1);\n        float factor = appearFactor / 2.25;\n        final = (uv.x > factor && uv.x < appearFactor) ? vec4(mix(col1, col2, interpolateUV(uv, factor)), 1.) : final;\n        final = vec4(mix(vec3(0.), vec3(final.xyz), interpolateUV(uv, fadeFactor)), 1);\n\n        gl_FragColor = final;\n    }\n",uniforms:{appearFactor:{value:0},fadeFactor:{value:0},meshLength:{value:0}}}),this.currentMesh=new or(this.currentTextGeometry,this.currentMaterial),this.currentTextGeometry.computeBoundingBox(),this.meshLength=this.currentTextGeometry.boundingBox.max.x-this.currentTextGeometry.boundingBox.min.x,zr(),this.currentMesh.position.set(0,this.id*(2*z0)+.5*z0,0),this.currentMaterial.uniforms.meshLength.value=this.meshLength,this.addToScene()})})}redraw(){this.constructGeometries(),this.fadeTick=0,this.appearTick=0,this.appendSpeed=Zo.getRandomNum(12,18)}}class Yw{static generateRandomChar(){return 0==Zo.getRandomNum(0,2)?"1":"0"}getGenString(){return pM(function*(){return new Promise(e=>{const t=[],r=Hr()/qk*(.6+.01*(10-Zo.getRandomNum(0,20)));for(;t.length<=r;)t.push(Yw.generateRandomChar());e(t.join(""))})})()}}const aoe=["status"],uoe=["loading"],loe=["form_name"],coe=["form_mail"],doe=["form_phone"],foe=["form_box"],hoe=["form_field2"];let poe=(()=>{class n{constructor(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=cn({type:n,selectors:[["app-footer"]],decls:41,vars:0,consts:[["id","block-12"],["id","ghost-block"],["id","ghost-block2"],[1,"flex","justify-center"],["id","inner-block"],[1,"lg:grid","lg:grid-cols-2","gap-x-[40px]","xl:gap-x-[170px]"],["id","title"],["id","desc"],[1,"flex"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none",1,"transform","translate-y-[12px]","mr-[18px]"],["opacity","0.5","clip-path","url(#clip0_94_749)"],["d","M9.366 10.682C10.3043 12.3305 11.6695 13.6957 13.318 14.634L14.202 13.396C14.3442 13.1969 14.5543 13.0569 14.7928 13.0023C15.0313 12.9478 15.2814 12.9825 15.496 13.1C16.9103 13.8729 18.4722 14.3378 20.079 14.464C20.3298 14.4839 20.5638 14.5975 20.7345 14.7823C20.9052 14.9671 21 15.2094 21 15.461V19.923C21.0001 20.1706 20.9083 20.4094 20.7424 20.5932C20.5765 20.777 20.3483 20.8927 20.102 20.918C19.572 20.973 19.038 21 18.5 21C9.94 21 3 14.06 3 5.5C3 4.962 3.027 4.428 3.082 3.898C3.10725 3.6517 3.22298 3.42352 3.40679 3.25763C3.5906 3.09175 3.82941 2.99995 4.077 3H8.539C8.79056 2.99997 9.0329 3.09475 9.21768 3.26545C9.40247 3.43615 9.51613 3.67022 9.536 3.921C9.66222 5.52779 10.1271 7.08968 10.9 8.504C11.0175 8.71856 11.0522 8.96874 10.9977 9.2072C10.9431 9.44565 10.8031 9.65584 10.604 9.798L9.366 10.682ZM6.844 10.025L8.744 8.668C8.20478 7.50409 7.83535 6.26884 7.647 5H5.01C5.004 5.166 5.001 5.333 5.001 5.5C5 12.956 11.044 19 18.5 19C18.667 19 18.834 18.997 19 18.99V16.353C17.7312 16.1646 16.4959 15.7952 15.332 15.256L13.975 17.156C13.4287 16.9437 12.898 16.6931 12.387 16.406L12.329 16.373C10.3676 15.2567 8.74328 13.6324 7.627 11.671L7.594 11.613C7.30691 11.102 7.05628 10.5713 6.844 10.025Z","fill","white"],["id","clip0_94_749"],["width","24","height","24","fill","white"],["id","phone"],["xmlns","http://www.w3.org/2000/svg","width","28","height","24","viewBox","0 0 28 24","fill","none",1,"transform","translate-y-[2px]","mr-[18px]"],["opacity","0.5","clip-path","url(#clip0_94_743)"],["d","M3.50004 3H24.5C24.8095 3 25.1062 3.10536 25.325 3.29289C25.5438 3.48043 25.6667 3.73478 25.6667 4V20C25.6667 20.2652 25.5438 20.5196 25.325 20.7071C25.1062 20.8946 24.8095 21 24.5 21H3.50004C3.19062 21 2.89388 20.8946 2.67508 20.7071C2.45629 20.5196 2.33337 20.2652 2.33337 20V4C2.33337 3.73478 2.45629 3.48043 2.67508 3.29289C2.89388 3.10536 3.19062 3 3.50004 3ZM23.3334 7.238L14.084 14.338L4.66671 7.216V19H23.3334V7.238ZM5.26287 5L14.0712 11.662L22.7524 5H5.26287Z","fill","white"],["id","clip0_94_743"],["width","28","height","24","fill","white"],["id","mail"],["xmlns","http://www.w3.org/2000/svg","width","1440","height","1","viewBox","0 0 1440 1","fill","none",1,"w-full"],["opacity","0.3","d","M0 0L1441 -0.000125976","stroke","white"],["id","autors"],["id","lower-desc"]],template:function(i,r){1&i&&(ee(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div")(7,"div",3)(8,"div")(9,"div",6),st(10,"\u041e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u044f\u0432\u043a\u0443 \u043d\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0443 \u0441\u0430\u0439\u0442\u0430"),ue(),ee(11,"div",7),st(12,"\u0421\u0440\u043e\u0447\u043d\u043e \u043d\u0443\u0436\u043d\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u0441\u0430\u0439\u0442\u0430? \u0412\u0430\u0448\u0430 \u043a\u043e\u043c\u0430\u043d\u0434\u0430 \u043d\u0435 \u0443\u0441\u043f\u0435\u0432\u0430\u0435\u0442 \u0441\u043f\u0440\u0430\u0432\u0438\u0442\u044c\u0441\u044f \u0441\u0430\u043c\u043e\u0441\u0442\u043e\u044f\u0442\u0435\u043b\u044c\u043d\u043e \u0438\u043b\u0438 \u043f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0439 \u043f\u043e\u0434\u0440\u044f\u0434\u0447\u0438\u043a \u043d\u0435 \u0441\u043f\u0440\u0430\u0432\u0438\u043b\u0441\u044f \u0441 \u0440\u0430\u0431\u043e\u0442\u043e\u0439? \u0422\u043e\u0433\u0434\u0430 \u0432\u0430\u043c \u0442\u043e\u0447\u043d\u043e \u043a \u043d\u0430\u043c! \u041f\u0440\u043e\u0441\u0442\u043e \u043e\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u0437\u0430\u044f\u0432\u043a\u0443 \u0438 \u043d\u0430\u0448 \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440 \u0441 \u0432\u0430\u043c\u0438 \u0441\u0432\u044f\u0436\u0435\u0442\u0441\u044f!"),ue()()(),ee(13,"div",8),Co(),ee(14,"svg",9)(15,"g",10),Ae(16,"path",11),ue(),ee(17,"defs")(18,"clipPath",12),Ae(19,"rect",13),ue()()(),Qa(),ee(20,"div",14),st(21,"8 800 222-26-73"),ue()(),ee(22,"div",8),Co(),ee(23,"svg",15)(24,"g",16),Ae(25,"path",17),ue(),ee(26,"defs")(27,"clipPath",18),Ae(28,"rect",19),ue()()(),Qa(),ee(29,"div",20),st(30,"info@drupal-coder.ru"),ue()()(),Ae(31,"footer-contact"),ue()()(),ee(32,"div"),Co(),ee(33,"svg",21),Ae(34,"path",22),ue(),Qa(),ee(35,"div",3)(36,"div",23)(37,"div",24),st(38,"\u041f\u0440\u043e\u0435\u043a\u0442 \u041e\u041e\u041e \xab\u0418\u043d\u0438\u0442\u043b\u0430\u0431\xbb, \u041a\u0440\u0430\u0441\u043d\u043e\u0434\u0430\u0440, \u0420\u043e\u0441\u0441\u0438\u044f."),ue(),ee(39,"div",24),st(40,"Drupal \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0439 \u0442\u043e\u0440\u0433\u043e\u0432\u043e\u0439 \u043c\u0430\u0440\u043a\u043e\u0439 Dries Buytaert."),ue()()()()()()())},dependencies:()=>[Qk],styles:["#block-12[_ngcontent-%COMP%]{flex-shrink:0;background:linear-gradient(261deg,rgba(75,75,105,.55) -114.85%,rgba(5,5,20,1) 69.04%),#394047}#autors[_ngcontent-%COMP%]{margin-top:56px;width:70%;height:150px}#lower-desc[_ngcontent-%COMP%]{color:var(--White, #FFF);font-family:Montserrat;font-size:14px;font-style:normal;font-weight:400;line-height:normal;opacity:.7}#checkText[_ngcontent-%COMP%]{width:428px;height:31px;flex-shrink:0;color:#fff;font-family:Montserrat;font-size:12px;font-style:normal;font-weight:400;line-height:normal;margin-left:7px}#ghost-block[_ngcontent-%COMP%]{width:100%;height:100%;background-size:25%;background-image:url(/assets/img/D-flying.svg);background-position:center top;background-repeat:no-repeat}#ghost-block2[_ngcontent-%COMP%]{width:100%;height:100%;background-size:25%;background-image:url(/assets/img/D-f2.svg);background-position:right bottom;background-repeat:no-repeat}#inner-block[_ngcontent-%COMP%]{margin-top:62px;padding:20px}#title[_ngcontent-%COMP%]{width:100%;color:#fff;text-align:center;font-family:Montserrat;font-size:28px;font-style:normal;font-weight:700;line-height:normal;margin-bottom:20px}#phone[_ngcontent-%COMP%]{color:var(--White, #FFF);font-family:Montserrat;font-size:32px;font-style:normal;font-weight:700;line-height:150%}#decor1[_ngcontent-%COMP%]{position:absolute;margin-right:573px}#mail[_ngcontent-%COMP%]{color:var(--White, #FFF);font-family:Montserrat;font-size:18px;font-style:normal;font-weight:700;line-height:150%;text-decoration-line:underline;margin-bottom:40px}#desc[_ngcontent-%COMP%]{width:100%;color:#fff;font-family:Montserrat;text-align:left;font-size:12px;font-style:normal;font-weight:500;line-height:22px;opacity:.7;margin-bottom:20px}@media only screen and (min-width: 1160px){#title[_ngcontent-%COMP%]{font-size:42px;width:480px;text-align:left}#desc[_ngcontent-%COMP%]{width:480px;color:#fff;font-size:14px}}@media only screen and (min-width: 1024px){#desc[_ngcontent-%COMP%]{margin-bottom:140px}}@media only screen and (min-width: 640px){#title[_ngcontent-%COMP%]{font-size:42px;width:460px;text-align:left}#desc[_ngcontent-%COMP%]{width:480px;color:#fff;font-size:14px}}"]})}return n})(),Qk=(()=>{class n{constructor(t,i){this.elementRef=t,this.pstate=i,this.currStatus=null,this.loading=null,this.form_name=null,this.form_mail=null,this.form_phone=null,this.form_box=null,this.form_field2=null}sendingStatus(){this.pstate.sending(),We(this.currStatus?.nativeElement).hide(100),We(this.loading?.nativeElement).show(500)}failureStatus(t){this.pstate.waiting(),We(this.loading?.nativeElement).hide(100),We(this.currStatus?.nativeElement).html(t),We(this.currStatus?.nativeElement).show(500)}successStatus(){We(this.currStatus?.nativeElement).html("\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0444\u043e\u0440\u043c\u0430!"),We(this.form_name?.nativeElement).val(""),We(this.form_mail?.nativeElement).val(""),We(this.form_phone?.nativeElement).val(""),We(this.loading?.nativeElement).hide(100),We(this.currStatus?.nativeElement).show(500),setTimeout(()=>{this.pstate.hide(),this.pstate.popupState=-1,We(this.currStatus?.nativeElement).hide(500),this.pstate.waiting()},5e3),localStorage.clear()}send(){if(!this.pstate.isWainig())return;console.log("Sending!");const t=We(this.form_mail?.nativeElement).val(),i=We(this.form_name?.nativeElement).val(),r=We(this.form_phone?.nativeElement).val();if(0===t.length)return void this.failureStatus("\u041d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u043f\u043e\u043b\u0435 \u043f\u043e\u0447\u0442\u044b!");if(0===i.length)return void this.failureStatus("\u041d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u043f\u043e\u043b\u0435 \u0438\u043c\u0435\u043d\u0438!");if(0===r.length)return void this.failureStatus("\u041d\u0435 \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u043f\u043e\u043b\u0435 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430!");if(!t.includes(".")||!t.includes("@"))return void this.failureStatus("\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 Email!");if(!this.form_box?.nativeElement.checked)return void this.failureStatus("\u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u043e\u0435 \u0441\u043e\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u0435!");this.sendingStatus();const s=new FormData;s.append("Name: ",i),s.append("Email: ",t),s.append("Phone: ",r),s.append("Message: ",We(this.form_field2?.nativeElement).val());let o={};s.forEach((u,l)=>{o[l]=u});var a=JSON.stringify(o);fetch("https://api.slapform.com/MqD3VM017",{method:"POST",body:a,headers:{"Content-Type":"application/json"}}).then(u=>{u.ok?this.successStatus():this.failureStatus("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0444\u043e\u0440\u043c\u0443!")}).catch(u=>{this.failureStatus("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0444\u043e\u0440\u043c\u0443!")})}ngAfterViewInit(){const t=Zo.ReadFrom(localStorage,"form_name"),i=Zo.ReadFrom(localStorage,"form_phone"),r=Zo.ReadFrom(localStorage,"form_mail");null!==t&&We(this.form_name?.nativeElement).val(t),null!==i&&We(this.form_phone?.nativeElement).val(i),null!==r&&We(this.form_mail?.nativeElement).val(r),We(this.form_name?.nativeElement).on("input",function(){let s=We(this).val();Zo.WriteIn(localStorage,"form_name",s)}),We(this.form_mail?.nativeElement).on("input",function(){let s=We(this).val();Zo.WriteIn(localStorage,"form_mail",s)}),We(this.form_phone?.nativeElement).on("input",function(){let s=We(this).val();Zo.WriteIn(localStorage,"form_phone",s)})}static#e=this.\u0275fac=function(i){return new(i||n)(ye(gi),ye(xr))};static#t=this.\u0275cmp=cn({type:n,selectors:[["footer-contact"]],viewQuery:function(i,r){if(1&i&&(Js(aoe,5),Js(uoe,5),Js(loe,5),Js(coe,5),Js(doe,5),Js(foe,5),Js(hoe,5)),2&i){let s;Cs(s=Ds())&&(r.currStatus=s.first),Cs(s=Ds())&&(r.loading=s.first),Cs(s=Ds())&&(r.form_name=s.first),Cs(s=Ds())&&(r.form_mail=s.first),Cs(s=Ds())&&(r.form_phone=s.first),Cs(s=Ds())&&(r.form_box=s.first),Cs(s=Ds())&&(r.form_field2=s.first)}},decls:28,vars:0,consts:[["id","contact"],["type","text","placeholder","\u0412\u0430\u0448\u0435 \u0438\u043c\u044f",1,"field"],["form_name",""],["type","text","placeholder","\u0422\u0435\u043b\u0435\u0444\u043e\u043d",1,"field"],["form_phone",""],["type","email","placeholder","E-mail",1,"field"],["form_mail",""],["placeholder","\u0412\u0430\u0448 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",1,"field2"],["form_field2",""],[1,"flex","custom-checkbox"],["type","checkbox",1,"hidden-checkbox"],["form_box",""],[1,"checkmark","transform","translate-y-[5px]","lg:translate-y-[0px]","mr-[10px]","lg:mr-[2px]","scale-[130%]","lg:scale-[100%]"],["id","checkText"],["href","/",2,"color","#f14d34"],[2,"font-size","20px","color","red"],[3,"click"],["id","stat"],["status",""],[1,"hidden"],["loading",""],[1,"loading","flex","justify-center","mt-[5px]"],["src","/assets/img/loading.png","alt","Loading"]],template:function(i,r){1&i&&(ee(0,"div",0),Ae(1,"input",1,2)(3,"input",3,4)(5,"input",5,6)(7,"textarea",7,8),ee(9,"label",9),Ae(10,"input",10,11)(12,"span",12),ee(13,"div",13),st(14,"\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u044f \u0437\u0430\u044f\u0432\u043a\u0443, \u044f \u0434\u0430\u044e \u0441\u043e\u0433\u043b\u0430\u0441\u0438\u0435 \u043d\u0430 "),ee(15,"a",14),st(16,"\u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0443 \u0441\u0432\u043e\u0438\u0445 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445."),ue(),ee(17,"a",15),st(18,"*"),ue()()(),ee(19,"button",16),Ui("click",function(){return r.send()}),ee(20,"span"),st(21,"\u0421\u0412\u042f\u0416\u0418\u0422\u0415\u0421\u042c \u0421 \u041d\u0410\u041c\u0418"),ue()(),Ae(22,"div",17,18),ee(24,"div",19,20)(26,"div",21),Ae(27,"img",22),ue()()())},styles:["@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.loading[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 2s linear infinite}#contact[_ngcontent-%COMP%]{flex-shrink:0;width:auto}@media (min-width: 640px){#contact[_ngcontent-%COMP%]{flex-shrink:0;width:480px}}#checkText[_ngcontent-%COMP%]{width:80%;height:31px;flex-shrink:0;color:#fff;font-family:Montserrat;font-size:12px;font-style:normal;font-weight:400;line-height:normal;margin-left:7px}button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--White, #FFF);text-align:center;font-family:Montserrat;font-size:12px;font-style:normal;font-weight:500;line-height:12px;letter-spacing:.72px;text-transform:uppercase}#stat[_ngcontent-%COMP%]{display:none;margin-top:10px;color:var(--White, #FFF);text-align:center;font-family:Montserrat;font-size:18px;font-style:normal;font-weight:500;line-height:24px;letter-spacing:.72px;text-transform:uppercase;padding:12px;background-color:#937b96;border-radius:5px;margin-bottom:10px}button[_ngcontent-%COMP%]{margin-top:50px;border-radius:5px;border:2px solid var(--icons-1, #F14D34);width:100%;height:60px;flex-shrink:0;background-color:#f14d34;transition:background-color .5s ease;margin-bottom:5px}button[_ngcontent-%COMP%]:hover{background-color:transparent}[_ngcontent-%COMP%]::-webkit-input-placeholder{color:#fff;font-family:Montserrat;font-size:14px;font-style:normal;font-weight:500;line-height:16px}[_ngcontent-%COMP%]::-moz-placeholder{color:#fff;font-family:Montserrat;font-size:14px;font-style:normal;font-weight:500;line-height:16px}[_ngcontent-%COMP%]:-moz-placeholder{color:#fff;font-family:Montserrat;font-size:14px;font-style:normal;font-weight:500;line-height:16px}[_ngcontent-%COMP%]:-ms-input-placeholder{color:#fff;font-family:Montserrat;font-size:14px;font-style:normal;font-weight:500;line-height:16px}.field[_ngcontent-%COMP%]{color:#fff;font-family:Montserrat;font-size:14px;font-style:normal;font-weight:500;line-height:16px;padding-left:24px;width:100%;height:67px;flex-shrink:0;background-color:transparent;border-radius:5px;border:1px solid var(--White, rgba(255, 255, 255, .3));margin-bottom:7px}.field2[_ngcontent-%COMP%]{resize:vertical;color:#fff;font-family:Montserrat;font-size:14px;font-style:normal;font-weight:500;line-height:16px;padding-top:15px;padding-left:24px;width:100%;height:127px;flex-shrink:0;background-color:transparent;border-radius:5px;border:1px solid var(--White, rgba(255, 255, 255, .3));margin-bottom:7px}.custom-checkbox[_ngcontent-%COMP%]   .hidden-checkbox[_ngcontent-%COMP%]{display:none}.custom-checkbox[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]{display:inline-block;width:25px;height:25px;background-image:url(/assets/img/checked-icon2.svg)}.custom-checkbox[_ngcontent-%COMP%]   .hidden-checkbox[_ngcontent-%COMP%]:checked + .checkmark[_ngcontent-%COMP%]{background-image:url(/assets/img/checked-icon.svg)}"]})}return n})();function moe(n,e){if(1&n&&(No(0),ee(1,"a",4)(2,"div",5)(3,"div",6),st(4),ue()()(),Lo()),2&n){const t=e.$implicit,i=e.index,r=vl(2);Be(1),ut("href",r.sectionLink[i],hr),Be(3),Sn(" ",t," ")}}function goe(n,e){if(1&n&&(No(0),ee(1,"div",2),ws(2,moe,5,2,"ng-container",3),ue(),Lo()),2&n){const t=vl();Be(2),ut("ngForOf",t.menuSection)}}function voe(n,e){if(1&n&&(No(0),ee(1,"a",4)(2,"div",8),st(3),ue()(),Lo()),2&n){const t=e.$implicit,i=e.index,r=vl(2);Be(1),ut("href",r.sectionLink[i],hr),Be(2),Sn(" ",t," ")}}function _oe(n,e){if(1&n&&(ee(0,"div",7),ws(1,voe,4,2,"ng-container",3),ue()),2&n){const t=vl();Be(1),ut("ngForOf",t.menuSection)}}const yoe=["buttonMenu"];function xoe(n,e){1&n&&(No(0),Co(),ee(1,"svg",3),Ae(2,"path",4),ue(),Lo())}const boe=n=>({"width.px":n});function Eoe(n,e){if(1&n&&(No(0),Co(),ee(1,"svg",5),Ae(2,"line",6),ue(),Lo()),2&n){const t=vl();Be(1),ut("ngStyle",sI(1,boe,t.svgWidth))}}const Moe=["mobilemenu"],woe=()=>["\u041c\u0418\u0413\u0420\u0410\u0426\u0418\u042f","\u0411\u042d\u041a\u0410\u041f\u042b","\u0410\u0423\u0414\u0418\u0422 \u0411\u0415\u0417\u041e\u041f\u0410\u0421\u041d\u041e\u0421\u0422\u0418","\u041e\u041f\u0422\u0418\u041c\u0418\u0417\u0410\u0426\u0418\u042f \u0421\u041a\u041e\u0420\u041e\u0421\u0422\u0418","\u041f\u0415\u0420\u0415\u0415\u0417\u0414 \u041d\u0410 HTTPS"],Soe=()=>["/","/","/","/","/"],Coe=()=>["\u041a\u041e\u041c\u0410\u041d\u0414\u0410","DRUPALGIVE","\u041a\u0423\u0420\u0421\u042b DRUPAL","\u0412\u0410\u041a\u0410\u041d\u0421\u0418\u0418"],Doe=()=>["/","/","/","/"];function Aoe(n,e){if(1&n&&(No(0),Ae(1,"img",10),Lo()),2&n){const t=vl();Be(1),ut("src",t.titleImgLink,hr)}}let Toe=(()=>{class n{constructor(t){this.elementRef=t,this.menuSection=[],this.sectionLink=[]}isMobile(){return window.innerWidth<640}static#e=this.\u0275fac=function(i){return new(i||n)(ye(gi))};static#t=this.\u0275cmp=cn({type:n,selectors:[["button-menu"]],inputs:{menuSection:"menuSection",sectionLink:"sectionLink"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["onElse",""],["id","",1,"relative","z-[5]"],[4,"ngFor","ngForOf"],[3,"href"],["id","mobile-block"],[1,"ml-[25px]","z-[10]","section2","p-[10px]"],["id","block",1,"fixed","z-[5]","py-[5px]"],[1,"z-[10]","section","p-[10px]"]],template:function(i,r){if(1&i&&ws(0,goe,3,1,"ng-container",0)(1,_oe,2,1,"ng-template",null,1,vI),2&i){const s=function AT(n){return function Bc(n,e){return n[e]}(function KU(){return Et.lFrame.contextLView}(),Ot+n)}(2);ut("ngIf",r.isMobile())("ngIfElse",s)}},dependencies:[C3,xv],styles:["#block[_ngcontent-%COMP%]{background:var(--main-black, #F14D34)}.section[_ngcontent-%COMP%]{width:100%;color:var(--main-black, #ffffff);background-color:transparent;transition:background-color .25s ease;font-family:Ubuntu;font-size:14px;font-style:normal;font-weight:100;line-height:22px;padding-top:4px;padding-bottom:4px}#mobile-block[_ngcontent-%COMP%]{width:100%;border-top:1px solid rgb(59,59,59)}.section2[_ngcontent-%COMP%]{width:100%;color:#ec8578;font-family:Ubuntu;font-size:18px;font-style:normal;font-weight:100;line-height:10px;letter-spacing:.72px;text-transform:uppercase;padding-bottom:16px;padding-top:16px}.section[_ngcontent-%COMP%]:hover{background-color:#00000040}"]})}return n})(),Ioe=(()=>{class n{constructor(t){this.elementRef=t,this.buttonMenu=null,this.innerText="",this.textClass="button-d mr-0 sm:mr-[20px]",this.menuId="",this.link=".section_head",this.svgWidth=0}scrollTo(){const t=We(this.link).offset()?.top;We("html, body").animate({scrollTop:t},320)}isMenu(){return 0!=this.menuId.length}getClassList(){return this.textClass}ngOnInit(){this.init(),We(window).on("resize",t=>{this.init()})}init(){We(this.menuId).off(),We(this.elementRef.nativeElement).off(),We(this.menuId).css({position:"relative",left:0,top:0}),this.isMenu()&&(window.innerWidth>=640?(We(this.menuId).hide(),We(this.elementRef.nativeElement).append(We(this.menuId)),We(this.elementRef.nativeElement).on("click touchstart",t=>{We(this.elementRef.nativeElement).trigger("mouseenter")}),We(this.elementRef.nativeElement).on("mouseenter",t=>{We(this.menuId).css({position:"fixed",left:this.elementRef.nativeElement.getBoundingClientRect().left,top:this.elementRef.nativeElement.getBoundingClientRect().top+this.elementRef.nativeElement.querySelector("button").offsetHeight}),We(this.menuId).is(":animated")||We(this.menuId).show(100)}),We(this.elementRef.nativeElement).on("mouseleave",t=>{We(this.menuId).hide(100)}),We(window).on("scroll",t=>{We(this.elementRef.nativeElement).trigger("mouseleave")})):(We(this.menuId).show(),We(this.elementRef.nativeElement).append(We(this.menuId)),We(this.elementRef.nativeElement).on("click touchstart",t=>{We(this.elementRef.nativeElement).trigger("mouseenter")})))}calcBounds(){const t=this.elementRef.nativeElement.querySelector("button").offsetWidth;this.svgWidth=t}onMouseOver(){this.calcBounds()}static#e=this.\u0275fac=function(i){return new(i||n)(ye(gi))};static#t=this.\u0275cmp=cn({type:n,selectors:[["head-button"]],viewQuery:function(i,r){if(1&i&&Js(yoe,5),2&i){let s;Cs(s=Ds())&&(r.buttonMenu=s.first)}},inputs:{innerText:"innerText",textClass:"textClass",menuId:"menuId",link:"link"},decls:5,vars:5,consts:[[3,"click","mouseenter"],[1,"flex","ml-[10px]","md:ml-[0px]"],[4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","10","height","7","viewBox","0 0 9 6","fill","none",1,"ml-[3px]","mt-[2px]"],["opacity","0.7","d","M1 1L4.5 4.5L8 1","stroke","white","stroke-width","2"],["preserveAspectRatio","none","height","3","viewBox","0 0 140 3","fill","none","xmlns","http://www.w3.org/2000/svg",1,"hidden","sm:block","line-image",3,"ngStyle"],["y1","1.5","x2","140","y2","1.5","stroke","#F14D34","stroke-width","3"]],template:function(i,r){1&i&&(ee(0,"button",0),Ui("click",function(){return r.scrollTo()})("mouseenter",function(){return r.onMouseOver()}),ee(1,"div",1),st(2),ws(3,xoe,3,0,"ng-container",2),ue(),ws(4,Eoe,3,3,"ng-container",2),ue()),2&i&&(ab(r.getClassList()),Be(2),Sn(" ",r.innerText," "),Be(1),ut("ngIf",r.isMenu()),Be(1),ut("ngIf",!r.isMenu()))},dependencies:[xv,U2],styles:[".button-d[_ngcontent-%COMP%]{width:100%;color:#fff;font-family:Ubuntu;font-size:18px;font-style:normal;font-weight:100;line-height:10px;letter-spacing:.72px;text-transform:uppercase;padding-bottom:16px;padding-top:16px;border-top:1px solid rgb(59,59,59);text-align:left;transition:color .3s ease}.menub[_ngcontent-%COMP%]{background-image:url(/assets/img/arrow-lang.svg);background-position:50% 0;background-size:12px;background-repeat:no-repeat}button[_ngcontent-%COMP%]:hover{color:#f14d34}button[_ngcontent-%COMP%]:hover   .line-image[_ngcontent-%COMP%]{opacity:1}button[_ngcontent-%COMP%]   .line-image[_ngcontent-%COMP%]{position:absolute;transform:translateY(5px);opacity:0;transition:opacity .5s ease}@media only screen and (min-width: 640px){.button-d[_ngcontent-%COMP%]{width:auto;text-align:center;font-weight:500;font-size:12px;padding-top:0;border-top:none}.menub[_ngcontent-%COMP%]{padding-left:0;padding-top:16px}}"]})}return n})(),Roe=(()=>{class n{constructor(t,i){this.router=t,this.pstate=i,this.mobilemenu=null}ngOnInit(){Jk()}init(){this.pstate.closeMobileMenu(),window.innerWidth>=640?We("#bgroup").show():We("#bgroup").hide(),We(this.mobilemenu?.nativeElement).on("click",t=>{We("#bgroup").is(":animated")||(this.pstate.isMobileMenuOpened()?(this.pstate.closeMobileMenu(),We("#bgroup").hide(500)):(this.pstate.openMobileMenu(),We("#bgroup").show(500)))})}ngAfterViewInit(){this.init(),We(window).on("resize",t=>{this.init()})}showPopUp(){-1===this.pstate.popupState&&this.router.navigate(["/popup"])}static#e=this.\u0275fac=function(i){return new(i||n)(ye(as),ye(xr))};static#t=this.\u0275cmp=cn({type:n,selectors:[["app-header"]],viewQuery:function(i,r){if(1&i&&Js(Moe,5),2&i){let s;Cs(s=Ds())&&(r.mobilemenu=s.first)}},decls:52,vars:8,consts:[["id","render_head",1,"w-full","absolute","top-0"],[1,"flex","h-auto","md:h-[650px]"],["id","block1"],[1,"my-4","md:my-8"],[1,"flex","justify-center","xl:ml-[0px]","lg:ml-[10px]","md:ml-[12px]","sm:ml-[14px]"],["id","container",1,"z-1","md:justify-start"],[1,"justify-center"],[1,"md:h-32"],["id","content",1,"lg:flex","items-center"],["href","/","src","/assets/img/drupal-coder.svg","alt","\u041b\u043e\u0433\u043e\u0442\u0438\u043f","id","logo",1,"hidden","sm:block","transform","translate-x-[12%]","scale-[124%]","translate-y-[-15%]","w-auto","mr-4"],["id","bgroup",1,"mb-[48px]","sm:mb-[0px]"],["link",".section_support","innerText","\u041f\u041e\u0414\u0414\u0415\u0420\u0416\u041a\u0410 DRUPAL",1,"inline"],["innerText","\u0410\u0414\u041c\u0418\u041d\u0418\u0421\u0422\u0420\u0418\u0420\u041e\u0412\u0410\u041d\u0418\u0415","menuId","#menu1",1,"inline"],["link",".section_footer","innerText","\u041f\u0420\u041e\u0414\u0412\u0418\u0416\u0415\u041d\u0418\u0415",1,"inline"],["link",".section_footer","innerText","\u0420\u0415\u041a\u041b\u0410\u041c\u0410",1,"inline"],["innerText","\u041e \u041d\u0410\u0421","menuId","#menu2",1,"inline"],["link",".section_tariffs","innerText","\u0422\u0410\u0420\u0418\u0424\u042b",1,"inline"],["link",".section_cases","innerText","\u041f\u0420\u041e\u0415\u041a\u0422\u042b",1,"inline"],["link",".section_footer","innerText","\u041a\u041e\u041d\u0422\u0410\u041a\u0422\u042b",1,"inline"],[1,"sm:hidden","fixed","right-0","bottom-1"],["src","/assets/img/burger-menu.png",1,"w-[32px]","h-[32px]","transform","translate-x-[-12px]"],["mobilemenu",""],["id","menu1",3,"menuSection","sectionLink"],["buttonMenu",""],["id","menu2",3,"menuSection","sectionLink"],[1,"md:flex"],["id","info",1,"w-full","text-center","mb-8","md:w-1/3"],["id","page-title"],["id","support-main-description"],[3,"click"],[1,"grid","grid-cols-2","lg:grid-cols-3","transform","md:translate-x-[210px]"],[1,"h-32","mb-2"],["titleClass","one-place","titleText","#1","titleImgLink","/assets/img/cup.png","innerText","Drupal-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a <br> \u0432 \u0420\u043e\u0441\u0441\u0438\u0438 \u043f\u043e \u0432\u0435\u0440\u0441\u0438\u0438 <br> \u0420\u0435\u0439\u0442\u0438\u043d\u0433\u0430 \u0420\u0443\u043d\u0435\u0442\u0430"],["titleClass","common","titleText","3+","innerText","\u0441\u0440\u0435\u0434\u043d\u0438\u0439 \u043e\u043f\u044b\u0442 <br> \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0441\u0442\u043e\u0432 \u0431\u043e\u043b\u0435\u0435 <br> 3 \u043b\u0435\u0442"],["titleClass","common","titleText","14","innerText","\u043b\u0435\u0442 \u043e\u043f\u044b\u0442\u0430 \u0432 \u0441\u0444\u0435\u0440\u0435 <br> Drupal"],["titleClass","common","titleText","200+","innerText","\u043c\u043e\u0434\u0443\u043b\u0435\u0439 \u0438 \u0442\u0435\u043c <br> \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 DrupalGive"],[1,"h-32","mb-16"],["titleClass","common","titleText","35 000","innerText","\u0447\u0430\u0441\u043e\u0432 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438 <br> \u0441\u0430\u0439\u0442\u043e\u0432 \u043d\u0430 Drupal"],["titleClass","common","titleText","200+","innerText","\u041f\u0440\u043e\u0435\u043a\u0442\u043e\u0432 <br> \u043d\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0435"]],template:function(i,r){1&i&&(Ae(0,"div",0),ee(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8),Ae(9,"img",9),ee(10,"div",10),Ae(11,"head-button",11)(12,"head-button",12)(13,"head-button",13)(14,"head-button",14)(15,"head-button",15)(16,"head-button",16)(17,"head-button",17)(18,"head-button",18),ue(),ee(19,"div",19),Ae(20,"img",20,21),ue(),Ae(22,"button-menu",22,23)(24,"button-menu",24,23),ue()(),ee(26,"div",25)(27,"div",26)(28,"h1",27),st(29,"\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 "),Ae(30,"br"),st(31," \u0441\u0430\u0439\u0442\u043e\u0432 \u043d\u0430 Drupal"),ue(),ee(32,"div",28),st(33," \u0421\u043e\u043f\u0440\u043e\u0432\u043e\u0436\u0434\u0435\u043d\u0438\u0435 \u0438 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u0441\u0430\u0439\u0442\u043e\u0432 "),Ae(34,"br"),st(35," \u043d\u0430 CMS Drupal \u043b\u044e\u0431\u044b\u0445 \u0432\u0435\u0440\u0441\u0438\u0439 \u0438 \u0437\u0430\u043f\u0443\u0449\u0435\u043d\u043d\u043e\u0441\u0442\u0438 "),ue(),ee(36,"button",29),Ui("click",function(){return r.showPopUp()}),st(37,"\u0421\u0412\u042f\u0417\u042c \u0421 \u041d\u0410\u041c\u0418"),ue()(),ee(38,"div")(39,"div",30)(40,"div",31),Ae(41,"drupal-desc",32),ue(),ee(42,"div",31),Ae(43,"drupal-desc",33),ue(),ee(44,"div",31),Ae(45,"drupal-desc",34),ue(),ee(46,"div",31),Ae(47,"drupal-desc",35),ue(),ee(48,"div",36),Ae(49,"drupal-desc",37),ue(),ee(50,"div",36),Ae(51,"drupal-desc",38),ue()()()()()()()()()()),2&i&&(Be(22),ut("menuSection",du(4,woe))("sectionLink",du(5,Soe)),Be(2),ut("menuSection",du(6,Coe))("sectionLink",du(7,Doe)))},dependencies:()=>[Ioe,Poe,Toe],styles:["#block1[_ngcontent-%COMP%]{position:relative;overflow:hidden;width:100%}#content[_ngcontent-%COMP%]{position:fixed;bottom:0;left:0;width:100%;min-height:48px;background-color:#000;box-shadow:0 -5px 5px #0000001a;z-index:200;background-image:url(/assets/img/drupal-coder.svg);background-size:200px auto;background-position:left 99%;background-repeat:no-repeat}#bgroup[_ngcontent-%COMP%]{border-bottom:2px solid rgb(172,105,228)}#logo[_ngcontent-%COMP%]{width:136.989px;height:19.244px;flex-shrink:0;margin-right:61px}#container[_ngcontent-%COMP%]{color:#fff;display:flex;flex-wrap:wrap}#info[_ngcontent-%COMP%]{text-align:center}#page-title[_ngcontent-%COMP%]{color:var(--White, #FFF);font-family:Montserrat;font-size:24px;font-style:bold;font-weight:700;line-height:60px;white-space:nowrap;line-height:1.2;margin-top:45px}#support-main-description[_ngcontent-%COMP%]{color:var(--White, #FFF);font-family:Montserrat;font-size:14px;font-style:normal;font-weight:500;line-height:28px;margin-top:15px;opacity:.8}#container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:50px;border-radius:5px;border:2px solid var(--icons-1, #F14D34);width:220px;height:60px;flex-shrink:0;background-color:transparent;transition:background-color .5s ease}#container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#f14d34}@media only screen and (min-width: 640px){#bgroup[_ngcontent-%COMP%]{border-bottom:0px}#block1[_ngcontent-%COMP%]{margin-bottom:50px}#container[_ngcontent-%COMP%]{text-align:initial}#page-title[_ngcontent-%COMP%]{font-size:46px;margin-top:0}#support-main-description[_ngcontent-%COMP%]{font-size:18px}#info[_ngcontent-%COMP%]{white-space:nowrap;text-align:initial}#content[_ngcontent-%COMP%]{background-image:none;position:relative;bottom:auto;left:auto;width:auto;background-color:transparent;box-shadow:none;z-index:1}}@media only screen and (min-width: 820px){#page-title[_ngcontent-%COMP%]{font-size:52px;margin-top:0}}"]})}return n})(),Poe=(()=>{class n{constructor(){this.titleClass="",this.titleImgLink="",this.titleText="",this.innerText=""}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=cn({type:n,selectors:[["drupal-desc"]],inputs:{titleClass:"titleClass",titleImgLink:"titleImgLink",titleText:"titleText",innerText:"innerText"},decls:14,vars:5,consts:[[1,"mr-[24px]"],[1,"absolute"],["xmlns","http://www.w3.org/2000/svg","width","3","height","80","viewBox","0 0 3 80","fill","none",1,"my-10"],["width","3","height","80","fill","#F14D34"],[1,"w-32","h-40"],[1,"mx-3"],[1,"h-14","my-2"],[1,"grid","grid-cols-2"],[4,"ngIf"],["id","desc-text",3,"innerHTML"],["id","d-img","alt","1 place",3,"src"]],template:function(i,r){1&i&&(ee(0,"div",0)(1,"div",1),Co(),ee(2,"svg",2),Ae(3,"rect",3),ue()(),Qa(),ee(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div")(9,"h1"),st(10),ue()(),ee(11,"div"),ws(12,Aoe,2,1,"ng-container",8),ue()()(),Ae(13,"div",9),ue()()()),2&i&&(Be(9),ab(r.titleClass),Be(1),Sn(" ",r.titleText," "),Be(2),ut("ngIf",""!==r.titleImgLink),Be(1),ut("innerHTML",r.innerText,uu))},dependencies:[xv],styles:['#d-img[_ngcontent-%COMP%]{width:59px;height:58px;object-fit:none}#desc-text[_ngcontent-%COMP%]{color:var(--White, #FFF);font-family:Montserrat;font-size:12px;font-style:normal;font-weight:500;line-height:normal;opacity:.7;white-space:nowrap}.support-achievement-title[_ngcontent-%COMP%]{color:var(--White, #FFF);font-family:"Montserrat" non-serif;font-size:48px;font-style:normal;font-weight:700;line-height:normal;width:54px}.one-place[_ngcontent-%COMP%]{color:var(--White, #FFF);font-family:Montserrat;font-size:48px;font-style:normal;font-weight:700;line-height:normal;margin-top:12px;white-space:nowrap}.common[_ngcontent-%COMP%]{color:var(--White, #FFF);font-family:Montserrat;font-size:24px;font-style:normal;font-weight:700;line-height:normal;margin-top:30px;white-space:nowrap}']})}return n})();const Ooe=[{path:"popup",component:(()=>{class n{constructor(t,i,r){this.router=t,this.elementRef=i,this.pstate=r}animationShow(){let t=requestAnimationFrame(this.animationShow.bind(this)),i=Number.parseFloat(We(this.elementRef.nativeElement).css("opacity"));i<1&&We(this.elementRef.nativeElement).css({opacity:i+.03}),this.pstate.isShown||(this.animationHide(),cancelAnimationFrame(t))}animationHide(){let t=requestAnimationFrame(this.animationHide.bind(this)),i=Number.parseFloat(We(this.elementRef.nativeElement).css("opacity"));i>0?We(this.elementRef.nativeElement).css({opacity:i-.03}):(We(this.elementRef.nativeElement).css({display:"none"}),cancelAnimationFrame(t),this.router.navigate(["/"]))}ngOnInit(){this.pstate.show(),We(this.elementRef.nativeElement).css({display:"block",opacity:"0"}),this.animationShow()}static#e=this.\u0275fac=function(i){return new(i||n)(ye(as),ye(gi),ye(xr))};static#t=this.\u0275cmp=cn({type:n,selectors:[["popUp"]],decls:7,vars:0,consts:[[1,"z-[20]","absolute"],["id","backgroundBlock"],["id","popup"],["id","ghost-block"],[1,"p-[42px]"],[1,"flex","justify-center"]],template:function(i,r){1&i&&(ee(0,"div",0),Ae(1,"div",1),ee(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5),Ae(6,"footer-contact"),ue()()()()())},dependencies:[Qk],styles:["#backgroundBlock[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#000;opacity:.5;z-index:100}#ghost-block[_ngcontent-%COMP%]{width:100%;height:100%;background-image:url(/assets/img/D-f2.svg);background-position:right bottom;background-repeat:no-repeat}#popup[_ngcontent-%COMP%]{position:fixed;top:0%;left:0%;width:100%;height:100%;flex-shrink:0;background:linear-gradient(261deg,rgba(75,75,105,.55) -114.85%,rgba(5,5,20,1) 69.04%),#394047;border-radius:5px;border:2px solid var(--icons-1, #5d3494);z-index:100}@media (min-width: 640px){#popup[_ngcontent-%COMP%]{top:50%;left:50%;width:auto;height:auto;transform:translate(-50%) translateY(-50%)}#ghost-block[_ngcontent-%COMP%]{background-image:url(/assets/img/D-flying.svg);background-position:right top}}"]})}return n})()}];let Noe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$n({type:n});static#n=this.\u0275inj=xn({imports:[FN.forRoot(Ooe),FN]})}return n})(),Loe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$n({type:n});static#n=this.\u0275inj=xn({providers:[xr],imports:[ns,is,LY,FY,UY,PY,BY,IY,VY,NY,RY,NO,kY,NE,OY,Noe]})}return n})();We(()=>{});let Foe=(()=>{class n{constructor(t){this.elementRef=t}ngAfterViewInit(){We("#block2").css({"margin-left":We("#logo").offset()?.left+"px"}),We(window).on("resize",t=>{We("#block2").css({"margin-left":We("#logo").offset()?.left+"px"})})}static#e=this.\u0275fac=function(i){return new(i||n)(ye(gi))};static#t=this.\u0275cmp=cn({type:n,selectors:[["app-info"]],decls:15,vars:0,consts:[[1,"flex","mx-[10px]","md:mx-[0px]"],["id","block2"],["id","main_title"],["id","main_desc"],[1,"grid","grid-cols-2","md:grid-cols-4","gap-x-[4px]"],["ImgLink","/assets/img/1.svg","innerText","\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u0438\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u0438 \u043d\u0430 \u0441\u0430\u0439\u0442, \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043d\u043e\u0432\u044b\u0445 \u0440\u0430\u0437\u0434\u0435\u043b\u043e\u0432"],["ImgLink","/assets/img/2.svg","innerText","\u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u0438 \u043e\u043f\u0442\u0438\u043c\u0438\u0437\u0430\u0446\u0438\u044f \u043c\u043e\u0434\u0443\u043b\u0435\u0439 \u0441\u0430\u0439\u0442\u0430"],["ImgLink","/assets/img/3.svg","innerText","\u0418\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044f \u0441 CRM, 1C, \u043f\u043b\u0430\u0442\u0435\u0436\u043d\u044b\u043c\u0438 \u0441\u0438\u0441\u0442\u0435\u043c\u0430\u043c\u0438, \u043b\u044e\u0431\u044b\u043c\u0438 \u0432\u0435\u0431-\u0441\u0435\u0440\u0432\u0438\u0441\u0430\u043c\u0438"],["ImgLink","/assets/img/4.svg","innerText","\u041b\u044e\u0431\u044b\u0435 \u0434\u043e\u0440\u0430\u0431\u043e\u0442\u043a\u0438 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u0430 \u0438 \u0434\u0438\u0437\u0430\u0439\u043d\u0430"],["ImgLink","/assets/img/5.svg","innerText","\u0410\u0443\u0434\u0438\u0442 \u0438 \u043c\u043e\u043d\u0438\u0442\u043e\u0440\u0438\u043d\u0433 \u0431\u0435\u0437\u043e\u043f\u0430\u0441\u043d\u043e\u0441\u0442\u0438 Drupal \u0441\u0430\u0439\u0442\u043e\u0432"],["ImgLink","/assets/img/6.svg","innerText","\u041c\u0438\u0433\u0440\u0430\u0446\u0438\u044f, \u0438\u043c\u043f\u043e\u0440\u0442 \u043a\u043e\u043d\u0442\u0435\u043d\u0442\u0430 \u0438 \u0430\u043f\u0433\u0440\u0435\u0439\u0434 Drupal"],["ImgLink","/assets/img/7.svg","innerText","\u041e\u043f\u0442\u0438\u043c\u0438\u0437\u0430\u0446\u0438\u044f\u0438 \u0443\u0441\u043a\u043e\u0440\u0435\u043d\u0438\u0435 Drupal-\u0441\u0430\u0439\u0442\u043e\u0432"],["ImgLink","/assets/img/8.svg","innerText","\u0412\u0435\u0431-\u043c\u0430\u0440\u043a\u0435\u0442\u0438\u043d\u0433, \u043a\u043e\u043d\u0441\u0443\u043b\u044c\u0442\u0430\u0446\u0438\u0438\u0438 \u0440\u0430\u0431\u043e\u0442\u044b \u043f\u043e SEO"]],template:function(i,r){1&i&&(ee(0,"div",0)(1,"div",1)(2,"div",2),st(3," 13 \u043b\u0435\u0442 \u0441\u043e\u0432\u0435\u0440\u0448\u0435\u043d\u0441\u0442\u0432\u0443\u0435\u043c \u043a\u043e\u043c\u043f\u0435\u0442\u0435\u043d\u0446\u0438\u0438 \u0432 Drupal \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0435! "),ee(4,"div",3),st(5,"\u0420\u0430\u0437\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u043c \u0438 \u043e\u043f\u0442\u0438\u043c\u0438\u0437\u0438\u0440\u0443\u0435\u043c \u043c\u043e\u0434\u0443\u043b\u0438, \u0440\u0430\u0441\u0448\u0438\u0440\u044f\u0435\u043c \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0441\u0430\u0439\u0442\u043e\u0432, \u043e\u0431\u043d\u043e\u0432\u043b\u044f\u0435\u043c \u0434\u0438\u0437\u0430\u0439\u043d"),ue()(),ee(6,"div",4),Ae(7,"block-desc",5)(8,"block-desc",6)(9,"block-desc",7)(10,"block-desc",8)(11,"block-desc",9)(12,"block-desc",10)(13,"block-desc",11)(14,"block-desc",12),ue()()())},dependencies:()=>[koe],styles:["#block2[_ngcontent-%COMP%]{position:relative;margin-top:100px;margin-bottom:110px;width:100%}#main_title[_ngcontent-%COMP%]{color:var(--main-black, #050C33);font-family:Montserrat;font-size:24px;font-style:normal;font-weight:700;line-height:normal;width:100%;margin-bottom:20px}#main_desc[_ngcontent-%COMP%]{color:var(--main-black, #050C33);font-family:Montserrat;font-size:16px;font-style:normal;font-weight:500;width:100%;line-height:22px;opacity:.7;margin-top:18px}.desc-block[_ngcontent-%COMP%]{width:182px;height:194px;flex-shrink:0}@media only screen and (min-width: 640px){#main_title[_ngcontent-%COMP%]{font-size:42px;width:580px;margin-bottom:63px}#main_desc[_ngcontent-%COMP%]{width:493px}}"]})}return n})(),koe=(()=>{class n{constructor(){this.ImgLink="",this.innerText=""}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=cn({type:n,selectors:[["block-desc"]],inputs:{ImgLink:"ImgLink",innerText:"innerText"},decls:7,vars:2,consts:[[1,"desc-block","flex","flex-col"],["id","pics"],["src","/assets/img/icon-bg.svg","alt","\u041b\u043e\u0433\u043e\u0442\u0438\u043f",1,"icon-b"],["alt","\u041b\u043e\u0433\u043e\u0442\u0438\u043f",1,"icon-m",3,"src"],[1,"desc-text"]],template:function(i,r){1&i&&(ee(0,"div",0)(1,"div",1),Ae(2,"img",2)(3,"img",3),ue(),ee(4,"div")(5,"div",4),st(6),ue()()()),2&i&&(Be(3),ut("src",r.ImgLink,hr),Be(3),Sn(" ",r.innerText," "))},styles:[".icon-b[_ngcontent-%COMP%]{position:absolute;transform:translateY(17px) translate(-55px);width:114px;height:71px;flex-shrink:0}#pics[_ngcontent-%COMP%]{margin-left:55px}.icon-m[_ngcontent-%COMP%]{width:81px;height:81px;flex-shrink:0;margin-bottom:20px}.desc-text[_ngcontent-%COMP%]{color:var(--main-black, #050C33);width:182px;font-family:Montserrat;font-size:14px;font-style:normal;font-weight:500;line-height:22px;opacity:.7}.desc-block[_ngcontent-%COMP%]{margin-bottom:50px}@media only screen and (min-width: 640px){.desc-block[_ngcontent-%COMP%]{margin-right:117px}#pics[_ngcontent-%COMP%]{margin-left:0}.desc-text[_ngcontent-%COMP%]{font-size:16px}}"]})}return n})();We(()=>{});let Uoe=(()=>{class n{getImgUrl(){return"url("+this.ImgLink+")"}getId(){return"0"+this.innerId+"."}constructor(){this.ImgLink="",this.titleText="",this.innerText="",this.innerId=-1}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=cn({type:n,selectors:[["support-block"]],inputs:{ImgLink:"ImgLink",titleText:"titleText",innerText:"innerText",innerId:"innerId"},decls:9,vars:5,consts:[["id","block"],["id","sblock"],[1,"px-[26px]"],["id","idtext"],["id","titletext"],["id","innertext"]],template:function(i,r){1&i&&(ee(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),st(4),ue(),ee(5,"div",4),st(6),ue(),ee(7,"div",5),st(8),ue()()()()),2&i&&(Be(1),ob("background-image",r.getImgUrl()),Be(3),Sn(" ",r.getId()," "),Be(2),Sn(" ",r.titleText," "),Be(2),Sn(" ",r.innerText," "))},styles:["#block[_ngcontent-%COMP%]{margin-left:15px;margin-right:15px}#sblock[_ngcontent-%COMP%]{width:100%;height:222px;flex-shrink:0;border-radius:5px;background:var(--White, #FFF);box-shadow:0 28px 42px #0000001a;background-repeat:no-repeat;background-position:bottom right;padding-top:27px;margin-bottom:4px}#titletext[_ngcontent-%COMP%]{width:90%;color:var(--main-black, #050C33);font-family:Montserrat;font-size:18px;font-style:normal;font-weight:700;line-height:normal;margin-bottom:12px}#innertext[_ngcontent-%COMP%]{width:90%;color:var(--main-black, #050C33);font-family:Montserrat;font-size:16px;font-style:normal;font-weight:500;line-height:22px;opacity:.7}img[_ngcontent-%COMP%]{flex-shrink:0}#idtext[_ngcontent-%COMP%]{color:var(--main-black, #050C33);font-family:Montserrat;font-size:12px;font-style:normal;font-weight:700;line-height:normal;opacity:.5;width:232px;margin-bottom:20px}@media only screen and (min-width: 640px){#sblock[_ngcontent-%COMP%]{height:292px}#inner-block[_ngcontent-%COMP%]{margin-right:0;margin-left:0}#titletext[_ngcontent-%COMP%]{width:232px}#innertext[_ngcontent-%COMP%]{width:233px}#block[_ngcontent-%COMP%]{margin-left:2px;margin-right:2px}}"]})}return n})(),Boe=(()=>{class n{constructor(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=cn({type:n,selectors:[["app-support"]],decls:20,vars:8,consts:[["id","block3"],[1,"flex","justify-center"],["id","title"],[1,"sm:flex","sm:justify-center"],["id","blocks"],[1,"xl:flex"],[1,"sm:flex"],["ImgLink","/assets/img/support1.svg","titleText","\u041f\u043e\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0430 \u0437\u0430\u0434\u0430\u0447\u0438 \u043f\u043e Email","innerText","\u0423\u0434\u043e\u0431\u043d\u0430\u044f \u0438 \u043f\u0440\u0438\u0432\u044b\u0447\u043d\u0430\u044f \u043c\u043e\u0434\u0435\u043b\u044c \u043f\u043e\u0441\u0442\u0430\u043d\u043e\u0432\u043a\u0438 \u0437\u0430\u0434\u0430\u0447, \u043f\u0440\u0438 \u043a\u043e\u0442\u043e\u0440\u043e\u0439 \u0437\u0430\u0434\u0430\u0447\u0438 \u0444\u0438\u043a\u0441\u0438\u0440\u0443\u044e\u0442\u0441\u044f \u0438 \u043d\u0438\u043a\u043e\u0433\u0434\u0430 \u043d\u0435 \u0442\u0435\u0440\u044f\u044e\u0442\u0441\u044f.",3,"innerId"],["ImgLink","/assets/img/pie-chart.svg","titleText","\u0421\u0438\u0441\u0442\u0435\u043c\u0430 Helpdesk \u2013 \u043e\u0442\u0447\u0435\u0442\u043d\u043e\u0441\u0442\u044c, \u043f\u0440\u043e\u0437\u0440\u0430\u0447\u043d\u043e\u0441\u0442\u044c","innerText","\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0432\u0441\u0435 \u0437\u0430\u044f\u0432\u043a\u0438 \u0432 \u0440\u0430\u0431\u043e\u0442\u0435\u0438 \u043e\u0442\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u043d\u044b\u0435 \u0447\u0430\u0441\u044b \u0432 \u043b\u0438\u0447\u043d\u043e\u043c \u043a\u0430\u0431\u0438\u043d\u0435\u0442\u0435 \u0447\u0435\u0440\u0435\u0437 \u0431\u0440\u0430\u0443\u0437\u0435\u0440.",3,"innerId"],["ImgLink","/assets/img/settings.svg","titleText","\u0420\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u043d\u0430\u044f \u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0430\u044f \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430","innerText","\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438 \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u043d\u043e\u0439 \u0442\u0435\u0445\u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438 \u0441 6:00 \u0434\u043e 22:00 \u0431\u0435\u0437 \u0432\u044b\u0445\u043e\u0434\u043d\u044b\u0445.",3,"innerId"],["ImgLink","/assets/img/group.svg","titleText","\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0439 \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440 \u043f\u0440\u043e\u0435\u043a\u0442\u0430","innerText","\u0412\u0430\u0448 \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440 \u043f\u0440\u043e\u0435\u043a\u0442\u0430  \u0432\u0441\u0435\u0433\u0434\u0430 \u0432 \u043a\u0443\u0440\u0441\u0435 \u0442\u0435\u043a\u0443\u0449\u0435\u0433\u043e \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u044f \u043f\u0440\u043e\u0435\u043a\u0442\u0430\u0438 \u0432 \u043b\u044e\u0431\u043e\u0439 \u043c\u043e\u043c\u0435\u043d\u0442 \u0433\u043e\u0442\u043e\u0432 \u043e\u0442\u0432\u0435\u0442\u0438\u0442\u044c \u043d\u0430 \u043b\u044e\u0431\u044b\u0435 \u0432\u043e\u043f\u0440\u043e\u0441\u044b.",3,"innerId"],["ImgLink","/assets/img/support5.svg","titleText","\u0423\u0434\u043e\u0431\u043d\u044b\u0435 \u0441\u043f\u043e\u0441\u043e\u0431\u044b \u043e\u043f\u043b\u0430\u0442\u044b","innerText","\u0411\u0435\u0437\u043d\u0430\u043b\u0438\u0447\u043d\u044b\u0439 \u0440\u0430\u0441\u0447\u0435\u0442 \u043f\u043e \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0443 \u0438\u043b\u0438 \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u044b\u0435 \u0434\u0435\u043d\u044c\u0433\u0438: WebMoney, \u042f\u043d\u0434\u0435\u043a\u0441.\u0414\u0435\u043d\u044c\u0433\u0438, Paypal.",3,"innerId"],["ImgLink","/assets/img/support6.svg","titleText","\u0420\u0430\u0431\u043e\u0442\u0430\u0435\u043c \u0441 SLA \u0438 NDA","innerText","\u0420\u0430\u0431\u043e\u0442\u0430 \u0432 \u0440\u0430\u043c\u043a\u0430\u0445 \u0441\u043e\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u0439 \u043e \u043a\u043e\u043d\u0444\u0438\u0434\u0435\u043d\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0438 \u043e\u0431 \u0443\u0440\u043e\u0432\u043d\u0435 \u043a\u0430\u0447\u0435\u0442\u0441\u0432\u0430 \u0440\u0430\u0431\u043e\u0442.",3,"innerId"],["ImgLink","/assets/img/group2.svg","titleText","\u0428\u0442\u0430\u0442\u043d\u044b\u0435 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0441\u0442\u044b","innerText","\u041d\u0430\u0434\u0435\u0436\u043d\u044b\u0435 \u0448\u0442\u0430\u0442\u043d\u044b\u0435 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0441\u0442\u044b, \u043d\u0438\u043a\u0430\u043a\u0438\u0445 \u0444\u0440\u0438\u043b\u0430\u043d\u0441\u0435\u0440\u043e\u0432.",3,"innerId"],["ImgLink","/assets/img/support8.svg","titleText","\u0423\u0434\u043e\u0431\u043d\u044b\u0435 \u043a\u0430\u043d\u0430\u043b\u044b \u0441\u0432\u044f\u0437\u0438","innerText","\u041a\u043e\u043d\u0441\u0443\u043b\u044c\u0442\u0430\u0446\u0438\u0438 \u043f\u043e \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0443, \u0441\u043a\u0430\u0439\u043f\u0443, \u0432 \u043c\u0435\u0441\u0435\u043d\u0434\u0436\u0435\u0440\u0430\u0445.",3,"innerId"]],template:function(i,r){1&i&&(ee(0,"div",0)(1,"div",1)(2,"h2",2),st(3,"\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430 \u043e\u0442 Drupal-coder"),ue()(),ee(4,"div",3)(5,"div",4)(6,"div",5)(7,"div",6),Ae(8,"support-block",7)(9,"support-block",8),ue(),ee(10,"div",6),Ae(11,"support-block",9)(12,"support-block",10),ue()(),ee(13,"div",5)(14,"div",6),Ae(15,"support-block",11)(16,"support-block",12),ue(),ee(17,"div",6),Ae(18,"support-block",13)(19,"support-block",14),ue()()()()()),2&i&&(Be(8),ut("innerId",1),Be(1),ut("innerId",2),Be(2),ut("innerId",3),Be(1),ut("innerId",4),Be(3),ut("innerId",5),Be(1),ut("innerId",6),Be(2),ut("innerId",7),Be(1),ut("innerId",8))},dependencies:[Uoe],styles:["#block3[_ngcontent-%COMP%]{position:relative;z-index:50;flex-shrink:0}#title[_ngcontent-%COMP%]{width:206px;color:var(--main-black, #050C33);text-align:center;font-family:Montserrat;font-size:24px;font-style:normal;font-weight:700;line-height:normal}@media only screen and (min-width: 640px){#title[_ngcontent-%COMP%]{font-size:42px;width:406px;margin-bottom:56px}}"]})}return n})();We(()=>{});let Voe=(()=>{class n{constructor(){this.innerText=""}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=cn({type:n,selectors:[["expertise-desc"]],inputs:{innerText:"innerText"},decls:4,vars:1,consts:[[1,"h-[140px]"],["id","line","xmlns","http://www.w3.org/2000/svg","width","3","height","100","viewBox","0 0 3 100","fill","none"],["width","3","height","100","fill","#F14D34"],["id","text",3,"innerHTML"]],template:function(i,r){1&i&&(ee(0,"div",0),Co(),ee(1,"svg",1),Ae(2,"rect",2),ue(),Qa(),Ae(3,"div",3),ue()),2&i&&(Be(3),ut("innerHTML",r.innerText,uu))},styles:["#text[_ngcontent-%COMP%]{width:190px;color:var(--White, #FFF);font-family:Montserrat;font-size:16px;font-style:normal;font-weight:500;line-height:22px;opacity:.7;margin-left:20px}@media only screen and (min-width: 1280px){#text[_ngcontent-%COMP%]{width:257px}}#line[_ngcontent-%COMP%]{position:absolute}"]})}return n})(),Hoe=(()=>{class n{constructor(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=cn({type:n,selectors:[["app-expertise"]],decls:12,vars:0,consts:[["id","block4"],["id","ghost-block"],["id","inner-block"],[1,"flex"],["id","title"],[1,"md:grid","md:grid-cols-2","gap-[80px]","lg:gap-[10px]"],["innerText","\u0422\u043e\u043b\u044c\u043a\u043e \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0439 \u043f\u043e\u0434\u0445\u043e\u0434 \u2013 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c \u0432\u0435\u0440\u0441\u0438\u0439, \u0440\u0435\u0437\u0435\u0440\u0432\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0438 \u0442\u0435\u0441\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435!"],["innerText","\u0422\u043e\u043b\u044c\u043a\u043e Drupal \u0441\u0430\u0439\u0442\u044b, \u043d\u0435 \u0431\u0435\u0440\u0435\u043c \u043d\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0443 \u0441\u0430\u0439\u0442\u044b \u043d\u0430 \u0434\u0440\u0443\u0433\u0438\u0445 CMS!"],["innerText","\u0423\u0447\u0430\u0441\u0442\u0432\u0443\u0435\u043c \u0432 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435 \u044f\u0434\u0440\u0430 Drupal \u0438 \u043c\u043e\u0434\u0443\u043b\u0435\u0439 \u043d\u0430 Drupal.org, \u0440\u0430\u0437\u0440\u0430\u0431\u0430\u0442\u044b\u0432\u0430\u0435\u043c <a href='/' class='text-orange-400'>\u0441\u0432\u043e\u0438 \u043c\u043e\u0434\u0443\u043b\u0438 Drupal</a>"],["innerText","\u041f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u043c \u0441\u0430\u0439\u0442\u044b \u043d\u0430 Drupal 5, 6, 7 \u0438 8"]],template:function(i,r){1&i&&(ee(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4),st(5," \u042d\u043a\u0441\u043f\u0435\u0440\u0442\u0438\u0437\u0430 \u0432 Drupal, \u043e\u043f\u044b\u0442 14 \u043b\u0435\u0442! "),ue()(),ee(6,"div",3)(7,"div",5),Ae(8,"expertise-desc",6)(9,"expertise-desc",7)(10,"expertise-desc",8)(11,"expertise-desc",9),ue()()()()())},dependencies:[Voe],styles:["#block4[_ngcontent-%COMP%]{position:absolute;z-index:1;width:100%;height:1360px;flex-shrink:0;background:linear-gradient(261deg,rgba(75,75,105,.55) -114.85%,rgba(5,5,20,1) 69.04%),#394047;transform:translateY(-208px)}#title[_ngcontent-%COMP%]{width:480px;color:var(--White, #FFF);font-family:Montserrat;font-size:32px;font-style:normal;font-weight:700;line-height:normal;margin-bottom:30px}#inner-block[_ngcontent-%COMP%]{padding-left:60px;padding-top:220px}#ghost-block[_ngcontent-%COMP%]{position:absolute;width:100%;height:calc(100% + 130px);position:relative;z-index:2;background-image:url(/assets/img/Group_note.svg);background-position:left 100%;background-repeat:no-repeat}@media only screen and (min-width: 1024px){#block4[_ngcontent-%COMP%]{height:939px;margin-bottom:160px}#inner-block[_ngcontent-%COMP%]{margin-left:50%;padding-top:405px}#title[_ngcontent-%COMP%]{font-size:42px;margin-bottom:60px}}"]})}return n})();function zoe(n,e){if(1&n&&(No(0),Co(),ee(1,"svg",10),Ae(2,"path",11),ue(),Qa(),ee(3,"div",12),st(4),ue(),Lo()),2&n){const t=e.$implicit;Be(4),Sn(" ",t," ")}}const Woe=()=>["\u041f\u0440\u0435\u0434\u043e\u043f\u043b\u0430\u0442\u0430 \u043e\u0442 2 \u0447\u0430\u0441\u043e\u0432","\u041a\u043e\u043d\u0441\u0443\u043b\u044c\u0442\u0430\u0446\u0438\u0438 \u0438 \u0440\u0430\u0431\u043e\u0442\u044b \u043f\u043e SEO","\u0423\u0441\u043b\u0443\u0433\u0438 \u0434\u0438\u0437\u0430\u0439\u043d\u0435\u0440\u0430","\u0421\u0442\u0430\u043d\u0434\u0430\u0440\u0442\u043d\u043e\u0435 \u0432\u0440\u0435\u043c\u044f \u0440\u0435\u0430\u043a\u0446\u0438\u0438","\u041d\u0435\u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u043e\u043f\u043b\u0430\u0447\u0435\u043d\u043d\u044b\u0435 \u0447\u0430\u0441\u044b \u043f\u0435\u0440\u0435\u043d\u043e\u0441\u044f\u0442\u0441\u044f \u043d\u0430 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0439 \u043c\u0435\u0441\u044f\u0446"],joe=()=>["\u041f\u0440\u0435\u0434\u043e\u043f\u043b\u0430\u0442\u0430 \u043e\u0442 10 \u0447\u0430\u0441\u043e\u0432","\u041a\u043e\u043d\u0441\u0443\u043b\u044c\u0442\u0430\u0446\u0438\u0438 \u0438 \u0440\u0430\u0431\u043e\u0442\u044b \u043f\u043e SEO","\u0423\u0441\u043b\u0443\u0433\u0438 \u0434\u0438\u0437\u0430\u0439\u043d\u0435\u0440\u0430","\u0412\u044b\u0441\u043e\u043a\u043e\u0435 \u0432\u0440\u0435\u043c\u044f \u0440\u0435\u0430\u043a\u0446\u0438\u0438 \u2013 \u0434\u043e 2 \u0440\u0430\u0431\u043e\u0447\u0438\u0445 \u0434\u043d\u0435\u0439","\u041d\u0435\u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u0447\u0430\u0441\u044b \u043d\u0435 \u043f\u0435\u0440\u0435\u043d\u043e\u0441\u044f\u0442\u0441\u044f"],$oe=()=>["\u041f\u0440\u0435\u0434\u043e\u043f\u043b\u0430\u0442\u0430 \u043e\u0442 100 \u0447\u0430\u0441\u043e\u0432","\u041a\u043e\u043d\u0441\u0443\u043b\u044c\u0442\u0430\u0446\u0438\u0438 \u0438 \u0440\u0430\u0431\u043e\u0442\u044b \u043f\u043e SEO","\u0423\u0441\u043b\u0443\u0433\u0438 \u0434\u0438\u0437\u0430\u0439\u043d\u0435\u0440\u0430","\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u043e\u0435 \u0432\u0440\u0435\u043c\u044f \u0440\u0435\u0430\u043a\u0446\u0438\u0438 \u2013 \u0432 \u0434\u0435\u043d\u044c \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f","\u041d\u0435\u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u043d\u044b\u0435 \u0447\u0430\u0441\u044b \u043d\u0435 \u043f\u0435\u0440\u0435\u043d\u043e\u0441\u044f\u0442\u0441\u044f"];We(()=>{});let qoe=(()=>{class n{constructor(){this.upperDesc="",this.cost=0,this.points=[],this.isMain=!1}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=cn({type:n,selectors:[["tariff-block"]],inputs:{upperDesc:"upperDesc",cost:"cost",points:"points",isMain:"isMain"},decls:18,vars:4,consts:[[3,"ngClass"],[1,"flex","items-center","justify-center","h-full"],["id","upper"],["id","cost",1,"flex"],["id","rubble"],["id","cost-hour"],["xmlns","http://www.w3.org/2000/svg","width","270","height","2","viewBox","0 0 270 2","fill","none"],["opacity","0.2","d","M0 1L270 0.999976","stroke","black"],["id","positions"],[4,"ngFor","ngForOf"],["xmlns","http://www.w3.org/2000/svg","width","13","height","11","viewBox","0 0 13 11","fill","none",1,"absolute","my-[4px]"],["d","M0.15 6C0.05 5.9 0 5.75 0 5.65C0 5.55 0.05 5.4 0.15 5.3L0.85 4.6C1.05 4.4 1.35 4.4 1.55 4.6L1.6 4.65L4.35 7.6C4.45 7.7 4.6 7.7 4.7 7.6L11.4 0.65H11.45C11.65 0.45 11.95 0.45 12.15 0.65L12.85 1.35C13.05 1.55 13.05 1.85 12.85 2.05L4.85 10.35C4.75 10.45 4.65 10.5 4.5 10.5C4.35 10.5 4.25 10.45 4.15 10.35L0.25 6.15L0.15 6Z","fill","#F69C8F"],[1,"position"]],template:function(i,r){1&i&&(ee(0,"div",0)(1,"div",1)(2,"div")(3,"div",2),st(4),ue(),ee(5,"div",3),st(6),ee(7,"div",4),st(8,"\u20bd"),ue()(),ee(9,"div",5),st(10," \u0432 \u0447\u0430\u0441 "),ue(),Co(),ee(11,"svg",6),Ae(12,"path",7),ue(),Qa(),ee(13,"div",8),ws(14,zoe,5,1,"ng-container",9),ue(),ee(15,"button")(16,"span"),st(17,"\u041e\u0421\u0422\u0410\u0412\u0418\u0422\u042c \u0417\u0410\u042f\u0412\u041a\u0423!"),ue()()()()()),2&i&&(ut("ngClass",r.isMain?"tariff-block-main":"tariff-block"),Be(4),Sn(" ",r.upperDesc," "),Be(2),Sn(" ",r.cost," "),Be(8),ut("ngForOf",r.points))},dependencies:[O2,C3],styles:["#upper[_ngcontent-%COMP%]{color:var(--icons-1, #F14D34);font-family:Montserrat;font-size:22px;font-style:normal;font-weight:700;line-height:normal;width:230.855px}#cost[_ngcontent-%COMP%]{width:197.428px;color:var(--main-black, #050C33);font-family:Montserrat;font-size:72px;font-style:normal;font-weight:700;line-height:72px;text-transform:uppercase}#cost-hour[_ngcontent-%COMP%]{display:flex;width:125.351px;height:18px;flex-direction:column;justify-content:center;flex-shrink:0;color:var(--main-black, #050C33);font-family:Montserrat;font-size:16px;font-style:normal;font-weight:500;line-height:normal;margin-bottom:20px}#positions[_ngcontent-%COMP%]{margin-top:40px;margin-bottom:43px}.position[_ngcontent-%COMP%]{color:var(--main-black, #050C33);width:239px;font-family:Montserrat;font-size:14px;font-style:normal;font-weight:500;line-height:20px;opacity:.7;margin-bottom:19px;margin-left:18px}.tariff-block-main[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--White, #FFF);text-align:center;font-family:Montserrat;font-size:12px;font-style:normal;font-weight:500;line-height:12px;letter-spacing:.72px;text-transform:uppercase}.tariff-block-main[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;height:60px;flex-shrink:0;border-radius:5px;background:var(--icons-1, #F14D34)}.tariff-block[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#f14d34;text-align:center;font-family:Montserrat;font-size:12px;font-style:normal;font-weight:500;line-height:12px;letter-spacing:.72px;text-transform:uppercase}.tariff-block[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;height:60px;flex-shrink:0;border-radius:5px;border:1px solid rgba(241,77,52,.4)}#rubble[_ngcontent-%COMP%]{transform:translateY(8px) translate(6px);width:21.936px;color:var(--main-black, #050C33);font-family:Montserrat;font-size:28px;font-style:normal;font-weight:500;line-height:28px}.tariff-block-main[_ngcontent-%COMP%]{width:100%;height:665px;flex-shrink:0;border-radius:5px;border:1px solid rgba(0,0,0,.1);background:#FFF;box-shadow:0 4px 60px #a1a1a140;transform:translateY(-23px);padding-left:15px;padding-right:15px}.tariff-block[_ngcontent-%COMP%]{width:100%;height:619px;border-radius:5px;border:1px solid rgba(0,0,0,.1);background:#FFF;padding-left:15px;padding-right:15px;margin-bottom:47px}@media only screen and (min-width: 640px){.tariff-block-main[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:300px}.tariff-block[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:260px}.tariff-block-main[_ngcontent-%COMP%], .tariff-block[_ngcontent-%COMP%]{padding-left:0;padding-right:0;width:420px}}@media only screen and (min-width: 1024px){.tariff-block-main[_ngcontent-%COMP%]{margin-left:0;margin-right:0;width:350px}.tariff-block[_ngcontent-%COMP%]{margin-bottom:0;width:300px}}@media only screen and (min-width: 1220px){.tariff-block-main[_ngcontent-%COMP%]{width:420px;margin-left:0;margin-right:0}.tariff-block[_ngcontent-%COMP%]{margin-bottom:0;width:370px}}"]})}return n})(),Xoe=(()=>{class n{constructor(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=cn({type:n,selectors:[["app-tariffs"]],decls:16,vars:10,consts:[["id","block5"],[1,"flex","justify-center"],["id","title"],["id","blocks",1,"lg:flex"],["upperDesc","\u0421\u0442\u0430\u0440\u0442\u043e\u0432\u044b\u0439",1,"transform","translate-x-[22px]","relative","z-0",3,"cost","points"],["upperDesc","\u0411\u0438\u0437\u043d\u0435\u0441",1,"relative","z-10",3,"isMain","cost","points"],["upperDesc","VIP",1,"transform","translate-x-[-22px]","relative","z-0",3,"cost","points"],["id","lower-info"]],template:function(i,r){1&i&&(ee(0,"div",0)(1,"div",1)(2,"div",2),st(3,"\u0422\u0430\u0440\u0438\u0444\u044b"),ue()(),ee(4,"div",1)(5,"div",3),Ae(6,"tariff-block",4)(7,"tariff-block",5)(8,"tariff-block",6),ue()(),ee(9,"div",1)(10,"div",7),st(11,"\u0412\u0430\u043c \u043d\u0435 \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0442 \u043d\u0430\u0448\u0438 \u0442\u0430\u0440\u0438\u0444\u044b? \u041e\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u0437\u0430\u044f\u0432\u043a\u0443 \u0438 \u043c\u044b \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0438\u043c \u0432\u0430\u043c \u0438\u043d\u0434\u0438\u0432\u0438\u0434\u0443\u0430\u043b\u044c\u043d\u044b\u0435 \u0443\u0441\u043b\u043e\u0432\u0438\u044f!"),ue()(),ee(12,"div",1)(13,"button")(14,"span"),st(15,"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u0438\u043d\u0434\u0438\u0432\u0438\u0434\u0443\u0430\u043b\u044c\u043d\u044b\u0439 \u0442\u0430\u0440\u0438\u0444"),ue()()()()),2&i&&(Be(6),ut("cost",2e3)("points",du(7,Woe)),Be(1),ut("isMain",!0)("cost",2200)("points",du(8,joe)),Be(1),ut("cost",1800)("points",du(9,$oe)))},dependencies:[qoe],styles:["#block5[_ngcontent-%COMP%]{background-image:url(/assets/img/D.svg);background-size:cover;background-repeat:no-repeat;background-position:top right;margin-bottom:40px;margin-top:1152px}#title[_ngcontent-%COMP%]{display:flex;margin-bottom:15px;margin-top:86px;width:320px;height:30px;flex-direction:column;justify-content:center;flex-shrink:0;color:#000;text-align:center;font-family:Montserrat;font-size:28px;font-style:normal;font-weight:700;line-height:normal}button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--main-black, #050C33);text-align:center;font-family:Montserrat;font-size:12px;font-style:normal;font-weight:500;line-height:12px;letter-spacing:.72px;text-decoration-line:underline;text-transform:uppercase}button[_ngcontent-%COMP%]{display:flex;width:290px;height:60px;padding:0 5px 0 6px;justify-content:center;align-items:center;flex-shrink:0}#lower-info[_ngcontent-%COMP%]{width:390px;color:var(--main-black, #050C33);text-align:center;font-family:Montserrat;font-size:16px;font-style:normal;font-weight:500;line-height:22px;opacity:.5}@media only screen and (min-width: 640px){#lower-info[_ngcontent-%COMP%]{width:468px}#title[_ngcontent-%COMP%]{width:580px;font-size:42px;margin-bottom:86px;margin-top:80px}#blocks[_ngcontent-%COMP%]{margin-bottom:72px}}@media only screen and (min-width: 1024px){#block5[_ngcontent-%COMP%]{margin-bottom:160px;margin-top:731px;background-size:100%}}"]})}return n})();We(()=>{});let Yoe=(()=>{class n{constructor(){this.link="/",this.ImgLink="",this.title="",this.date="",this.description=""}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=cn({type:n,selectors:[["image-small"]],inputs:{link:"link",ImgLink:"ImgLink",title:"title",date:"date",description:"description"},decls:11,vars:5,consts:[[3,"href"],["id","imblock"],["id","inner-img","alt","Image",3,"src"],[1,"flex","justify-center"],["id","title"],["id","date"],["id","desc"]],template:function(i,r){1&i&&(ee(0,"a",0)(1,"div",1),Ae(2,"img",2),ee(3,"div",3)(4,"div")(5,"div",4),st(6),ue(),ee(7,"div",5),st(8),ue(),ee(9,"div",6),st(10),ue()()()()()),2&i&&(ut("href",r.link,hr),Be(2),ut("src",r.ImgLink,hr),Be(4),Sn(" ",r.title," "),Be(2),Sn(" ",r.date," "),Be(2),Sn(" ",r.description," "))},styles:["#imblock[_ngcontent-%COMP%]{width:360px;height:340px;flex-shrink:0}#inner-img[_ngcontent-%COMP%]{width:360px;height:120px;flex-shrink:0;object-fit:cover;border-radius:5px;margin-bottom:40px}#title[_ngcontent-%COMP%]{width:320px;color:var(--main-black, #050C33);font-family:Montserrat;font-size:18px;font-style:normal;font-weight:700;line-height:normal}#desc[_ngcontent-%COMP%]{margin-top:20px;width:313px;color:var(--main-black, #050C33);font-family:Montserrat;font-size:14px;font-style:normal;font-weight:500;line-height:17px;opacity:.7}#date[_ngcontent-%COMP%]{width:320px;opacity:.5;color:var(--main-black, #050C33);font-family:Montserrat;font-size:12px;font-style:normal;font-weight:700;line-height:normal}@media only screen and (min-width: 1024px){#imblock[_ngcontent-%COMP%]{width:320px;height:475px}#inner-img[_ngcontent-%COMP%]{width:320px;height:215px}}@media only screen and (min-width: 1180px){#imblock[_ngcontent-%COMP%]{width:380px;height:475px}#inner-img[_ngcontent-%COMP%]{width:380px;height:215px}}"]})}return n})(),Zoe=(()=>{class n{constructor(){this.link="/",this.ImgLink="",this.title="",this.date=""}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=cn({type:n,selectors:[["image-medium"]],inputs:{link:"link",ImgLink:"ImgLink",title:"title",date:"date"},decls:9,vars:4,consts:[[3,"href"],["id","imblock"],["id","inner-img","alt","Image",3,"src"],[1,"flex","justify-center"],[1,"relative","z-10"],["id","title"],["id","date"]],template:function(i,r){1&i&&(ee(0,"a",0)(1,"div",1),Ae(2,"img",2),ee(3,"div",3)(4,"div",4)(5,"div",5),st(6),ue(),ee(7,"div",6),st(8),ue()()()()()),2&i&&(ut("href",r.link,hr),Be(2),ut("src",r.ImgLink,hr),Be(4),Sn(" ",r.title," "),Be(2),Sn(" ",r.date," "))},styles:["#imblock[_ngcontent-%COMP%]{width:360px;height:280px;flex-shrink:0}#inner-img[_ngcontent-%COMP%]{position:absolute;width:360px;height:260px;object-fit:cover;flex-shrink:0;border-radius:5px}#title[_ngcontent-%COMP%]{width:300px;color:#fff;margin-top:190px;font-family:Montserrat;font-size:14px;font-style:normal;font-weight:700;line-height:normal}#date[_ngcontent-%COMP%]{width:300px;color:#fff;font-family:Montserrat;font-size:12px;font-style:normal;font-weight:700;line-height:normal;opacity:.5}@media only screen and (min-width: 1024px){#imblock[_ngcontent-%COMP%], #inner-img[_ngcontent-%COMP%]{width:320px;height:475px}#title[_ngcontent-%COMP%]{width:300px;color:#fff;margin-top:361px;font-family:Montserrat;font-size:18px}}@media only screen and (min-width: 1180px){#imblock[_ngcontent-%COMP%], #inner-img[_ngcontent-%COMP%]{width:380px;height:475px}#title[_ngcontent-%COMP%]{width:300px;color:#fff;margin-top:361px;font-family:Montserrat;font-size:18px}}"]})}return n})(),Koe=(()=>{class n{constructor(){this.link="/",this.ImgLink="",this.title=""}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=cn({type:n,selectors:[["image-large"]],inputs:{link:"link",ImgLink:"ImgLink",title:"title"},decls:7,vars:3,consts:[[3,"href"],["id","imblock"],["id","inner-img","alt","Image",3,"src"],[1,"flex"],[1,"lg:relative","z-10"],["id","title"]],template:function(i,r){1&i&&(ee(0,"a",0)(1,"div",1),Ae(2,"img",2),ee(3,"div",3)(4,"div",4)(5,"div",5),st(6),ue()()()()()),2&i&&(ut("href",r.link,hr),Be(2),ut("src",r.ImgLink,hr),Be(4),Sn(" ",r.title," "))},styles:["#imblock[_ngcontent-%COMP%]{width:360px;height:280px;flex-shrink:0}#inner-img[_ngcontent-%COMP%]{position:absolute;width:360px;height:260px;flex-shrink:0;object-fit:cover;border-radius:5px}#title[_ngcontent-%COMP%]{width:300px;color:#fff;margin-top:200px;margin-left:20px;font-family:Montserrat;font-size:14px;font-style:normal;font-weight:700;line-height:normal}@media only screen and (min-width: 1024px){#imblock[_ngcontent-%COMP%], #inner-img[_ngcontent-%COMP%]{width:660px;height:475px}#title[_ngcontent-%COMP%]{margin-top:391px;font-size:18px;margin-left:40px}}@media only screen and (min-width: 1180px){#imblock[_ngcontent-%COMP%], #inner-img[_ngcontent-%COMP%]{width:780px;height:475px}#title[_ngcontent-%COMP%]{margin-top:391px;font-size:18px;margin-left:40px}}"]})}return n})(),Joe=(()=>{class n{constructor(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=cn({type:n,selectors:[["app-cases"]],decls:18,vars:0,consts:[[1,"flex","justify-center"],["id","block6"],["id","block6-inner"],["id","title",1,"flex","justify-center"],[1,"lg:grid","lg:grid-cols-3","lg:gap-x-[20px]","lg:gap-y-[20px]"],["ImgLink","/assets/img/s1.png","title","\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0432\u044b\u0433\u0440\u0443\u0437\u043a\u0438 YML \u0434\u043b\u044f \u042f\u043d\u0434\u0435\u043a\u0441.\u041c\u0430\u0440\u043a\u0435\u0442\u0430","date","22.04.2019","description","\u042d\u0442\u0438 \u0441\u043b\u043e\u0432\u0430 \u0441\u043e\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u043e \u0441\u043f\u0440\u0430\u0432\u0435\u0434\u043b\u0438\u0432\u044b, \u043e\u0434\u043d\u0430\u043a\u043e \u0433\u0438\u043f\u043d\u043e\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0440\u0438\u0444\u0444 \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0430\u0435\u0442 \u043f\u0430\u0443\u0437\u043d\u044b\u0439 \u043f\u043b\u0430\u0441\u0442."],["ImgLink","/assets/img/s2.png","title","\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0432\u044b\u0433\u0440\u0443\u0437\u043a\u0438 YML \u0434\u043b\u044f \u042f\u043d\u0434\u0435\u043a\u0441.\u041c\u0430\u0440\u043a\u0435\u0442\u0430",1,"col-span-2"],["ImgLink","/assets/img/s3.png","title","\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0432\u044b\u0433\u0440\u0443\u0437\u043a\u0438 YML \u0434\u043b\u044f \u042f\u043d\u0434\u0435\u043a\u0441.\u041c\u0430\u0440\u043a\u0435\u0442\u0430","date","22.04.2019"],["ImgLink","/assets/img/s5.png","title","\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0432\u044b\u0433\u0440\u0443\u0437\u043a\u0438 YML \u0434\u043b\u044f \u042f\u043d\u0434\u0435\u043a\u0441.\u041c\u0430\u0440\u043a\u0435\u0442\u0430","date","22.04.2019"],["ImgLink","/assets/img/s6.png","title","\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0432\u044b\u0433\u0440\u0443\u0437\u043a\u0438 YML \u0434\u043b\u044f \u042f\u043d\u0434\u0435\u043a\u0441.\u041c\u0430\u0440\u043a\u0435\u0442\u0430","date","22.04.2019","description","\u042d\u0442\u0438 \u0441\u043b\u043e\u0432\u0430 \u0441\u043e\u0432\u0435\u0440\u0448\u0435\u043d\u043d\u043e \u0441\u043f\u0440\u0430\u0432\u0435\u0434\u043b\u0438\u0432\u044b, \u043e\u0434\u043d\u0430\u043a\u043e \u0433\u0438\u043f\u043d\u043e\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0440\u0438\u0444\u0444 \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0430\u0435\u0442 \u043f\u0430\u0443\u0437\u043d\u044b\u0439 \u043f\u043b\u0430\u0441\u0442."],["ImgLink","/assets/img/s4.png","title","\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0432\u044b\u0433\u0440\u0443\u0437\u043a\u0438 YML \u0434\u043b\u044f \u042f\u043d\u0434\u0435\u043a\u0441.\u041c\u0430\u0440\u043a\u0435\u0442\u0430",1,"col-span-2"],["ImgLink","/assets/img/s6.png","title","\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0432\u044b\u0433\u0440\u0443\u0437\u043a\u0438 YML \u0434\u043b\u044f \u042f\u043d\u0434\u0435\u043a\u0441.\u041c\u0430\u0440\u043a\u0435\u0442\u0430","date","22.04.2019"]],template:function(i,r){1&i&&(ee(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),st(4," \u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 \u043a\u0435\u0439\u0441\u044b "),ue(),ee(5,"div",0)(6,"div",4),Ae(7,"image-small",5)(8,"image-large",6)(9,"image-medium",7)(10,"image-medium",8)(11,"image-small",9)(12,"image-large",10)(13,"image-medium",11),ue()()(),ee(14,"div",0)(15,"button")(16,"span"),st(17,"\u041f\u043e\u043a\u0430\u0437\u0430\u0442\u044c \u0435\u0449\u0451"),ue()()()()())},dependencies:[Yoe,Zoe,Koe],styles:["#block6[_ngcontent-%COMP%]{width:100%;height:auto;flex-shrink:0;margin-bottom:0}#block6-inner[_ngcontent-%COMP%]{margin-bottom:20px}#block6[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:160px;height:34px;flex-shrink:0;border-radius:5px;border:1px solid rgb(5,12,51,.2);margin-top:-20px}#block6[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--main-black, #050C33);text-align:center;font-family:Montserrat;font-size:12px;font-style:normal;font-weight:500;line-height:12px;letter-spacing:.72px;text-transform:uppercase}#title[_ngcontent-%COMP%]{color:var(--main-black, #050C33);font-family:Montserrat;font-size:24px;font-style:normal;font-weight:700;line-height:normal;margin-bottom:20px}@media only screen and (min-width: 640px){#title[_ngcontent-%COMP%]{font-size:42px;margin-bottom:60px}#block6[_ngcontent-%COMP%]{width:100%;height:auto}#block6[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:260px;height:60px;margin-top:60px;margin-bottom:160px}}@media only screen and (max-width: 640px){#block6[_ngcontent-%COMP%]{margin-bottom:30px}}"]})}return n})();We(()=>{});let Qoe=(()=>{class n{constructor(){this.ImgLink="",this.title="",this.description=""}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=cn({type:n,selectors:[["team-block"]],inputs:{ImgLink:"ImgLink",title:"title",description:"description"},decls:6,vars:3,consts:[["id","team"],["alt","Photo",3,"src"],["id","title"],["id","desc"]],template:function(i,r){1&i&&(ee(0,"div",0),Ae(1,"img",1),ee(2,"div",2),st(3),ue(),ee(4,"div",3),st(5),ue()()),2&i&&(Be(1),ut("src",r.ImgLink,hr),Be(2),Sn(" ",r.title," "),Be(2),Sn(" ",r.description," "))},styles:["#team[_ngcontent-%COMP%]{margin-bottom:25px}img[_ngcontent-%COMP%]{width:150px;height:150px;object-fit:cover;flex-shrink:0;margin-bottom:5px}#title[_ngcontent-%COMP%]{width:180px;color:var(--main-black, #050C33);font-family:Montserrat;font-size:16px;font-style:normal;font-weight:700;line-height:22px}#desc[_ngcontent-%COMP%]{width:160px;color:var(--main-black, #050C33);font-family:Montserrat;font-size:12px;font-style:normal;font-weight:500;line-height:17px}@media only screen and (min-width: 640px){#desc[_ngcontent-%COMP%]{width:280px;opacity:.7;line-height:22px;font-size:16px}#title[_ngcontent-%COMP%]{width:280px}#team[_ngcontent-%COMP%]{margin-bottom:55px}img[_ngcontent-%COMP%]{height:280px;width:280px;margin-bottom:30px}}"]})}return n})(),eae=(()=>{class n{constructor(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=cn({type:n,selectors:[["app-team"]],decls:17,vars:0,consts:[["id","block7"],[1,"flex","justify-center"],["id","title"],["id","all-team"],[1,"grid-cols-2","gap-x-[15px]","grid","lg:grid-cols-3","lg:gap-x-[80px]"],["ImgLink","/assets/img/img1.png","title","\u041b\u0451\u0448\u0430","description","\u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438, \u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0437\u0430\u0434\u0430\u0447"],["ImgLink","/assets/img/img2.png","title","\u0420\u043e\u043c\u0430\u043d","description","\u0438\u043d\u0444\u0440\u0430\u0441\u0442\u0440\u0443\u043a\u0442\u0443\u0440\u0430 \u0432\u0435\u0431-\u043f\u0440\u043e\u0435\u043a\u0442\u043e\u0432"],["ImgLink","/assets/img/img3.png","title","\u0418\u0440\u0438\u043d\u0430","description","\u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440 \u043f\u043e \u0440\u0430\u0431\u043e\u0442\u0435 \u0441 \u043a\u043b\u0438\u043d\u0435\u0442\u0430\u043c\u0438, \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u044f \u043e\u043a\u0430\u0437\u0430\u043d\u0438\u044f \u0443\u0441\u043b\u0443\u0433"],["ImgLink","/assets/img/img3.png","title","\u0414\u0430\u0448\u0430","description","SEO, \u0432\u0435\u0431-\u043c\u0430\u0440\u043a\u0435\u0442\u0438\u043d\u0433"],["ImgLink","/assets/img/img1.png","title","\u0421\u0435\u0440\u0433\u0435\u0439","description","\u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440, 14 \u043b\u0435\u0442 \u043e\u043f\u044b\u0442 \u0440\u0430\u0431\u043e\u0442\u044b \u0441 Drupal"],["ImgLink","/assets/img/marat.jpg","title","\u041c\u0430\u0440\u0430\u0442","description","\u0447\u0435\u043c\u043f\u0438\u043e\u043d \u0420\u043e\u0441\u0441\u0438\u0438 \u043f\u043e \u0412\u0415\u0411-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435"]],template:function(i,r){1&i&&(ee(0,"div",0)(1,"div",1)(2,"div",2),st(3,"\u041a\u043e\u043c\u0430\u043d\u0434\u0430"),ue()(),ee(4,"div",1)(5,"div",3)(6,"div",4),Ae(7,"team-block",5)(8,"team-block",6)(9,"team-block",7)(10,"team-block",8)(11,"team-block",9)(12,"team-block",10),ue()()(),ee(13,"div",1)(14,"button")(15,"span"),st(16,"\u0412\u0421\u042f \u041a\u041e\u041c\u0410\u041d\u0414\u0410"),ue()()()())},dependencies:[Qoe],styles:["#block7[_ngcontent-%COMP%]{margin-bottom:80px}#block7[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:160px;height:34px;flex-shrink:0;border-radius:5px;border:1px solid rgb(5,12,51,.2)}#block7[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:var(--main-black, #050C33);text-align:center;font-family:Montserrat;font-size:12px;font-style:normal;font-weight:500;line-height:12px;text-transform:uppercase}#all-team[_ngcontent-%COMP%]{margin-left:25px;margin-right:25px}#title[_ngcontent-%COMP%]{color:var(--main-black, #050C33);text-align:center;margin-bottom:20px;font-family:Montserrat;font-size:24px;font-style:normal;font-weight:700;line-height:normal}@media only screen and (min-width: 640px){#block7[_ngcontent-%COMP%]{margin-bottom:160px}#title[_ngcontent-%COMP%]{font-size:42px;margin-bottom:80px}#all-team[_ngcontent-%COMP%]{margin-left:0;margin-right:0}#block7[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:260px;height:60px}#block7[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{letter-spacing:.72px}}"]})}return n})();const tae=["slickModal"];let nae=(()=>{class n{constructor(){this.title="",this.desc="",this.ImgLink=""}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=cn({type:n,selectors:[["feedback-block"]],inputs:{title:"title",desc:"desc",ImgLink:"ImgLink"},decls:7,vars:3,consts:[["id","inner-block"],["id","main-block"],["alt","Photo",1,"my-[40px]",3,"src"],["id","title",3,"innerHTML"],["id","desc",3,"innerHTML"]],template:function(i,r){1&i&&(ee(0,"div")(1,"div",0)(2,"div",1)(3,"div"),Ae(4,"img",2)(5,"div",3)(6,"div",4),ue()()()()),2&i&&(Be(4),ut("src",r.ImgLink,hr),Be(1),ut("innerHTML",r.title,uu),Be(1),ut("innerHTML",r.desc,uu))},styles:["#inner-block[_ngcontent-%COMP%]{width:270px;margin-left:48px}#title[_ngcontent-%COMP%]{color:var(--main-black, #050C33);font-family:Montserrat;font-size:14px;font-style:normal;font-weight:700;line-height:normal;text-decoration-line:underline;margin-bottom:28px}#desc[_ngcontent-%COMP%]{height:auto;flex-shrink:0;color:var(--main-black, #050C33);font-family:Montserrat;font-size:14px;font-style:normal;font-weight:500;line-height:normal;opacity:.5}@media only screen and (min-width: 640px){#inner-block[_ngcontent-%COMP%]{width:320px}}@media only screen and (min-width: 1024px){#inner-block[_ngcontent-%COMP%]{width:420px;margin-left:128px}}"]})}return n})(),iae=(()=>{class n{getCurrPage(){let t=this.currentSlide+1;return t<=9?"0"+t:""+t}constructor(){this.currentSlide=0,this.totalSlides=0,this.carouselConfig={slidesToShow:1,slidesToScroll:1,dots:!1,infinite:!0,autoplay:!1,variableWidth:!1,centerMode:!0,fade:!0,adaptiveHeight:!0,arrows:!1},this.slickModal=new t4}ngAfterViewInit(){setTimeout(()=>{this.totalSlides=this.slickModal.slides.length})}getAllSlides(){return this.totalSlides<=9?"0"+this.totalSlides:""+this.totalSlides}onChange(t){this.currentSlide=t.currentSlide}next(){this.slickModal.slickNext()}prev(){this.slickModal.slickPrev()}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=cn({type:n,selectors:[["app-feedback"]],viewQuery:function(i,r){if(1&i&&Js(tae,5),2&i){let s;Cs(s=Ds())&&(r.slickModal=s.first)}},decls:33,vars:3,consts:[["id","block8"],[1,"flex","justify-center"],["id","title"],["src","/assets/img/Vector.svg","alt","Vector",1,"absolute","opacity-[0.03]","w-full","transform","scale-[16%]","translate-y-[-45%]","translate-x-[-32%]"],["src","/assets/img/Vector.svg","alt","Vector",1,"absolute","opacity-[0.03]","w-full","transform","scale-[16%]","translate-y-[-45%]","translate-x-[-50%]"],["id","feedback",1,"flex","justify-center"],["id","decoration1",1,"absolute"],["id","decoration2",1,"absolute","translate-y-[32px]"],["id","feedback-main-decoration",1,"md:flex","z-10"],[1,"md:w-[440px]","lg:w-[640px]","carousel",3,"config","afterChange"],["slickModal",""],["ngxSlickItem","","ImgLink","/assets/img/image 6.5.png","title","\u041a\u043e\u043c\u0430\u043d\u0434\u0430 Drupal Coder \u0432\u044b\u0437\u0432\u0430\u043b\u0430 \u0442\u043e\u043b\u044c\u043a\u043e \u043f\u043e\u043b\u043e\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0432\u043f\u0435\u0447\u0430\u0442\u043b\u0435\u043d\u0438\u044f!","desc","\u041d\u0443\u0440\u0435\u0435\u0432 \u0410\u043b\u0435\u043a\u0441\u0430\u043d\u0434\u0440, \u043c\u0435\u043d\u0435\u0434\u0436\u0435\u0440 \u043f\u0440\u043e\u0435\u043a\u0442\u0430 Winamp Russian Community",1,"slide"],["ngxSlickItem","","ImgLink","/assets/img/logo_0.png","title","\u0414\u043e\u043b\u0433\u0438\u0435 \u043f\u043e\u0438\u0441\u043a\u0438 \u0435\u0434\u0438\u043d\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0433\u043e \u0438 \u043d\u0435\u043f\u043e\u0432\u0442\u043e\u0440\u0438\u043c\u043e\u0433\u043e \u043c\u0430\u0441\u0442\u0435\u0440\u0430 \u043d\u0430 \u043c\u043d\u043e\u0433\u043e\u0441\u0442\u0440\u0430\u0434\u0430\u043b\u044c\u043d\u044b\u0439 \u0441\u0430\u0439\u0442 www.cielparfum.com, \u043a\u043e\u0442\u043e\u0440\u044b\u0439 \u0431\u044b\u043b \u0441\u043e\u0431\u0440\u0430\u043d \u043a\u0440\u0430\u0439\u043d\u0435 \u043d\u0435\u043a\u043e\u043c\u043f\u0435\u0442\u0435\u043d\u0442\u043d\u044b\u043c \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0441\u0442\u043e\u043c \u0438 \u0440\u0430\u0437 \u0432 \u043c\u0435\u0441\u044f\u0446 \u0441\u0442\u0430\u0431\u0438\u043b\u044c\u043d\u043e \u0433\u0440\u043e\u0437\u0438\u043b \u043f\u043e\u0433\u0438\u0431\u043d\u0443\u0442\u044c, \u043f\u0440\u0438\u0432\u0435\u043b\u0438 \u043c\u0435\u043d\u044f \u043d\u0430 \u0441\u0430\u0439\u0442 \u0438, \u0432 \u0438\u0442\u043e\u0433\u0435, \u043a \u0440\u0435\u0431\u044f\u0442\u0430\u043c \u0438\u0437 Drupal-coder. \u0418 \u0432\u043e\u0442 \u0443\u0436\u0435 \u043f\u0440\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438 \u043f\u043e\u043b\u0433\u043e\u0434\u0430 \u043a\u0430\u043a \u043d\u0435 \u043f\u0440\u043e\u0445\u043e\u0434\u0438\u0442 \u0438 \u0434\u043d\u044f, \u0447\u0442\u043e\u0431\u044b \u044f \u043d\u0435 \u043f\u043e\u0443\u0434\u0438\u0432\u043b\u044f\u043b\u0430\u0441\u044c \u0438 \u043d\u0435 \u043f\u043e\u0440\u0430\u0434\u043e\u0432\u0430\u043b\u0430\u0441\u044c \u0441\u0432\u043e\u0435\u043c\u0443 \u0432\u0435\u0437\u0435\u043d\u0438\u044e! \u041f\u043e\u0447\u0438\u043d\u0438\u043b\u0438 \u0432\u0441\u0435, \u0447\u0442\u043e \u043d\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u043b\u043e - \u043e\u0442 \u043f\u043e\u0438\u0441\u043a\u0430 \u0434\u043e \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f \u043c\u0435\u043d\u044e. \u041f\u0440\u043e\u0432\u0435\u043b\u0438 \u0440\u0435\u0434\u0438\u0437\u0430\u0439\u043d - \u043d\u0435 \u043e\u0442\u0445\u043e\u0434\u044f \u043e\u0442 \u0436\u0435\u043b\u0430\u0435\u043c\u043e\u0433\u043e, \u043d\u043e \u0441\u043e \u0441\u0432\u043e\u0438\u043c\u0438 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u043c\u0438 \u0438 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u043c\u0438 \u0434\u043e\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u044f\u043c\u0438. \u041e\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0438\u043b\u0438 \u0440\u044f\u0434 \u043f\u0440\u043e\u0435\u043a\u0442\u043e\u0432 - \u043a\u043e\u043d\u043a\u0443\u0440\u0441\u044b, \u0442\u0435\u0441\u0442\u044b \u0438 \u0442\u0434. \u0410 \u0443\u0436 \u043c\u0435\u043b\u043a\u0438\u0445 \u043f\u043e\u0447\u0438\u043d\u043e\u043a \u0438 \u0434\u043e\u0440\u0430\u0431\u043e\u0442\u043e\u043a - \u043d\u0435 \u0441\u0447\u0435\u0441\u0442\u044c! \u0418 \u0433\u043b\u0430\u0432\u043d\u043e\u0435 - \u0432\u0441\u0435 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u043e \u0438 \u0431\u044b\u0441\u0442\u0440\u043e (\u043d\u0435 \u0432\u0437\u0438\u0440\u0430\u044f \u043d\u0430 \u043d\u0435 \u0441\u0430\u043c\u044b\u0439 ''\u0431\u044b\u0441\u0442\u0440\u044b\u0439'' \u0442\u0430\u0440\u0438\u0444). \u0415\u0441\u0442\u044c \u0432\u043e\u043f\u0440\u043e\u0441\u044b - \u0437\u0430\u043c\u0435\u0447\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u0410\u043b\u0435\u043a\u0441\u0435\u0439 \u0432\u0441\u0435\u0433\u0434\u0430 \u043f\u043e\u0434\u0441\u043a\u0430\u0436\u0435\u0442, \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0442, \u043e\u0442\u0440\u0435\u043c\u043e\u043d\u0442\u0438\u0440\u0443\u0435\u0442 \u0438/\u0438\u043b\u0438 \u043f\u0440\u043e\u0441\u0442\u043e \u0441\u0434\u0435\u043b\u0430\u0435\u0442 \u0441 \u043d\u0443\u043b\u044f. \u0415\u0441\u0442\u044c \u0437\u0430\u0434\u0443\u043c\u043a\u0430 \u0434\u043b\u044f \u0440\u0435\u0430\u043b\u0438\u0437\u0430\u0446\u0438\u0438 - \u0437\u0430\u043c\u0435\u0447\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u0421\u0435\u0440\u0433\u0435\u0439 \u043e\u0431\u0441\u0443\u0434\u0438\u0442 \u0438 \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0438\u0442 \u0438\u0434\u0435\u0430\u043b\u044c\u043d\u044b\u0439 \u0432\u0430\u0440\u0438\u0430\u043d\u0442. \u0415\u0441\u0442\u044c \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 - \u0437\u0430\u043c\u0435\u0447\u0430\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u041d\u0430\u0434\u0435\u0436\u0434\u0430 \u0438 \u0420\u043e\u043c\u0430\u043d \u043f\u043e\u0447\u0438\u043d\u044f\u0442, \u043f\u043e\u043f\u0440\u0430\u0432\u044f\u0442, \u0441\u0434\u0435\u043b\u0430\u044e\u0442! \u0420\u0435\u0431\u044f\u0442\u0430 \u0434\u043e\u043a\u0430\u0437\u0430\u043b\u0438, \u0447\u0442\u043e \u044d\u0442\u0430 CMS - \u043c\u043e\u0449\u043d\u0430\u044f \u0438 \u0433\u0440\u0430\u043c\u043e\u0442\u043d\u0430\u044f \u0441\u0438\u0441\u0442\u0435\u043c\u0430 \u0443\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f. \u041d\u0430\u0434\u0435\u044e\u0441\u044c, \u0447\u0442\u043e \u043d\u0430\u0448\u0435 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0437\u0430\u0442\u044f\u043d\u0435\u0442\u0441\u044f \u043d\u0430\u0434\u043e\u043b\u0433\u043e! \u0421\u043f\u0430\u0441\u0438\u0431\u043e!!!","desc","\u0421 \u0443\u0432\u0430\u0436\u0435\u043d\u0438\u0435\u043c, \u041d\u0430\u0442\u0430\u043b\u044c\u044f \u0421\u0443\u0448\u043a\u043e\u0432\u0430 \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c \u041e\u0442\u0434\u0435\u043b\u0430 \u0432\u0435\u0431-\u043f\u0440\u043e\u0435\u043a\u0442\u043e\u0432 \u0413\u0440\u0443\u043f\u043f\u044b \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0439 \xab\u0421\u0438 \u042d\u043b\u044c \u043f\u0430\u0440\u0444\u044e\u043c\xbb ",1,"slide"],["ngxSlickItem","","ImgLink","/assets/img/logo_2.png","title","\u0417\u0430 \u0434\u043e\u0432\u043e\u043b\u044c\u043d\u043e \u043f\u0440\u043e\u0434\u043e\u043b\u0436\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0439 \u0441\u0440\u043e\u043a (2014 - 2016 \u0433\u043e\u0434\u044b) \u0432\u0435\u0441\u044c\u043c\u0430 \u043f\u043b\u043e\u0442\u043d\u043e\u0439 \u0440\u0430\u0431\u043e\u0442\u044b (\u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442-\u043c\u0430\u0433\u0430\u0437\u0438\u043d \u043d\u0430 \u0431\u0435\u0437\u0443\u043c\u043d\u043e \u0437\u0430\u043c\u043e\u0440\u043e\u0447\u0435\u043d\u043d\u043e\u043c Drupal 6: \u0443\u0441\u0442\u0440\u0430\u043d\u044f\u043b\u0438 \u043a\u043e\u0441\u044f\u043a\u0438 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u043e\u0432, \u0443\u0441\u043a\u043e\u0440\u044f\u043b\u0438 \u0441\u0430\u0439\u0442, \u0441\u0434\u0435\u043b\u0430\u043b\u0438 \u043c\u043d\u043e\u0436\u0435\u0441\u0442\u0432\u043e \u043d\u043e\u0432\u044b\u0445 \u0444\u0443\u043d\u043a\u0446\u0438\u0439 \u0438 \u0442.\u043f.) - \u0442\u043e\u043b\u044c\u043a\u043e \u0441\u0430\u043c\u044b\u0435 \u0434\u043e\u0431\u0440\u044b\u0435 \u044d\u043c\u043e\u0446\u0438\u0438 \u043e\u0442 \u0440\u0430\u0431\u043e\u0442\u044b \u0441 \u043a\u043e\u043c\u0430\u043d\u0434\u043e\u0439 Initlab / Drupal-coder: \u0432\u0441\u0435\u0433\u0434\u0430 \u043c\u043e\u0436\u043d\u043e \u0440\u0430\u0441\u0441\u0447\u0438\u0442\u044b\u0432\u0430\u0442\u044c \u043d\u0430 \u0431\u044b\u0441\u0442\u0440\u0443\u044e \u0438 \u0442\u043e\u043b\u043a\u043e\u0432\u0443\u044e \u043f\u043e\u043c\u043e\u0449\u044c, \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0443, \u0441\u043e\u0432\u0435\u0442. \u0414\u0430\u0436\u0435 \u0441\u0435\u0439\u0447\u0430\u0441, \u043d\u0435 \u0441\u043c\u043e\u0442\u0440\u044f \u043d\u0430 \u0442\u043e, \u0447\u0442\u043e \u043c\u044b \u043f\u043e\u0447\u0442\u0438 \u0433\u043e\u0434 \u043d\u0435 \u0440\u0430\u0431\u043e\u0442\u0430\u043b\u0438 \u043d\u0430 \u043f\u043e\u0441\u0442\u043e\u044f\u043d\u043d\u043e\u0439 \u043e\u0441\u043d\u043e\u0432\u0435 (\u0431\u0430\u043d\u0430\u043b\u044c\u043d\u043e \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u043b\u0438\u0441\u044c \u0437\u0430\u0434\u0430\u0447\u0438), \u0441\u043b\u0443\u0447\u0430\u0439\u043d\u043e \u0432\u043e\u0437\u043d\u0438\u043a\u0448\u0430\u044f \u043f\u0440\u043e\u0431\u043b\u0435\u043c\u0430 \u0441 \u0441\u0430\u0439\u0442\u043e\u043c \u0431\u044b\u043b\u0430 \u0440\u0435\u0448\u0435\u043d\u0430 \u043c\u0433\u043d\u043e\u0432\u0435\u043d\u043d\u043e! \u0412 \u043e\u0431\u0449\u0435\u043c, \u0442\u043e\u043b\u044c\u043a\u043e \u0441\u0430\u043c\u044b\u0435 \u0438\u0441\u043a\u0440\u0435\u043d\u043d\u0438\u0435 \u0431\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u043d\u043e\u0441\u0442\u0438 \u0438 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u0438!\u0421\u043f\u0430\u0441\u0438\u0431\u043e! )","desc","\u0421 \u0443\u0432\u0430\u0436\u0435\u043d\u0438\u0435\u043c, \u0412\u043b\u0430\u0434\u0438\u0441\u043b\u0430\u0432",1,"slide"],["ngxSlickItem","","ImgLink","/assets/img/logo-estee.png","title","\u041d\u0430\u0448\u0430 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044f Estee Design \u0437\u0430\u043d\u0438\u043c\u0430\u0435\u0442\u0441\u044f \u0434\u0438\u0437\u0430\u0439\u043d\u043e\u043c \u0438\u043d\u0442\u0435\u0440\u044c\u0435\u0440\u043e\u0432. \u0421\u0430\u0439\u0442 \u0441\u0432\u0435\u0440\u0441\u0442\u0430\u043d \u043d\u0430 Drupal. \u0418\u0441\u043a\u0430\u043b\u0438 \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0441\u0442\u043e\u0432 \u043f\u043e\u0434 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0440\u044f\u0434\u0430 \u043d\u0435\u0431\u043e\u043b\u044c\u0448\u0438\u0445 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439 \u0438 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u0438\u0440\u043e\u0432\u043e\u043a \u043f\u043e \u0441\u0430\u0439\u0442\u0443. \u041f\u043e\u043e\u0431\u0449\u0430\u0432\u0448\u0438\u0441\u044c \u0441 \u0410\u043b\u0435\u043a\u0441\u0435\u0435\u043c \u0421\u0438\u043d\u0438\u0446\u0435\u0439, \u043f\u0440\u0438\u043d\u044f\u043b\u0438 \u0440\u0435\u0448\u0435\u043d\u0438\u0435 \u043e \u043d\u0430\u0447\u0430\u043b\u0435 \u0440\u0430\u0431\u043e\u0442 \u0441 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0435\u0439 Initlab/drupal-coder. \u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u0447\u0435\u0441\u0442\u0432\u043e\u043c \u0434\u043e\u0432\u043e\u043b\u044c\u043d\u044b \u043d\u0430 100%. \u0427\u0435\u0442\u043a\u0430\u044f \u0438 \u043f\u043e\u043d\u044f\u0442\u043d\u0430\u044f \u0441\u0438\u0441\u0442\u0435\u043c\u0430 \u043a\u043e\u043c\u043c\u0443\u043d\u0438\u043a\u0430\u0446\u0438\u0438, \u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u043e\u043f\u0435\u0440\u0430\u0442\u0438\u0432\u043d\u043e\u0435 \u0440\u0435\u0448\u0435\u043d\u0438\u0435 \u043f\u043e \u0437\u0430\u0434\u0430\u0447\u0430\u043c. \u0414\u0430\u043b\u0438 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u0430\u0446\u0438\u0438 \u043f\u043e \u0443\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044e \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043d\u043e\u0439 \u0447\u0430\u0441\u0442\u0438 \u0441\u0430\u0439\u0442\u0430, \u0438\u0441\u043f\u0440\u0430\u0432\u0438\u043b\u0438 \u0440\u044f\u0434 \u0441\u043a\u0440\u044b\u0442\u044b\u0445 \u043e\u0448\u0438\u0431\u043e\u043a. \u041d\u0438\u043a\u043e\u0433\u0434\u0430 \u043d\u0435 \u043f\u0438\u0448\u0443 \u043e\u0442\u0437\u044b\u0432\u044b (\u043d\u0435\u0442 \u0432\u0440\u0435\u043c\u0435\u043d\u0438), \u043d\u043e \u0432 \u0434\u0430\u043d\u043d\u043e\u043c \u0441\u043b\u0443\u0447\u0430\u0435, \u043f\u043e \u043f\u0440\u043e\u0441\u044c\u0431\u0435 \u0410\u043b\u0435\u043a\u0441\u0435\u044f, \u043d\u0435 \u043c\u043e\u0433\u0443 \u043d\u0435 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u043e\u0432\u0430\u0442\u044c Initlab \u0434\u0440\u0443\u0433\u0438\u043c \u043b\u044e\u0434\u044f\u043c - \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u044f \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u043e\u0432.","desc","\u041a\u0443\u0437\u0438\u043d \u0412\u0430\u0434\u0438\u043c, \u0440\u0443\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u044c \u0441\u0442\u0440\u043e\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0433\u043e \u043d\u0430\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0414\u0438\u0437\u0430\u0439\u043d-\u0431\u044e\u0440\u043e \u0438\u043d\u0442\u0435\u0440\u044c\u0435\u0440\u043e\u0432 Estee ",1,"slide"],["ngxSlickItem","","ImgLink","/assets/img/lpcma_rus_v4.jpg","title","\u0425\u043e\u0442\u0435\u043b \u043f\u043e\u0431\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u0438\u0442\u044c \u0437\u0430 \u0440\u0430\u0431\u043e\u0442\u0443 \u043d\u0430\u0434 \u043d\u0430\u0448\u0438\u043c\u0438 \u0441\u0430\u0439\u0442\u0430\u043c\u0438. \u0417\u0430 4 \u043c\u0435\u0441\u044f\u0446\u0430 \u0440\u0430\u0431\u043e\u0442\u044b \u043f\u0440\u0438\u0432\u0435\u043b\u0438 \u0441\u0430\u0439\u0442 \u0432 \u043f\u043e\u0440\u044f\u0434\u043e\u043a, \u0430 \u0441\u0430\u043c\u043e\u0435 \u0433\u043b\u0430\u0432\u043d\u043e\u0435 \u043f\u043e\u043b\u0443\u0447\u0438\u043b\u0438 \u0438\u043d\u0441\u0442\u0440\u0443\u043c\u0435\u043d\u0442, \u0441 \u043f\u043e\u043c\u043e\u0449\u044c\u044e \u043c\u044b \u0442\u0435\u043f\u0435\u0440\u044c \u043c\u043e\u0436\u0435\u043c \u0431\u044b\u0441\u0442\u0440\u043e \u0438 \u043a\u0440\u0430\u0441\u0438\u0432\u043e \u0432\u044b\u0441\u0442\u0430\u0432\u043b\u044f\u0442\u044c \u043a\u043e\u043d\u0442\u0435\u043d\u0442 \u0434\u043b\u044f \u043e\u0431\u0440\u0430\u0437\u043e\u0432\u0430\u043d\u0438\u044f \u0438 \u0440\u0430\u0431\u043e\u0442\u044b \u0441 \u043f\u0440\u0435\u0434\u043f\u0440\u0438\u044f\u0442\u0438\u044f\u043c\u0438 http://lpcma.tsu.ru/ru/post/reference_material \u041d\u0443 \u0438 \u043c\u043d\u043e\u0433\u043e\u043c\u0443 \u043d\u0430\u0443\u0447\u0438\u0441\u044c \u0431\u043b\u0430\u0433\u043e\u0434\u0430\u0440\u044f \u0440\u0430\u0431\u043e\u0442\u0435 \u0441 \u0432\u0430\u043c\u0438. \u041c\u044b \u043e\u0447\u0435\u043d\u044c \u0440\u0430\u0434\u044b, \u0447\u0442\u043e \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u043d\u0430\u0439\u0442\u0438 \u043d\u0430\u0441\u0442\u043e\u043b\u044c\u043a\u043e \u043a\u043e\u043c\u043f\u0435\u0442\u0435\u043d\u0442\u043d\u044b\u0445 \u0440\u0435\u0431\u044f\u0442 )","desc","\u0414\u043c\u0438\u0442\u0440\u0438\u0439 \u041d\u043e\u0432\u0438\u043a\u043e\u0432",1,"slide"],["ngxSlickItem","","ImgLink","/assets/img/nashagazeta_ch.png","title","\u041c\u043e\u044f \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u0433\u0430\u0437\u0435\u0442\u0430 www.nashagazeta.ch \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 \u0432 \u0428\u0432\u0435\u0439\u0446\u0430\u0440\u0438\u0438 \u0443\u0436\u0435 10 \u043b\u0435\u0442. \u0417\u0430 \u044d\u0442\u043e \u0432\u0440\u0435\u043c\u044f \u043c\u044b \u0441\u043c\u0435\u043d\u0438\u043b\u0438 7 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0441\u0442\u043e\u0432 \u043f\u043e \u0442\u0435\u0445\u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0435, \u0438 \u0442\u043e\u043b\u044c\u043a\u043e \u0441\u0435\u0439\u0447\u0430\u0441, \u0432 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043c\u0435\u0441\u044f\u0446\u0435\u0432, \u0441 \u043d\u0430\u0447\u0430\u043b\u0430 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u0447\u0435\u0441\u0442\u0432\u0430 \u0441 \u0410\u043b\u0435\u043a\u0441\u0435\u0435\u043c \u0421\u0438\u043d\u0438\u0446\u0435\u0439 \u0438 \u0435\u0433\u043e \u043a\u043e\u043c\u0430\u043d\u0434\u043e\u0439, \u044f \u0432\u043f\u0435\u0440\u0432\u044b\u0435 \u043f\u043e\u0447\u0443\u0432\u0441\u0442\u0432\u043e\u0432\u0430\u043b\u0430, \u0447\u0442\u043e \u0443 \u043c\u0435\u043d\u044f \u0435\u0441\u0442\u044c \u043d\u0430\u0434\u0435\u0436\u043d\u044b\u0439 \u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0442\u044b\u043b. \u0411\u0435\u0437 \u0433\u0440\u043e\u043c\u043a\u0438\u0445 \u0441\u043b\u043e\u0432 \u0438 \u043e\u0431\u0435\u0449\u0430\u043d\u0438\u0439, \u0440\u0435\u0431\u044f\u0442\u0430 \u043f\u0440\u043e\u0441\u0442\u043e \u0441\u043f\u043e\u043a\u043e\u0439\u043d\u043e \u0438 \u043a\u0430\u0447\u0435\u0441\u0442\u0432\u0435\u043d\u043d\u043e \u0434\u0435\u043b\u0430\u044e\u0442 \u0440\u0430\u0431\u043e\u0442\u0443, \u0431\u044b\u0441\u0442\u0440\u043e \u0440\u0435\u0430\u0433\u0438\u0440\u0443\u044e\u0442, \u043d\u0430\u0445\u043e\u0434\u044f\u0442 \u0440\u0435\u0448\u0435\u043d\u0438\u044f, \u043f\u0440\u0435\u0434\u043b\u0430\u0433\u0430\u044e\u0442 \u043a\u043e\u043d\u043a\u0440\u0435\u0442\u043d\u044b\u0435 \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u044b \u0443\u043b\u0443\u0447\u0448\u0435\u043d\u0438\u044f \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u0441\u0430\u0439\u0442\u0430 \u0438 \u0441\u0430\u043c\u0438 \u0438\u0445 \u043e\u043f\u0435\u0440\u0430\u0442\u0438\u0432\u043d\u043e \u043e\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043b\u044f\u044e\u0442. \u0421\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441 \u043d\u0438\u043c\u0438 \u2013 \u043e\u0434\u043d\u043e \u0443\u0434\u043e\u0432\u043e\u043b\u044c\u0441\u0442\u0432\u0438\u0435!","desc","\u041d\u0430\u0434\u0435\u0436\u0434\u0430 \u0421\u0438\u043a\u043e\u0440\u0441\u043a\u0430\u044f, \u0416\u0435\u043d\u0435\u0432\u0430, \u0428\u0432\u0435\u0439\u0446\u0430\u0440\u0438\u044f",1,"slide"],[1,"flex","h-[100%]","max-md:justify-center","items-center"],["src","/assets/img/Vector (1).svg",1,"absolute","scale-y-[-1]","rotate-90","max-md:h-[40%]","max-md:mb-[50px]"],[1,"md:mx-[40px]","button-block"],[1,"flex","mt-[35px]"],[1,"arrow-l",3,"click"],[1,"w-[160px]"],[1,"slider-curr"],[1,"slider-curr2"],[1,"arrow-r",3,"click"]],template:function(i,r){1&i&&(ee(0,"div",0)(1,"div",1)(2,"div",2),st(3,"\u041e\u0442\u0437\u044b\u0432\u044b"),ue()(),Ae(4,"img",3)(5,"img",4),ee(6,"div",5),Ae(7,"div",6)(8,"div",7),ee(9,"div",8)(10,"div")(11,"ngx-slick-carousel",9,10),Ui("afterChange",function(o){return r.onChange(o)}),Ae(13,"feedback-block",11)(14,"feedback-block",12)(15,"feedback-block",13)(16,"feedback-block",14)(17,"feedback-block",15)(18,"feedback-block",16),ue()(),ee(19,"div")(20,"div",17),Ae(21,"img",18),ee(22,"div",1)(23,"div",19)(24,"div",20)(25,"button",21),Ui("click",function(){return r.prev()}),ue(),ee(26,"div",22)(27,"div",1)(28,"div",23),st(29),ee(30,"span",24),st(31),ue()()()(),ee(32,"button",25),Ui("click",function(){return r.next()}),ue()()()()()()()()()),2&i&&(Be(11),ut("config",r.carouselConfig),Be(18),Sn(" ",r.getCurrPage()," "),Be(2),Sn(" / ",r.getAllSlides()," "))},dependencies:[t4,OO,nae],styles:["#block8[_ngcontent-%COMP%]{margin-bottom:160px}#title[_ngcontent-%COMP%]{color:var(--main-black, #050C33);text-align:center;font-family:Montserrat;font-size:24px;font-style:normal;font-weight:700;line-height:normal}#decoration1[_ngcontent-%COMP%]{width:200px;height:25px;flex-shrink:0;border-radius:5px;border:1px solid rgba(0,0,0,.1);opacity:.34;background:#FFF;box-shadow:0 4px 60px #a1a1a140;margin-top:43px}#decoration2[_ngcontent-%COMP%]{width:330px;height:25px;flex-shrink:0;border-radius:5px;border:1px solid rgba(0,0,0,.1);opacity:.5;background:#FFF;box-shadow:0 4px 60px #a1a1a140;margin-top:30px}#feedback-main-decoration[_ngcontent-%COMP%]{padding-top:67px;padding-bottom:67px;margin-top:80px;width:370px;flex-shrink:0;border-radius:5px;border:1px solid rgba(0,0,0,.1);background:#FFF;box-shadow:0 4px 60px #a1a1a140}#feedback[_ngcontent-%COMP%]{margin-top:-20px}.button-block[_ngcontent-%COMP%]{margin-top:40px;height:50%}.slider-curr[_ngcontent-%COMP%]{color:var(--main-black, #050C33);font-family:Montserrat;font-size:28px;font-style:normal;font-weight:400;line-height:28px}.slider-curr2[_ngcontent-%COMP%]{color:var(--Gray-5, #E0E0E0);font-family:Montserrat;font-size:28px;font-style:normal;font-weight:400;line-height:28px}.arrow-r[_ngcontent-%COMP%]{width:18px;height:32px;background-image:url(/assets/img/arrow-right.svg)}.arrow-l[_ngcontent-%COMP%]{width:18px;height:32px;background-image:url(/assets/img/arrow-left.svg)}.rotate-90[_ngcontent-%COMP%]{transform:rotate(90deg)}@media only screen and (min-width: 768px){#title[_ngcontent-%COMP%]{font-size:42px}#feedback-main-decoration[_ngcontent-%COMP%]{width:740px}#decoration2[_ngcontent-%COMP%]{width:612px;height:457px;margin-top:0}#decoration1[_ngcontent-%COMP%]{width:484px;height:466px;margin-top:0}.rotate-90[_ngcontent-%COMP%]{transform:rotate(180deg)}.button-block[_ngcontent-%COMP%]{margin-top:auto}#feedback[_ngcontent-%COMP%]{margin-top:46px}}@media only screen and (min-width: 1024px){#feedback-main-decoration[_ngcontent-%COMP%]{width:980px}#decoration2[_ngcontent-%COMP%]{width:852px;height:457px;margin-top:0}#decoration1[_ngcontent-%COMP%]{width:724px;height:466px;margin-top:0}}"]})}return n})();We(()=>{});let rae=(()=>{class n{constructor(){this.carouselConfig={slidesToShow:5,slidesToScroll:1,dots:!1,infinite:!0,autoplay:!0,autoplaySpeed:1e3,variableWidth:!0,centerMode:!0,arrows:!1},this.carouselConfig2={slidesToShow:5,slidesToScroll:1,dots:!1,infinite:!0,autoplay:!0,autoplaySpeed:800,variableWidth:!0,arrows:!1}}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=cn({type:n,selectors:[["app-clients"]],decls:34,vars:2,consts:[["id","block-10"],[1,"flex","justify-center"],["id","title"],["id","desc"],[1,"carousel","my-[20px]",3,"config"],["ngxSlickItem","",1,"slide","img-block"],["src","/assets/img/comp1.png"],["src","/assets/img/comp2.png"],["src","/assets/img/comp3.png"],[1,"carousel",3,"config"],["ngxSlickItem","",1,"slide","img-block2"],["id","clients-main-decoration2"]],template:function(i,r){1&i&&(ee(0,"div",0)(1,"div",1)(2,"div",2),st(3,"\u0421 \u043d\u0430\u043c\u0438 \u0440\u0430\u0431\u043e\u0442\u0430\u044e\u0442"),ue()(),ee(4,"div",1)(5,"div",3),st(6,"\u0414\u0435\u0441\u044f\u0442\u043a\u0438 \u043a\u043e\u043c\u043f\u0430\u043d\u0438\u0439 \u0434\u043e\u0432\u0435\u0440\u044f\u044e\u0442 \u043d\u0430\u043c \u0441\u0430\u043c\u043e\u0435 \u0446\u0435\u043d\u043d\u043e\u0435, \u0447\u0442\u043e \u0443 \u043d\u0438\u0445 \u0435\u0441\u0442\u044c \u0432 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442\u0435 \u2013 \u0441\u0432\u043e\u0438 \u0441\u0430\u0439\u0442\u044b. \u041c\u044b \u0434\u0435\u043b\u0430\u0435\u043c \u0432\u0441\u0451, \u0447\u0442\u043e\u0431\u044b \u043d\u0430\u0448\u0435 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0431\u044b\u043b\u043e \u0434\u043e\u043b\u0433\u0438\u043c."),ue()(),ee(7,"ngx-slick-carousel",4)(8,"div",5),Ae(9,"img",6),ue(),ee(10,"div",5),Ae(11,"img",7),ue(),ee(12,"div",5),Ae(13,"img",8),ue(),ee(14,"div",5),Ae(15,"img",6),ue(),ee(16,"div",5),Ae(17,"img",7),ue(),ee(18,"div",5),Ae(19,"img",8),ue()(),ee(20,"ngx-slick-carousel",9)(21,"div",10),Ae(22,"img",8),ue(),ee(23,"div",10),Ae(24,"img",7),ue(),ee(25,"div",10),Ae(26,"img",6),ue(),ee(27,"div",10),Ae(28,"img",8),ue(),ee(29,"div",10),Ae(30,"img",7),ue(),ee(31,"div",10),Ae(32,"img",6),ue()(),Ae(33,"div",11),ue()),2&i&&(Be(7),ut("config",r.carouselConfig),Be(13),ut("config",r.carouselConfig2))},dependencies:[t4,OO],styles:["#block-10[_ngcontent-%COMP%]{margin-bottom:160px}#title[_ngcontent-%COMP%]{color:var(--main-black, #050C33);text-align:center;font-family:Montserrat;font-size:24px;font-style:normal;font-weight:700;line-height:normal;margin-bottom:10px}#desc[_ngcontent-%COMP%]{width:740px;color:var(--main-black, #050C33);text-align:center;font-family:Montserrat;font-size:16px;font-style:normal;font-weight:500;line-height:22px;opacity:.7;margin-bottom:42px}.carousel[_ngcontent-%COMP%]{overflow-x:hidden}.img-block[_ngcontent-%COMP%], .img-block2[_ngcontent-%COMP%]{margin-left:5px;margin-right:5px;border-radius:5px;border:1px solid #E5E5E5;display:flex;object-fit:none;width:211px;height:105px;justify-content:center;align-items:center;flex-shrink:0}@media only screen and (min-width: 640px){#title[_ngcontent-%COMP%]{font-size:42px}.img-block[_ngcontent-%COMP%], .img-block2[_ngcontent-%COMP%]{width:251px;height:115px;margin-left:10px;margin-right:10px}}@media only screen and (min-width: 1024px){.img-block[_ngcontent-%COMP%], .img-block2[_ngcontent-%COMP%]{width:291px;height:155px}}"]})}return n})();We(()=>{});let sae=(()=>{class n{constructor(){this.ImgLink="",this.title="",this.description=""}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=cn({type:n,selectors:[["professional-block"]],inputs:{ImgLink:"ImgLink",title:"title",description:"description"},decls:9,vars:3,consts:[[1,"desc-block"],[1,"flex","justify-center","lg:justify-start"],["src","/assets/img/icon-bg.svg","alt","\u041b\u043e\u0433\u043e\u0442\u0438\u043f",1,"icon-b"],["alt","\u041b\u043e\u0433\u043e\u0442\u0438\u043f",1,"icon-m",3,"src"],["id","title"],["id","description"]],template:function(i,r){1&i&&(ee(0,"div",0)(1,"div",1)(2,"div"),Ae(3,"img",2)(4,"img",3),ee(5,"div",4),st(6),ue()()(),ee(7,"div",5),st(8),ue()()),2&i&&(Be(4),ut("src",r.ImgLink,hr),Be(2),Sn(" ",r.title," "),Be(2),Sn(" ",r.description," "))},styles:[".icon-b[_ngcontent-%COMP%]{position:absolute;transform:translateY(17px) translate(-55px);width:114px;height:71px;flex-shrink:0}.icon-m[_ngcontent-%COMP%]{width:81px;height:81px;flex-shrink:0;margin-bottom:10px}#title[_ngcontent-%COMP%]{color:var(--main-black, #050C33);font-family:Montserrat;font-size:26px;font-style:normal;font-weight:700;line-height:normal;margin-bottom:10px}#description[_ngcontent-%COMP%]{color:var(--main-black, #050C33);width:202px;font-family:Montserrat;font-size:16px;font-style:normal;font-weight:500;line-height:22px;opacity:.7}.desc-block[_ngcontent-%COMP%]{margin-bottom:20px}"]})}return n})(),oae=(()=>{class n{constructor(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=cn({type:n,selectors:[["app-professionals"]],decls:10,vars:0,consts:[["id","block-9"],[1,"flex","justify-center"],[1,"w-[90%]"],["id","title"],[1,"md:grid","md:grid-cols-3","lg:gap-x-[200px]"],["ImgLink","/assets/img/competency-20.svg","title","\u043e\u0442 1\u0447","description","\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0430 \u0441\u043e\u0431\u044b\u0442\u0438\u044f GA \u0432 \u0438\u043d\u0442\u0435\u0440\u043d\u0435\u0442-\u043c\u0430\u0433\u0430\u0437\u0438\u043d\u0435"],["ImgLink","/assets/img/competency-21.svg","title","\u043e\u0442 20\u0447","description","\u0420\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0430 \u043c\u043e\u0431\u0438\u043b\u044c\u043d\u043e\u0439 \u0432\u0435\u0440\u0441\u0438\u0438 \u0441\u0430\u0439\u0442\u0430"],["ImgLink","/assets/img/competency-22.svg","title","\u043e\u0442 8\u0447","description","\u0418\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0438\u044f \u043c\u043e\u0434\u0443\u043b\u044f \u043e\u043f\u043b\u0430\u0442\u044b"]],template:function(i,r){1&i&&(ee(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),st(4,"\u041d\u0430\u0448\u0438 \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u0438 \u0432\u044b\u043f\u043e\u043b\u043d\u044f\u044e\u0442 \u0431\u044b\u0441\u0442\u0440\u043e \u043b\u044e\u0431\u044b\u0435 \u0437\u0430\u0434\u0430\u0447\u0438"),ue(),ee(5,"div",1)(6,"div",4),Ae(7,"professional-block",5)(8,"professional-block",6)(9,"professional-block",7),ue()()()()())},dependencies:[sae],styles:["#block-9[_ngcontent-%COMP%]{margin-bottom:55px}#title[_ngcontent-%COMP%]{width:100%;color:var(--main-black, #050C33);font-family:Montserrat;font-size:24px;font-style:normal;font-weight:700;line-height:normal;margin-bottom:60px}@media only screen and (min-width: 640px){#title[_ngcontent-%COMP%]{font-size:36px;width:auto}#block-9[_ngcontent-%COMP%]{margin-bottom:160px}}@media only screen and (min-width: 1024px){#title[_ngcontent-%COMP%]{font-size:38px;width:940px}}"]})}return n})();We(()=>{});let aae=(()=>{class n{getNumber(){return this.num+"."}constructor(){this.title="",this.description="",this.num=-1}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=cn({type:n,selectors:[["faq-stroke-main"]],inputs:{title:"title",description:"description",num:"num"},decls:6,vars:3,consts:[["id","title",1,"flex"],["id","number",3,"innerHTML"],["id","desc"]],template:function(i,r){1&i&&(ee(0,"div",0),Ae(1,"div",1),ee(2,"div"),st(3),ee(4,"div",2),st(5),ue()()()),2&i&&(Be(1),ut("innerHTML",r.getNumber(),uu),Be(2),Sn(" ",r.title," "),Be(2),Sn(" ",r.description," "))},styles:["#desc[_ngcontent-%COMP%]{color:var(--main-black, #6e6e6e);font-family:Montserrat;font-size:14px;font-style:normal;font-weight:550;line-height:normal}#title[_ngcontent-%COMP%]{color:var(--main-black, #f04325);font-family:Montserrat;font-size:18px;font-style:normal;font-weight:600;line-height:normal;margin:20px}#number[_ngcontent-%COMP%]{color:var(--main-black, #6e6e6e);margin-right:5px;transform:translateY(5px);font-family:Montserrat;font-size:12px;font-style:normal;font-weight:550;line-height:normal}@media only screen and (min-width: 820px){#desc[_ngcontent-%COMP%]{font-family:Montserrat;font-size:14px}#title[_ngcontent-%COMP%]{font-size:24px}}"]})}return n})(),uae=(()=>{class n{getNumber(){return this.num+"."}constructor(){this.title="",this.num=-1}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=cn({type:n,selectors:[["faq-stroke"]],inputs:{title:"title",num:"num"},decls:3,vars:2,consts:[["id","title",1,"flex"],["id","number",3,"innerHTML"],[3,"innerHTML"]],template:function(i,r){1&i&&(ee(0,"div",0),Ae(1,"div",1)(2,"div",2),ue()),2&i&&(Be(1),ut("innerHTML",r.getNumber(),uu),Be(1),ut("innerHTML",r.title,uu))},styles:["#title[_ngcontent-%COMP%]{color:var(--main-black, #050C33);font-family:Montserrat;font-size:18px;font-style:normal;font-weight:600;line-height:normal;margin-bottom:20px}#number[_ngcontent-%COMP%]{color:var(--main-black, #6e6e6e);margin-right:5px;transform:translateY(4px);font-family:Montserrat;font-size:14px;font-style:normal;font-weight:550;line-height:normal}@media only screen and (min-width: 820px){#title[_ngcontent-%COMP%]{font-size:24px}}"]})}return n})(),lae=(()=>{class n{constructor(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=cn({type:n,selectors:[["app-faq"]],decls:21,vars:12,consts:[[1,"flex","justify-center"],["id","block-11"],["id","title"],["id","inner"],[1,"transform","translate-x-[-20px]"],["id","firstQBlock"],["title","\u041a\u0442\u043e \u043d\u0435\u043f\u043e\u0441\u0440\u0435\u0434\u0441\u0442\u0432\u0435\u043d\u043d\u043e \u0437\u0430\u043d\u0438\u043c\u0430\u0435\u0442\u0441\u044f \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u043e\u0439?","description","\u0421\u0430\u0439\u0442\u044b \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u044e\u0442 \u0448\u0442\u0430\u0442\u043d\u044b\u0435 \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u0438 \u041e\u041e\u041e ''\u0418\u043d\u0438\u0442\u043b\u0430\u0431'', \u0433. \u041a\u0440\u0430\u0441\u043d\u043e\u0434\u0430\u0440, \u043f\u0440\u043e\u0448\u0435\u0434\u0448\u0438\u0435 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u044c\u043d\u043e\u0435 \u043e\u0431\u0443\u0447\u0435\u043d\u0438\u0435 \u0438 \u0438\u043c\u0435\u044e\u0449\u0438\u0435 \u043e\u043f\u044b\u0442 \u0440\u0430\u0431\u043e\u0442\u044b \u0441 \u0414\u0440\u0443\u043f\u0430\u043b \u043e\u0442 4 \u0434\u043e 15 \u043b\u0435\u0442: 8 web-\u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u0447\u0438\u043a\u043e\u0432, 2 \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0441\u0442\u0430 \u043f\u043e SEO, 4 \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u044b\u0445 \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440\u0430.",3,"num"],["title","<a href='/'>\u041a\u0430\u043a \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u043e\u0432\u0430\u043d\u0430 \u0440\u0430\u0431\u043e\u0442\u0430 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438?</a>",3,"num"],["title","<a href='/'>\u0427\u0442\u043e \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442, \u043a\u043e\u0433\u0434\u0430 \u043e\u0442\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u044b \u0432\u0441\u0435 \u043f\u0440\u0435\u0434\u043e\u043f\u043b\u0430\u0447\u0435\u043d\u043d\u044b\u0435 \u0447\u0430\u0441\u044b \u0437\u0430 \u043c\u0435\u0441\u044f\u0446?</a>",3,"num"],["title","<a href='/'>\u0427\u0442\u043e \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442, \u043a\u043e\u0433\u0434\u0430 \u043d\u0435 \u043e\u0442\u0440\u0430\u0431\u043e\u0442\u0430\u043d\u044b \u0432\u0441\u0435 \u043f\u0440\u0435\u0434\u043e\u043f\u043b\u0430\u0447\u0435\u043d\u043d\u044b\u0435 \u0447\u0430\u0441\u044b \u0437\u0430 \u043c\u0435\u0441\u044f\u0446?</a>",3,"num"],["title","<a href='/'>\u041a\u0430\u043a \u043f\u0440\u043e\u0438\u0441\u0445\u043e\u0434\u0438\u0442 \u043e\u0446\u0435\u043d\u043a\u0430 \u0438 \u0441\u043e\u0433\u043b\u0430\u0441\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u043b\u0430\u043d\u0438\u0440\u0443\u0435\u043c\u043e\u0433\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u043d\u0430 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0435 \u0437\u0430\u044f\u0432\u043e\u043a?</a>",3,"num"],["title","<a href='/'>\u0421\u043a\u043e\u043b\u044c\u043a\u043e \u043f\u0440\u043e\u0433\u0440\u0430\u043c\u043c\u0438\u0441\u0442\u043e\u0432 \u0432\u044b\u0434\u0435\u043b\u044f\u0435\u0442\u0441\u044f \u043d\u0430 \u043f\u0440\u043e\u0435\u043a\u0442?</a>",3,"num"],["title","<a href='/'>\u041a\u0430\u043a \u043f\u043e\u0434\u0430\u0442\u044c \u0437\u0430\u044f\u0432\u043a\u0443 \u043d\u0430 \u0432\u043d\u0435\u0441\u0435\u043d\u0438\u0435 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439 \u043d\u0430 \u0441\u0430\u0439\u0442\u0435?</a>",3,"num"],["title","<a href='/'>\u041a\u0430\u043a \u043f\u043e\u0434\u0430\u0442\u044c \u0437\u0430\u044f\u0432\u043a\u0443 \u043d\u0430 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f, \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0435 \u043d\u0430\u0441\u0442\u0440\u043e\u0435\u043a \u0432\u0435\u0431-\u0441\u0435\u0440\u0432\u0435\u0440\u0430 \u0438 \u0434\u0440\u0443\u0433\u0438\u0445 \u0437\u0430\u0434\u0430\u0447 \u043f\u043e \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044e?</a>",3,"num"],["title","<a href='/'>\u0412 \u0442\u0435\u0447\u0435\u043d\u0438\u0435 \u043a\u0430\u043a\u043e\u0433\u043e \u0432\u0440\u0435\u043c\u0435\u043d\u0438 \u043d\u0430\u0447\u0438\u043d\u0430\u0435\u0442\u0441\u044f \u0440\u0430\u0431\u043e\u0442\u0430 \u043f\u043e \u0437\u0430\u044f\u0432\u043a\u0435?</a>",3,"num"],["title","<a href='/'>\u0412 \u043a\u0430\u043a\u043e\u0435 \u0432\u0440\u0435\u043c\u044f \u0440\u0430\u0431\u043e\u0442\u0430\u0435\u0442 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0430?</a>",3,"num"],["title","<a href='/'>\u041f\u043e\u0434\u0445\u043e\u0434\u044f\u0442 \u043b\u0438 \u0443\u0441\u043b\u0443\u0433\u0438 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0438, \u0435\u0441\u043b\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043f\u0440\u043e\u0438\u0437\u0432\u0435\u0441\u0442\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u044f\u0434\u0440\u0430 Drupal \u0438\u043b\u0438 \u043c\u043e\u0434\u0443\u043b\u0435\u0439?</a>",3,"num"],["title","<a href='/'>\u041c\u043e\u0436\u043d\u043e \u043b\u0438 \u043f\u043e\u043e\u0431\u0449\u0430\u0442\u044c\u0441\u044f \u0441\u043e \u0441\u043f\u0435\u0446\u0438\u0430\u043b\u0438\u0441\u0442\u043e\u043c \u0433\u043e\u043b\u043e\u0441\u043e\u043c \u0438\u043b\u0438 \u0432 \u043c\u0435\u0441\u0441\u0435\u043d\u0434\u0436\u0435\u0440\u0435?</a>",3,"num"]],template:function(i,r){1&i&&(ee(0,"div",0)(1,"div",1)(2,"div",0)(3,"div",2),st(4,"FAQ"),ue()(),ee(5,"div",0)(6,"div",3)(7,"div",4)(8,"div",5),Ae(9,"faq-stroke-main",6),ue()(),Ae(10,"faq-stroke",7)(11,"faq-stroke",8)(12,"faq-stroke",9)(13,"faq-stroke",10)(14,"faq-stroke",11)(15,"faq-stroke",12)(16,"faq-stroke",13)(17,"faq-stroke",14)(18,"faq-stroke",15)(19,"faq-stroke",16)(20,"faq-stroke",17),ue()()()()),2&i&&(Be(9),ut("num",1),Be(1),ut("num",2),Be(1),ut("num",3),Be(1),ut("num",4),Be(1),ut("num",5),Be(1),ut("num",6),Be(1),ut("num",7),Be(1),ut("num",8),Be(1),ut("num",9),Be(1),ut("num",10),Be(1),ut("num",11),Be(1),ut("num",12))},dependencies:[uae,aae],styles:["#block-11[_ngcontent-%COMP%]{margin-bottom:160px}#inner[_ngcontent-%COMP%]{width:80%}#title[_ngcontent-%COMP%]{color:var(--main-black, #050C33);text-align:center;font-family:Montserrat;font-size:42px;font-style:normal;font-weight:700;line-height:normal;margin-bottom:60px}#firstQBlock[_ngcontent-%COMP%]{border:3px solid var(--main-black, #f04325);margin-bottom:20px}"]})}return n})(),cae=(()=>{class n{constructor(){}static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275cmp=cn({type:n,selectors:[["main"]],decls:25,vars:0,consts:[["id",".section_head"],["id",".section_info"],[1,"section_support"],[1,"section_expertise"],[1,"section_tariffs"],[1,"section_professionals"],[1,"section_team"],[1,"section_feedback"],[1,"section_clients"],[1,"section_faq"],[1,"section_footer"]],template:function(i,r){1&i&&(ee(0,"section",0),Ae(1,"app-header"),ue(),ee(2,"section",1),Ae(3,"app-info"),ue(),ee(4,"section",2),Ae(5,"app-support"),ue(),ee(6,"section",3),Ae(7,"app-expertise"),ue(),ee(8,"section",4),Ae(9,"app-tariffs"),ue(),ee(10,"section",5),Ae(11,"app-professionals"),ue(),ee(12,"section",6),Ae(13,"app-team"),ue(),ee(14,"section",5),Ae(15,"app-cases"),ue(),ee(16,"section",7),Ae(17,"app-feedback"),ue(),ee(18,"section",8),Ae(19,"app-clients"),ue(),ee(20,"section",9),Ae(21,"app-faq"),ue(),ee(22,"section",10),Ae(23,"app-footer"),ue(),Ae(24,"router-outlet"))},dependencies:[Roe,Foe,Boe,Hoe,Xoe,Joe,eae,iae,rae,poe,oae,lae,tM],encapsulation:2})}return n})(),dae=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275mod=$n({type:n,bootstrap:[cae]});static#n=this.\u0275inj=xn({imports:[Loe]})}return n})();f9().bootstrapModule(dae).catch(n=>console.error(n))},276:function(Bu,X0){var uc;!function(nt,ks){"use strict";"object"==typeof Bu.exports?Bu.exports=nt.document?ks(nt,!0):function(Jn){if(!Jn.document)throw new Error("jQuery requires a window with a document");return ks(Jn)}:ks(nt)}(typeof window<"u"?window:this,function(nt,ks){"use strict";var Jn=[],Vu=Object.getPrototypeOf,rn=Jn.slice,q_=Jn.flat?function(d){return Jn.flat.call(d)}:function(d){return Jn.concat.apply([],d)},lc=Jn.push,fo=Jn.indexOf,cc={},dc=cc.toString,Hu=cc.hasOwnProperty,Kf=Hu.toString,Y0=Kf.call(Object),Rt={},Ut=function(m){return"function"==typeof m&&"number"!=typeof m.nodeType&&"function"!=typeof m.item},Qo=function(m){return null!=m&&m===m.window},Tt=nt.document,Jf={type:!0,src:!0,nonce:!0,noModule:!0};function Qf(d,m,y){var b,S,C=(y=y||Tt).createElement("script");if(C.text=d,m)for(b in Jf)(S=m[b]||m.getAttribute&&m.getAttribute(b))&&C.setAttribute(b,S);y.head.appendChild(C).parentNode.removeChild(C)}function ea(d){return null==d?d+"":"object"==typeof d||"function"==typeof d?cc[dc.call(d)]||"object":typeof d}var Gu=/HTML$/i,E=function(d,m){return new E.fn.init(d,m)};function fc(d){var m=!!d&&"length"in d&&d.length,y=ea(d);return!Ut(d)&&!Qo(d)&&("array"===y||0===m||"number"==typeof m&&m>0&&m-1 in d)}function Nn(d,m){return d.nodeName&&d.nodeName.toLowerCase()===m.toLowerCase()}E.fn=E.prototype={jquery:"3.7.1",constructor:E,length:0,toArray:function(){return rn.call(this)},get:function(d){return null==d?rn.call(this):d<0?this[d+this.length]:this[d]},pushStack:function(d){var m=E.merge(this.constructor(),d);return m.prevObject=this,m},each:function(d){return E.each(this,d)},map:function(d){return this.pushStack(E.map(this,function(m,y){return d.call(m,y,m)}))},slice:function(){return this.pushStack(rn.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(E.grep(this,function(d,m){return(m+1)%2}))},odd:function(){return this.pushStack(E.grep(this,function(d,m){return m%2}))},eq:function(d){var m=this.length,y=+d+(d<0?m:0);return this.pushStack(y>=0&&y<m?[this[y]]:[])},end:function(){return this.prevObject||this.constructor()},push:lc,sort:Jn.sort,splice:Jn.splice},E.extend=E.fn.extend=function(){var d,m,y,b,S,C,A=arguments[0]||{},z=1,L=arguments.length,H=!1;for("boolean"==typeof A&&(H=A,A=arguments[z]||{},z++),"object"!=typeof A&&!Ut(A)&&(A={}),z===L&&(A=this,z--);z<L;z++)if(null!=(d=arguments[z]))for(m in d)b=d[m],"__proto__"!==m&&A!==b&&(H&&b&&(E.isPlainObject(b)||(S=Array.isArray(b)))?(y=A[m],C=S&&!Array.isArray(y)?[]:S||E.isPlainObject(y)?y:{},S=!1,A[m]=E.extend(H,C,b)):void 0!==b&&(A[m]=b));return A},E.extend({expando:"jQuery"+("3.7.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(d){throw new Error(d)},noop:function(){},isPlainObject:function(d){var m,y;return!(!d||"[object Object]"!==dc.call(d)||(m=Vu(d))&&("function"!=typeof(y=Hu.call(m,"constructor")&&m.constructor)||Kf.call(y)!==Y0))},isEmptyObject:function(d){var m;for(m in d)return!1;return!0},globalEval:function(d,m,y){Qf(d,{nonce:m&&m.nonce},y)},each:function(d,m){var y,b=0;if(fc(d))for(y=d.length;b<y&&!1!==m.call(d[b],b,d[b]);b++);else for(b in d)if(!1===m.call(d[b],b,d[b]))break;return d},text:function(d){var m,y="",b=0,S=d.nodeType;if(!S)for(;m=d[b++];)y+=E.text(m);return 1===S||11===S?d.textContent:9===S?d.documentElement.textContent:3===S||4===S?d.nodeValue:y},makeArray:function(d,m){var y=m||[];return null!=d&&(fc(Object(d))?E.merge(y,"string"==typeof d?[d]:d):lc.call(y,d)),y},inArray:function(d,m,y){return null==m?-1:fo.call(m,d,y)},isXMLDoc:function(d){var y=d&&(d.ownerDocument||d).documentElement;return!Gu.test(d&&d.namespaceURI||y&&y.nodeName||"HTML")},merge:function(d,m){for(var y=+m.length,b=0,S=d.length;b<y;b++)d[S++]=m[b];return d.length=S,d},grep:function(d,m,y){for(var S=[],C=0,A=d.length,z=!y;C<A;C++)!m(d[C],C)!==z&&S.push(d[C]);return S},map:function(d,m,y){var b,S,C=0,A=[];if(fc(d))for(b=d.length;C<b;C++)null!=(S=m(d[C],C,y))&&A.push(S);else for(C in d)null!=(S=m(d[C],C,y))&&A.push(S);return q_(A)},guid:1,support:Rt}),"function"==typeof Symbol&&(E.fn[Symbol.iterator]=Jn[Symbol.iterator]),E.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(d,m){cc["[object "+m+"]"]=m.toLowerCase()});var eS=Jn.pop,tS=Jn.sort,X_=Jn.splice,_n="[\\x20\\t\\r\\n\\f]",hc=new RegExp("^"+_n+"+|((?:^|[^\\\\])(?:\\\\.)*)"+_n+"+$","g");E.contains=function(d,m){var y=m&&m.parentNode;return d===y||!(!y||1!==y.nodeType||!(d.contains?d.contains(y):d.compareDocumentPosition&&16&d.compareDocumentPosition(y)))};var Z0=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function eh(d,m){return m?"\0"===d?"\ufffd":d.slice(0,-1)+"\\"+d.charCodeAt(d.length-1).toString(16)+" ":"\\"+d}E.escapeSelector=function(d){return(d+"").replace(Z0,eh)};var Us=Tt,Wu=lc;!function(){var d,m,y,b,S,A,z,L,H,ne,C=Wu,ce=E.expando,Z=0,Me=0,K=Ic(),$t=Ic(),It=Ic(),ui=Ic(),Yn=function(N,V){return N===V&&(S=!0),0},$r="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",pi="(?:\\\\[\\da-fA-F]{1,6}"+_n+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",Ht="\\["+_n+"*("+pi+")(?:"+_n+"*([*^$|!~]?=)"+_n+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+pi+"))|)"+_n+"*\\]",vo=":("+pi+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+Ht+")*)|.*)\\)|)",He=new RegExp(_n+"+","g"),ht=new RegExp("^"+_n+"*,"+_n+"*"),Ac=new RegExp("^"+_n+"*([>+~]|"+_n+")"+_n+"*"),_h=new RegExp(_n+"|>"),_s=new RegExp(vo),Tc=new RegExp("^"+pi+"$"),ys={ID:new RegExp("^#("+pi+")"),CLASS:new RegExp("^\\.("+pi+")"),TAG:new RegExp("^("+pi+"|[*])"),ATTR:new RegExp("^"+Ht),PSEUDO:new RegExp("^"+vo),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+_n+"*(even|odd|(([+-]|)(\\d*)n|)"+_n+"*(?:([+-]|)"+_n+"*(\\d+)|))"+_n+"*\\)|)","i"),bool:new RegExp("^(?:"+$r+")$","i"),needsContext:new RegExp("^"+_n+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+_n+"*((?:-\\d)?\\d*)"+_n+"*\\)|)(?=[^-]|$)","i")},xs=/^(?:input|select|textarea|button)$/i,Qn=/^h\d$/i,qr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,yh=/[+~]/,_o=new RegExp("\\\\[\\da-fA-F]{1,6}"+_n+"?|\\\\([^\\r\\n\\f])","g"),Li=function(N,V){var X="0x"+N.slice(1)-65536;return V||(X<0?String.fromCharCode(X+65536):String.fromCharCode(X>>10|55296,1023&X|56320))},sS=function(){sa()},oS=xn(function(N){return!0===N.disabled&&Nn(N,"fieldset")},{dir:"parentNode",next:"legend"});try{C.apply(Jn=rn.call(Us.childNodes),Us.childNodes)}catch{C={apply:function(V,X){Wu.apply(V,rn.call(X))},call:function(V){Wu.apply(V,rn.call(arguments,1))}}}function yn(N,V,X,Q){var re,Pe,$e,Ie,qe,tn,he,yt=V&&V.ownerDocument,qt=V?V.nodeType:9;if(X=X||[],"string"!=typeof N||!N||1!==qt&&9!==qt&&11!==qt)return X;if(!Q&&(sa(V),V=V||A,L)){if(11!==qt&&(qe=qr.exec(N)))if(re=qe[1]){if(9===qt){if(!($e=V.getElementById(re)))return X;if($e.id===re)return C.call(X,$e),X}else if(yt&&($e=yt.getElementById(re))&&yn.contains(V,$e)&&$e.id===re)return C.call(X,$e),X}else{if(qe[2])return C.apply(X,V.getElementsByTagName(N)),X;if((re=qe[3])&&V.getElementsByClassName)return C.apply(X,V.getElementsByClassName(re)),X}if(!(ui[N+" "]||H&&H.test(N))){if(he=N,yt=V,1===qt&&(_h.test(N)||Ac.test(N))){for(((yt=yh.test(N)&&Cm(V.parentNode)||V)!=V||!Rt.scope)&&((Ie=V.getAttribute("id"))?Ie=E.escapeSelector(Ie):V.setAttribute("id",Ie=ce)),Pe=(tn=it(N)).length;Pe--;)tn[Pe]=(Ie?"#"+Ie:":scope")+" "+xh(tn[Pe]);he=tn.join(",")}try{return C.apply(X,yt.querySelectorAll(he)),X}catch{ui(N,!0)}finally{Ie===ce&&V.removeAttribute("id")}}}return Eh(N.replace(hc,"$1"),V,X,Q)}function Ic(){var N=[];return function V(X,Q){return N.push(X+" ")>m.cacheLength&&delete V[N.shift()],V[X+" "]=Q}}function bs(N){return N[ce]=!0,N}function $a(N){var V=A.createElement("fieldset");try{return!!N(V)}catch{return!1}finally{V.parentNode&&V.parentNode.removeChild(V),V=null}}function uS(N){return function(V){return Nn(V,"input")&&V.type===N}}function qi(N){return function(V){return(Nn(V,"input")||Nn(V,"button"))&&V.type===N}}function gt(N){return function(V){return"form"in V?V.parentNode&&!1===V.disabled?"label"in V?"label"in V.parentNode?V.parentNode.disabled===N:V.disabled===N:V.isDisabled===N||V.isDisabled!==!N&&oS(V)===N:V.disabled===N:"label"in V&&V.disabled===N}}function qa(N){return bs(function(V){return V=+V,bs(function(X,Q){for(var re,Pe=N([],X.length,V),$e=Pe.length;$e--;)X[re=Pe[$e]]&&(X[re]=!(Q[re]=X[re]))})})}function Cm(N){return N&&typeof N.getElementsByTagName<"u"&&N}function sa(N){var V,X=N?N.ownerDocument||N:Us;return X==A||9!==X.nodeType||!X.documentElement||(z=(A=X).documentElement,L=!E.isXMLDoc(A),ne=z.matches||z.webkitMatchesSelector||z.msMatchesSelector,z.msMatchesSelector&&Us!=A&&(V=A.defaultView)&&V.top!==V&&V.addEventListener("unload",sS),Rt.getById=$a(function(Q){return z.appendChild(Q).id=E.expando,!A.getElementsByName||!A.getElementsByName(E.expando).length}),Rt.disconnectedMatch=$a(function(Q){return ne.call(Q,"*")}),Rt.scope=$a(function(){return A.querySelectorAll(":scope")}),Rt.cssHas=$a(function(){try{return A.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),Rt.getById?(m.filter.ID=function(Q){var re=Q.replace(_o,Li);return function(Pe){return Pe.getAttribute("id")===re}},m.find.ID=function(Q,re){if(typeof re.getElementById<"u"&&L){var Pe=re.getElementById(Q);return Pe?[Pe]:[]}}):(m.filter.ID=function(Q){var re=Q.replace(_o,Li);return function(Pe){var $e=typeof Pe.getAttributeNode<"u"&&Pe.getAttributeNode("id");return $e&&$e.value===re}},m.find.ID=function(Q,re){if(typeof re.getElementById<"u"&&L){var Pe,$e,Ie,qe=re.getElementById(Q);if(qe){if((Pe=qe.getAttributeNode("id"))&&Pe.value===Q)return[qe];for(Ie=re.getElementsByName(Q),$e=0;qe=Ie[$e++];)if((Pe=qe.getAttributeNode("id"))&&Pe.value===Q)return[qe]}return[]}}),m.find.TAG=function(Q,re){return typeof re.getElementsByTagName<"u"?re.getElementsByTagName(Q):re.querySelectorAll(Q)},m.find.CLASS=function(Q,re){if(typeof re.getElementsByClassName<"u"&&L)return re.getElementsByClassName(Q)},H=[],$a(function(Q){var re;z.appendChild(Q).innerHTML="<a id='"+ce+"' href='' disabled='disabled'></a><select id='"+ce+"-\r\\' disabled='disabled'><option selected=''></option></select>",Q.querySelectorAll("[selected]").length||H.push("\\["+_n+"*(?:value|"+$r+")"),Q.querySelectorAll("[id~="+ce+"-]").length||H.push("~="),Q.querySelectorAll("a#"+ce+"+*").length||H.push(".#.+[+~]"),Q.querySelectorAll(":checked").length||H.push(":checked"),(re=A.createElement("input")).setAttribute("type","hidden"),Q.appendChild(re).setAttribute("name","D"),z.appendChild(Q).disabled=!0,2!==Q.querySelectorAll(":disabled").length&&H.push(":enabled",":disabled"),(re=A.createElement("input")).setAttribute("name",""),Q.appendChild(re),Q.querySelectorAll("[name='']").length||H.push("\\["+_n+"*name"+_n+"*="+_n+"*(?:''|\"\")")}),Rt.cssHas||H.push(":has"),H=H.length&&new RegExp(H.join("|")),Yn=function(Q,re){if(Q===re)return S=!0,0;var Pe=!Q.compareDocumentPosition-!re.compareDocumentPosition;return Pe||(1&(Pe=(Q.ownerDocument||Q)==(re.ownerDocument||re)?Q.compareDocumentPosition(re):1)||!Rt.sortDetached&&re.compareDocumentPosition(Q)===Pe?Q===A||Q.ownerDocument==Us&&yn.contains(Us,Q)?-1:re===A||re.ownerDocument==Us&&yn.contains(Us,re)?1:b?fo.call(b,Q)-fo.call(b,re):0:4&Pe?-1:1)}),A}for(d in yn.matches=function(N,V){return yn(N,null,null,V)},yn.matchesSelector=function(N,V){if(sa(N),L&&!ui[V+" "]&&(!H||!H.test(V)))try{var X=ne.call(N,V);if(X||Rt.disconnectedMatch||N.document&&11!==N.document.nodeType)return X}catch{ui(V,!0)}return yn(V,A,null,[N]).length>0},yn.contains=function(N,V){return(N.ownerDocument||N)!=A&&sa(N),E.contains(N,V)},yn.attr=function(N,V){(N.ownerDocument||N)!=A&&sa(N);var X=m.attrHandle[V.toLowerCase()],Q=X&&Hu.call(m.attrHandle,V.toLowerCase())?X(N,V,!L):void 0;return void 0!==Q?Q:N.getAttribute(V)},yn.error=function(N){throw new Error("Syntax error, unrecognized expression: "+N)},E.uniqueSort=function(N){var V,X=[],Q=0,re=0;if(S=!Rt.sortStable,b=!Rt.sortStable&&rn.call(N,0),tS.call(N,Yn),S){for(;V=N[re++];)V===N[re]&&(Q=X.push(re));for(;Q--;)X_.call(N,X[Q],1)}return b=null,N},E.fn.uniqueSort=function(){return this.pushStack(E.uniqueSort(rn.apply(this)))},(m=E.expr={cacheLength:50,createPseudo:bs,match:ys,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(N){return N[1]=N[1].replace(_o,Li),N[3]=(N[3]||N[4]||N[5]||"").replace(_o,Li),"~="===N[2]&&(N[3]=" "+N[3]+" "),N.slice(0,4)},CHILD:function(N){return N[1]=N[1].toLowerCase(),"nth"===N[1].slice(0,3)?(N[3]||yn.error(N[0]),N[4]=+(N[4]?N[5]+(N[6]||1):2*("even"===N[3]||"odd"===N[3])),N[5]=+(N[7]+N[8]||"odd"===N[3])):N[3]&&yn.error(N[0]),N},PSEUDO:function(N){var V,X=!N[6]&&N[2];return ys.CHILD.test(N[0])?null:(N[3]?N[2]=N[4]||N[5]||"":X&&_s.test(X)&&(V=it(X,!0))&&(V=X.indexOf(")",X.length-V)-X.length)&&(N[0]=N[0].slice(0,V),N[2]=X.slice(0,V)),N.slice(0,3))}},filter:{TAG:function(N){var V=N.replace(_o,Li).toLowerCase();return"*"===N?function(){return!0}:function(X){return Nn(X,V)}},CLASS:function(N){var V=K[N+" "];return V||(V=new RegExp("(^|"+_n+")"+N+"("+_n+"|$)"))&&K(N,function(X){return V.test("string"==typeof X.className&&X.className||typeof X.getAttribute<"u"&&X.getAttribute("class")||"")})},ATTR:function(N,V,X){return function(Q){var re=yn.attr(Q,N);return null==re?"!="===V:!V||(re+="","="===V?re===X:"!="===V?re!==X:"^="===V?X&&0===re.indexOf(X):"*="===V?X&&re.indexOf(X)>-1:"$="===V?X&&re.slice(-X.length)===X:"~="===V?(" "+re.replace(He," ")+" ").indexOf(X)>-1:"|="===V&&(re===X||re.slice(0,X.length+1)===X+"-"))}},CHILD:function(N,V,X,Q,re){var Pe="nth"!==N.slice(0,3),$e="last"!==N.slice(-4),Ie="of-type"===V;return 1===Q&&0===re?function(qe){return!!qe.parentNode}:function(qe,tn,he){var yt,qt,dt,bn,Xi,mi=Pe!==$e?"nextSibling":"previousSibling",Xr=qe.parentNode,Gs=Ie&&qe.nodeName.toLowerCase(),nl=!he&&!Ie,Yi=!1;if(Xr){if(Pe){for(;mi;){for(dt=qe;dt=dt[mi];)if(Ie?Nn(dt,Gs):1===dt.nodeType)return!1;Xi=mi="only"===N&&!Xi&&"nextSibling"}return!0}if(Xi=[$e?Xr.firstChild:Xr.lastChild],$e&&nl){for(Yi=(bn=(yt=(qt=Xr[ce]||(Xr[ce]={}))[N]||[])[0]===Z&&yt[1])&&yt[2],dt=bn&&Xr.childNodes[bn];dt=++bn&&dt&&dt[mi]||(Yi=bn=0)||Xi.pop();)if(1===dt.nodeType&&++Yi&&dt===qe){qt[N]=[Z,bn,Yi];break}}else if(nl&&(Yi=bn=(yt=(qt=qe[ce]||(qe[ce]={}))[N]||[])[0]===Z&&yt[1]),!1===Yi)for(;(dt=++bn&&dt&&dt[mi]||(Yi=bn=0)||Xi.pop())&&(!(Ie?Nn(dt,Gs):1===dt.nodeType)||!++Yi||(nl&&((qt=dt[ce]||(dt[ce]={}))[N]=[Z,Yi]),dt!==qe)););return(Yi-=re)===Q||Yi%Q==0&&Yi/Q>=0}}},PSEUDO:function(N,V){var X,Q=m.pseudos[N]||m.setFilters[N.toLowerCase()]||yn.error("unsupported pseudo: "+N);return Q[ce]?Q(V):Q.length>1?(X=[N,N,"",V],m.setFilters.hasOwnProperty(N.toLowerCase())?bs(function(re,Pe){for(var $e,Ie=Q(re,V),qe=Ie.length;qe--;)re[$e=fo.call(re,Ie[qe])]=!(Pe[$e]=Ie[qe])}):function(re){return Q(re,0,X)}):Q}},pseudos:{not:bs(function(N){var V=[],X=[],Q=tl(N.replace(hc,"$1"));return Q[ce]?bs(function(re,Pe,$e,Ie){for(var qe,tn=Q(re,null,Ie,[]),he=re.length;he--;)(qe=tn[he])&&(re[he]=!(Pe[he]=qe))}):function(re,Pe,$e){return V[0]=re,Q(V,null,$e,X),V[0]=null,!X.pop()}}),has:bs(function(N){return function(V){return yn(N,V).length>0}}),contains:bs(function(N){return N=N.replace(_o,Li),function(V){return(V.textContent||E.text(V)).indexOf(N)>-1}}),lang:bs(function(N){return Tc.test(N||"")||yn.error("unsupported lang: "+N),N=N.replace(_o,Li).toLowerCase(),function(V){var X;do{if(X=L?V.lang:V.getAttribute("xml:lang")||V.getAttribute("lang"))return(X=X.toLowerCase())===N||0===X.indexOf(N+"-")}while((V=V.parentNode)&&1===V.nodeType);return!1}}),target:function(N){var V=nt.location&&nt.location.hash;return V&&V.slice(1)===N.id},root:function(N){return N===z},focus:function(N){return N===function aS(){try{return A.activeElement}catch{}}()&&A.hasFocus()&&!!(N.type||N.href||~N.tabIndex)},enabled:gt(!1),disabled:gt(!0),checked:function(N){return Nn(N,"input")&&!!N.checked||Nn(N,"option")&&!!N.selected},selected:function(N){return!0===N.selected},empty:function(N){for(N=N.firstChild;N;N=N.nextSibling)if(N.nodeType<6)return!1;return!0},parent:function(N){return!m.pseudos.empty(N)},header:function(N){return Qn.test(N.nodeName)},input:function(N){return xs.test(N.nodeName)},button:function(N){return Nn(N,"input")&&"button"===N.type||Nn(N,"button")},text:function(N){var V;return Nn(N,"input")&&"text"===N.type&&(null==(V=N.getAttribute("type"))||"text"===V.toLowerCase())},first:qa(function(){return[0]}),last:qa(function(N,V){return[V-1]}),eq:qa(function(N,V,X){return[X<0?X+V:X]}),even:qa(function(N,V){for(var X=0;X<V;X+=2)N.push(X);return N}),odd:qa(function(N,V){for(var X=1;X<V;X+=2)N.push(X);return N}),lt:qa(function(N,V,X){var Q;for(Q=X<0?X+V:X>V?V:X;--Q>=0;)N.push(Q);return N}),gt:qa(function(N,V,X){for(var Q=X<0?X+V:X;++Q<V;)N.push(Q);return N})}}).pseudos.nth=m.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})m.pseudos[d]=uS(d);for(d in{submit:!0,reset:!0})m.pseudos[d]=qi(d);function vy(){}function it(N,V){var X,Q,re,Pe,$e,Ie,qe,tn=$t[N+" "];if(tn)return V?0:tn.slice(0);for($e=N,Ie=[],qe=m.preFilter;$e;){for(Pe in(!X||(Q=ht.exec($e)))&&(Q&&($e=$e.slice(Q[0].length)||$e),Ie.push(re=[])),X=!1,(Q=Ac.exec($e))&&(X=Q.shift(),re.push({value:X,type:Q[0].replace(hc," ")}),$e=$e.slice(X.length)),m.filter)(Q=ys[Pe].exec($e))&&(!qe[Pe]||(Q=qe[Pe](Q)))&&(X=Q.shift(),re.push({value:X,type:Pe,matches:Q}),$e=$e.slice(X.length));if(!X)break}return V?$e.length:$e?yn.error(N):$t(N,Ie).slice(0)}function xh(N){for(var V=0,X=N.length,Q="";V<X;V++)Q+=N[V].value;return Q}function xn(N,V,X){var Q=V.dir,re=V.next,Pe=re||Q,$e=X&&"parentNode"===Pe,Ie=Me++;return V.first?function(qe,tn,he){for(;qe=qe[Q];)if(1===qe.nodeType||$e)return N(qe,tn,he);return!1}:function(qe,tn,he){var yt,qt,dt=[Z,Ie];if(he){for(;qe=qe[Q];)if((1===qe.nodeType||$e)&&N(qe,tn,he))return!0}else for(;qe=qe[Q];)if(1===qe.nodeType||$e)if(qt=qe[ce]||(qe[ce]={}),re&&Nn(qe,re))qe=qe[Q]||qe;else{if((yt=qt[Pe])&&yt[0]===Z&&yt[1]===Ie)return dt[2]=yt[2];if(qt[Pe]=dt,dt[2]=N(qe,tn,he))return!0}return!1}}function Xa(N){return N.length>1?function(V,X,Q){for(var re=N.length;re--;)if(!N[re](V,X,Q))return!1;return!0}:N[0]}function el(N,V,X,Q,re){for(var Pe,$e=[],Ie=0,qe=N.length,tn=null!=V;Ie<qe;Ie++)(Pe=N[Ie])&&(!X||X(Pe,Q,re))&&($e.push(Pe),tn&&V.push(Ie));return $e}function bh(N,V,X,Q,re,Pe){return Q&&!Q[ce]&&(Q=bh(Q)),re&&!re[ce]&&(re=bh(re,Pe)),bs(function($e,Ie,qe,tn){var he,yt,qt,dt,bn=[],Xi=[],mi=Ie.length,Xr=$e||function _y(N,V,X){for(var Q=0,re=V.length;Q<re;Q++)yn(N,V[Q],X);return X}(V||"*",qe.nodeType?[qe]:qe,[]),Gs=!N||!$e&&V?Xr:el(Xr,bn,N,qe,tn);if(X?X(Gs,dt=re||($e?N:mi||Q)?[]:Ie,qe,tn):dt=Gs,Q)for(he=el(dt,Xi),Q(he,[],qe,tn),yt=he.length;yt--;)(qt=he[yt])&&(dt[Xi[yt]]=!(Gs[Xi[yt]]=qt));if($e){if(re||N){if(re){for(he=[],yt=dt.length;yt--;)(qt=dt[yt])&&he.push(Gs[yt]=qt);re(null,dt=[],he,tn)}for(yt=dt.length;yt--;)(qt=dt[yt])&&(he=re?fo.call($e,qt):bn[yt])>-1&&($e[he]=!(Ie[he]=qt))}}else dt=el(dt===Ie?dt.splice(mi,dt.length):dt),re?re(null,Ie,dt,tn):C.apply(Ie,dt)})}function Ya(N){for(var V,X,Q,re=N.length,Pe=m.relative[N[0].type],$e=Pe||m.relative[" "],Ie=Pe?1:0,qe=xn(function(yt){return yt===V},$e,!0),tn=xn(function(yt){return fo.call(V,yt)>-1},$e,!0),he=[function(yt,qt,dt){var bn=!Pe&&(dt||qt!=y)||((V=qt).nodeType?qe(yt,qt,dt):tn(yt,qt,dt));return V=null,bn}];Ie<re;Ie++)if(X=m.relative[N[Ie].type])he=[xn(Xa(he),X)];else{if((X=m.filter[N[Ie].type].apply(null,N[Ie].matches))[ce]){for(Q=++Ie;Q<re&&!m.relative[N[Q].type];Q++);return bh(Ie>1&&Xa(he),Ie>1&&xh(N.slice(0,Ie-1).concat({value:" "===N[Ie-2].type?"*":""})).replace(hc,"$1"),X,Ie<Q&&Ya(N.slice(Ie,Q)),Q<re&&Ya(N=N.slice(Q)),Q<re&&xh(N))}he.push(X)}return Xa(he)}function tl(N,V){var X,Q=[],re=[],Pe=It[N+" "];if(!Pe){for(V||(V=it(N)),X=V.length;X--;)(Pe=Ya(V[X]))[ce]?Q.push(Pe):re.push(Pe);Pe=It(N,function Rc(N,V){var X=V.length>0,Q=N.length>0,re=function(Pe,$e,Ie,qe,tn){var he,yt,qt,dt=0,bn="0",Xi=Pe&&[],mi=[],Xr=y,Gs=Pe||Q&&m.find.TAG("*",tn),nl=Z+=null==Xr?1:Math.random()||.1,Yi=Gs.length;for(tn&&(y=$e==A||$e||tn);bn!==Yi&&null!=(he=Gs[bn]);bn++){if(Q&&he){for(yt=0,!$e&&he.ownerDocument!=A&&(sa(he),Ie=!L);qt=N[yt++];)if(qt(he,$e||A,Ie)){C.call(qe,he);break}tn&&(Z=nl)}X&&((he=!qt&&he)&&dt--,Pe&&Xi.push(he))}if(dt+=bn,X&&bn!==dt){for(yt=0;qt=V[yt++];)qt(Xi,mi,$e,Ie);if(Pe){if(dt>0)for(;bn--;)Xi[bn]||mi[bn]||(mi[bn]=eS.call(qe));mi=el(mi)}C.apply(qe,mi),tn&&!Pe&&mi.length>0&&dt+V.length>1&&E.uniqueSort(qe)}return tn&&(Z=nl,y=Xr),Xi};return X?bs(re):re}(re,Q)),Pe.selector=N}return Pe}function Eh(N,V,X,Q){var re,Pe,$e,Ie,qe,tn="function"==typeof N&&N,he=!Q&&it(N=tn.selector||N);if(X=X||[],1===he.length){if((Pe=he[0]=he[0].slice(0)).length>2&&"ID"===($e=Pe[0]).type&&9===V.nodeType&&L&&m.relative[Pe[1].type]){if(!(V=(m.find.ID($e.matches[0].replace(_o,Li),V)||[])[0]))return X;tn&&(V=V.parentNode),N=N.slice(Pe.shift().value.length)}for(re=ys.needsContext.test(N)?0:Pe.length;re--&&!m.relative[Ie=($e=Pe[re]).type];)if((qe=m.find[Ie])&&(Q=qe($e.matches[0].replace(_o,Li),yh.test(Pe[0].type)&&Cm(V.parentNode)||V))){if(Pe.splice(re,1),!(N=Q.length&&xh(Pe)))return C.apply(X,Q),X;break}}return(tn||tl(N,he))(Q,V,!L,X,!V||yh.test(N)&&Cm(V.parentNode)||V),X}vy.prototype=m.filters=m.pseudos,m.setFilters=new vy,Rt.sortStable=ce.split("").sort(Yn).join("")===ce,sa(),Rt.sortDetached=$a(function(N){return 1&N.compareDocumentPosition(A.createElement("fieldset"))}),E.find=yn,E.expr[":"]=E.expr.pseudos,E.unique=E.uniqueSort,yn.compile=tl,yn.select=Eh,yn.setDocument=sa,yn.tokenize=it,yn.escape=E.escapeSelector,yn.getText=E.text,yn.isXML=E.isXMLDoc,yn.selectors=E.expr,yn.support=E.support,yn.uniqueSort=E.uniqueSort}();var ju=function(d,m,y){for(var b=[],S=void 0!==y;(d=d[m])&&9!==d.nodeType;)if(1===d.nodeType){if(S&&E(d).is(y))break;b.push(d)}return b},Y_=function(d,m){for(var y=[];d;d=d.nextSibling)1===d.nodeType&&d!==m&&y.push(d);return y},Z_=E.expr.match.needsContext,K0=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function J0(d,m,y){return Ut(m)?E.grep(d,function(b,S){return!!m.call(b,S,b)!==y}):m.nodeType?E.grep(d,function(b){return b===m!==y}):"string"!=typeof m?E.grep(d,function(b){return fo.call(m,b)>-1!==y}):E.filter(m,d,y)}E.filter=function(d,m,y){var b=m[0];return y&&(d=":not("+d+")"),1===m.length&&1===b.nodeType?E.find.matchesSelector(b,d)?[b]:[]:E.find.matches(d,E.grep(m,function(S){return 1===S.nodeType}))},E.fn.extend({find:function(d){var m,y,b=this.length,S=this;if("string"!=typeof d)return this.pushStack(E(d).filter(function(){for(m=0;m<b;m++)if(E.contains(S[m],this))return!0}));for(y=this.pushStack([]),m=0;m<b;m++)E.find(d,S[m],y);return b>1?E.uniqueSort(y):y},filter:function(d){return this.pushStack(J0(this,d||[],!1))},not:function(d){return this.pushStack(J0(this,d||[],!0))},is:function(d){return!!J0(this,"string"==typeof d&&Z_.test(d)?E(d):d||[],!1).length}});var K_,J_=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,Q0=E.fn.init=function(d,m,y){var b,S;if(!d)return this;if(y=y||K_,"string"==typeof d){if(!(b="<"===d[0]&&">"===d[d.length-1]&&d.length>=3?[null,d,null]:J_.exec(d))||!b[1]&&m)return!m||m.jquery?(m||y).find(d):this.constructor(m).find(d);if(b[1]){if(E.merge(this,E.parseHTML(b[1],(m=m instanceof E?m[0]:m)&&m.nodeType?m.ownerDocument||m:Tt,!0)),K0.test(b[1])&&E.isPlainObject(m))for(b in m)Ut(this[b])?this[b](m[b]):this.attr(b,m[b]);return this}return(S=Tt.getElementById(b[2]))&&(this[0]=S,this.length=1),this}return d.nodeType?(this[0]=d,this.length=1,this):Ut(d)?void 0!==y.ready?y.ready(d):d(E):E.makeArray(d,this)};Q0.prototype=E.fn,K_=E(Tt);var nS=/^(?:parents|prev(?:Until|All))/,em={children:!0,contents:!0,next:!0,prev:!0};function tm(d,m){for(;(d=d[m])&&1!==d.nodeType;);return d}E.fn.extend({has:function(d){var m=E(d,this),y=m.length;return this.filter(function(){for(var b=0;b<y;b++)if(E.contains(this,m[b]))return!0})},closest:function(d,m){var y,b=0,S=this.length,C=[],A="string"!=typeof d&&E(d);if(!Z_.test(d))for(;b<S;b++)for(y=this[b];y&&y!==m;y=y.parentNode)if(y.nodeType<11&&(A?A.index(y)>-1:1===y.nodeType&&E.find.matchesSelector(y,d))){C.push(y);break}return this.pushStack(C.length>1?E.uniqueSort(C):C)},index:function(d){return d?"string"==typeof d?fo.call(E(d),this[0]):fo.call(this,d.jquery?d[0]:d):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(d,m){return this.pushStack(E.uniqueSort(E.merge(this.get(),E(d,m))))},addBack:function(d){return this.add(null==d?this.prevObject:this.prevObject.filter(d))}}),E.each({parent:function(d){var m=d.parentNode;return m&&11!==m.nodeType?m:null},parents:function(d){return ju(d,"parentNode")},parentsUntil:function(d,m,y){return ju(d,"parentNode",y)},next:function(d){return tm(d,"nextSibling")},prev:function(d){return tm(d,"previousSibling")},nextAll:function(d){return ju(d,"nextSibling")},prevAll:function(d){return ju(d,"previousSibling")},nextUntil:function(d,m,y){return ju(d,"nextSibling",y)},prevUntil:function(d,m,y){return ju(d,"previousSibling",y)},siblings:function(d){return Y_((d.parentNode||{}).firstChild,d)},children:function(d){return Y_(d.firstChild)},contents:function(d){return null!=d.contentDocument&&Vu(d.contentDocument)?d.contentDocument:(Nn(d,"template")&&(d=d.content||d),E.merge([],d.childNodes))}},function(d,m){E.fn[d]=function(y,b){var S=E.map(this,m,y);return"Until"!==d.slice(-5)&&(b=y),b&&"string"==typeof b&&(S=E.filter(b,S)),this.length>1&&(em[d]||E.uniqueSort(S),nS.test(d)&&S.reverse()),this.pushStack(S)}});var Bs=/[^\x20\t\r\n\f]+/g;function ho(d){return d}function Ba(d){throw d}function pc(d,m,y,b){var S;try{d&&Ut(S=d.promise)?S.call(d).done(m).fail(y):d&&Ut(S=d.then)?S.call(d,m,y):m.apply(void 0,[d].slice(b))}catch(C){y.apply(void 0,[C])}}E.Callbacks=function(d){d="string"==typeof d?function In(d){var m={};return E.each(d.match(Bs)||[],function(y,b){m[b]=!0}),m}(d):E.extend({},d);var m,y,b,S,C=[],A=[],z=-1,L=function(){for(S=S||d.once,b=m=!0;A.length;z=-1)for(y=A.shift();++z<C.length;)!1===C[z].apply(y[0],y[1])&&d.stopOnFalse&&(z=C.length,y=!1);d.memory||(y=!1),m=!1,S&&(C=y?[]:"")},H={add:function(){return C&&(y&&!m&&(z=C.length-1,A.push(y)),function ne(ce){E.each(ce,function(Z,Me){Ut(Me)?(!d.unique||!H.has(Me))&&C.push(Me):Me&&Me.length&&"string"!==ea(Me)&&ne(Me)})}(arguments),y&&!m&&L()),this},remove:function(){return E.each(arguments,function(ne,ce){for(var Z;(Z=E.inArray(ce,C,Z))>-1;)C.splice(Z,1),Z<=z&&z--}),this},has:function(ne){return ne?E.inArray(ne,C)>-1:C.length>0},empty:function(){return C&&(C=[]),this},disable:function(){return S=A=[],C=y="",this},disabled:function(){return!C},lock:function(){return S=A=[],!y&&!m&&(C=y=""),this},locked:function(){return!!S},fireWith:function(ne,ce){return S||(ce=[ne,(ce=ce||[]).slice?ce.slice():ce],A.push(ce),m||L()),this},fire:function(){return H.fireWith(this,arguments),this},fired:function(){return!!b}};return H},E.extend({Deferred:function(d){var m=[["notify","progress",E.Callbacks("memory"),E.Callbacks("memory"),2],["resolve","done",E.Callbacks("once memory"),E.Callbacks("once memory"),0,"resolved"],["reject","fail",E.Callbacks("once memory"),E.Callbacks("once memory"),1,"rejected"]],y="pending",b={state:function(){return y},always:function(){return S.done(arguments).fail(arguments),this},catch:function(C){return b.then(null,C)},pipe:function(){var C=arguments;return E.Deferred(function(A){E.each(m,function(z,L){var H=Ut(C[L[4]])&&C[L[4]];S[L[1]](function(){var ne=H&&H.apply(this,arguments);ne&&Ut(ne.promise)?ne.promise().progress(A.notify).done(A.resolve).fail(A.reject):A[L[0]+"With"](this,H?[ne]:arguments)})}),C=null}).promise()},then:function(C,A,z){var L=0;function H(ne,ce,Z,Me){return function(){var K=this,$t=arguments,It=function(){var Yn,$r;if(!(ne<L)){if((Yn=Z.apply(K,$t))===ce.promise())throw new TypeError("Thenable self-resolution");Ut($r=Yn&&("object"==typeof Yn||"function"==typeof Yn)&&Yn.then)?Me?$r.call(Yn,H(L,ce,ho,Me),H(L,ce,Ba,Me)):(L++,$r.call(Yn,H(L,ce,ho,Me),H(L,ce,Ba,Me),H(L,ce,ho,ce.notifyWith))):(Z!==ho&&(K=void 0,$t=[Yn]),(Me||ce.resolveWith)(K,$t))}},ui=Me?It:function(){try{It()}catch(Yn){E.Deferred.exceptionHook&&E.Deferred.exceptionHook(Yn,ui.error),ne+1>=L&&(Z!==Ba&&(K=void 0,$t=[Yn]),ce.rejectWith(K,$t))}};ne?ui():(E.Deferred.getErrorHook?ui.error=E.Deferred.getErrorHook():E.Deferred.getStackHook&&(ui.error=E.Deferred.getStackHook()),nt.setTimeout(ui))}}return E.Deferred(function(ne){m[0][3].add(H(0,ne,Ut(z)?z:ho,ne.notifyWith)),m[1][3].add(H(0,ne,Ut(C)?C:ho)),m[2][3].add(H(0,ne,Ut(A)?A:Ba))}).promise()},promise:function(C){return null!=C?E.extend(C,b):b}},S={};return E.each(m,function(C,A){var z=A[2],L=A[5];b[A[1]]=z.add,L&&z.add(function(){y=L},m[3-C][2].disable,m[3-C][3].disable,m[0][2].lock,m[0][3].lock),z.add(A[3].fire),S[A[0]]=function(){return S[A[0]+"With"](this===S?void 0:this,arguments),this},S[A[0]+"With"]=z.fireWith}),b.promise(S),d&&d.call(S,S),S},when:function(d){var m=arguments.length,y=m,b=Array(y),S=rn.call(arguments),C=E.Deferred(),A=function(z){return function(L){b[z]=this,S[z]=arguments.length>1?rn.call(arguments):L,--m||C.resolveWith(b,S)}};if(m<=1&&(pc(d,C.done(A(y)).resolve,C.reject,!m),"pending"===C.state()||Ut(S[y]&&S[y].then)))return C.then();for(;y--;)pc(S[y],A(y),C.reject);return C.promise()}});var ur=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;E.Deferred.exceptionHook=function(d,m){nt.console&&nt.console.warn&&d&&ur.test(d.name)&&nt.console.warn("jQuery.Deferred exception: "+d.message,d.stack,m)},E.readyException=function(d){nt.setTimeout(function(){throw d})};var mc=E.Deferred();function $u(){Tt.removeEventListener("DOMContentLoaded",$u),nt.removeEventListener("load",$u),E.ready()}E.fn.ready=function(d){return mc.then(d).catch(function(m){E.readyException(m)}),this},E.extend({isReady:!1,readyWait:1,ready:function(d){(!0===d?--E.readyWait:E.isReady)||(E.isReady=!0,!(!0!==d&&--E.readyWait>0)&&mc.resolveWith(Tt,[E]))}}),E.ready.then=mc.then,"complete"===Tt.readyState||"loading"!==Tt.readyState&&!Tt.documentElement.doScroll?nt.setTimeout(E.ready):(Tt.addEventListener("DOMContentLoaded",$u),nt.addEventListener("load",$u));var gs=function(d,m,y,b,S,C,A){var z=0,L=d.length,H=null==y;if("object"===ea(y))for(z in S=!0,y)gs(d,m,z,y[z],!0,C,A);else if(void 0!==b&&(S=!0,Ut(b)||(A=!0),H&&(A?(m.call(d,b),m=null):(H=m,m=function(ne,ce,Z){return H.call(E(ne),Z)})),m))for(;z<L;z++)m(d[z],y,A?b:b.call(d[z],z,m(d[z],y)));return S?d:H?m.call(d):L?m(d[0],y):C},ta=/^-ms-/,gc=/-([a-z])/g;function nm(d,m){return m.toUpperCase()}function Cr(d){return d.replace(ta,"ms-").replace(gc,nm)}var qu=function(d){return 1===d.nodeType||9===d.nodeType||!+d.nodeType};function Xu(){this.expando=E.expando+Xu.uid++}Xu.uid=1,Xu.prototype={cache:function(d){var m=d[this.expando];return m||(m={},qu(d)&&(d.nodeType?d[this.expando]=m:Object.defineProperty(d,this.expando,{value:m,configurable:!0}))),m},set:function(d,m,y){var b,S=this.cache(d);if("string"==typeof m)S[Cr(m)]=y;else for(b in m)S[Cr(b)]=m[b];return S},get:function(d,m){return void 0===m?this.cache(d):d[this.expando]&&d[this.expando][Cr(m)]},access:function(d,m,y){return void 0===m||m&&"string"==typeof m&&void 0===y?this.get(d,m):(this.set(d,m,y),void 0!==y?y:m)},remove:function(d,m){var y,b=d[this.expando];if(void 0!==b){if(void 0!==m)for((y=(m=Array.isArray(m)?m.map(Cr):(m=Cr(m))in b?[m]:m.match(Bs)||[]).length);y--;)delete b[m[y]];(void 0===m||E.isEmptyObject(b))&&(d.nodeType?d[this.expando]=void 0:delete d[this.expando])}},hasData:function(d){var m=d[this.expando];return void 0!==m&&!E.isEmptyObject(m)}};var at=new Xu,Oi=new Xu,na=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,vc=/[A-Z]/g;function _c(d,m,y){var b;if(void 0===y&&1===d.nodeType)if(b="data-"+m.replace(vc,"-$&").toLowerCase(),"string"==typeof(y=d.getAttribute(b))){try{y=function Q_(d){return"true"===d||"false"!==d&&("null"===d?null:d===+d+""?+d:na.test(d)?JSON.parse(d):d)}(y)}catch{}Oi.set(d,m,y)}else y=void 0;return y}E.extend({hasData:function(d){return Oi.hasData(d)||at.hasData(d)},data:function(d,m,y){return Oi.access(d,m,y)},removeData:function(d,m){Oi.remove(d,m)},_data:function(d,m,y){return at.access(d,m,y)},_removeData:function(d,m){at.remove(d,m)}}),E.fn.extend({data:function(d,m){var y,b,S,C=this[0],A=C&&C.attributes;if(void 0===d){if(this.length&&(S=Oi.get(C),1===C.nodeType&&!at.get(C,"hasDataAttrs"))){for(y=A.length;y--;)A[y]&&0===(b=A[y].name).indexOf("data-")&&(b=Cr(b.slice(5)),_c(C,b,S[b]));at.set(C,"hasDataAttrs",!0)}return S}return"object"==typeof d?this.each(function(){Oi.set(this,d)}):gs(this,function(z){var L;if(C&&void 0===z)return void 0!==(L=Oi.get(C,d))||void 0!==(L=_c(C,d))?L:void 0;this.each(function(){Oi.set(this,d,z)})},null,m,arguments.length>1,null,!0)},removeData:function(d){return this.each(function(){Oi.remove(this,d)})}}),E.extend({queue:function(d,m,y){var b;if(d)return b=at.get(d,m=(m||"fx")+"queue"),y&&(!b||Array.isArray(y)?b=at.access(d,m,E.makeArray(y)):b.push(y)),b||[]},dequeue:function(d,m){var y=E.queue(d,m=m||"fx"),b=y.length,S=y.shift(),C=E._queueHooks(d,m);"inprogress"===S&&(S=y.shift(),b--),S&&("fx"===m&&y.unshift("inprogress"),delete C.stop,S.call(d,function(){E.dequeue(d,m)},C)),!b&&C&&C.empty.fire()},_queueHooks:function(d,m){var y=m+"queueHooks";return at.get(d,y)||at.access(d,y,{empty:E.Callbacks("once memory").add(function(){at.remove(d,[m+"queue",y])})})}}),E.fn.extend({queue:function(d,m){var y=2;return"string"!=typeof d&&(m=d,d="fx",y--),arguments.length<y?E.queue(this[0],d):void 0===m?this:this.each(function(){var b=E.queue(this,d,m);E._queueHooks(this,d),"fx"===d&&"inprogress"!==b[0]&&E.dequeue(this,d)})},dequeue:function(d){return this.each(function(){E.dequeue(this,d)})},clearQueue:function(d){return this.queue(d||"fx",[])},promise:function(d,m){var y,b=1,S=E.Deferred(),C=this,A=this.length,z=function(){--b||S.resolveWith(C,[C])};for("string"!=typeof d&&(m=d,d=void 0),d=d||"fx";A--;)(y=at.get(C[A],d+"queueHooks"))&&y.empty&&(b++,y.empty.add(z));return z(),S.promise(m)}});var im=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ia=new RegExp("^(?:([+-])=|)("+im+")([a-z%]*)$","i"),Vs=["Top","Right","Bottom","Left"],Gr=Tt.documentElement,Hs=function(d){return E.contains(d.ownerDocument,d)},ey={composed:!0};Gr.getRootNode&&(Hs=function(d){return E.contains(d.ownerDocument,d)||d.getRootNode(ey)===d.ownerDocument});var Va=function(d,m){return"none"===(d=m||d).style.display||""===d.style.display&&Hs(d)&&"none"===E.css(d,"display")};function rm(d,m,y,b){var S,C,A=20,z=b?function(){return b.cur()}:function(){return E.css(d,m,"")},L=z(),H=y&&y[3]||(E.cssNumber[m]?"":"px"),ne=d.nodeType&&(E.cssNumber[m]||"px"!==H&&+L)&&ia.exec(E.css(d,m));if(ne&&ne[3]!==H){for(H=H||ne[3],ne=+(L/=2)||1;A--;)E.style(d,m,ne+H),(1-C)*(1-(C=z()/L||.5))<=0&&(A=0),ne/=C;E.style(d,m,(ne*=2)+H),y=y||[]}return y&&(ne=+ne||+L||0,S=y[1]?ne+(y[1]+1)*y[2]:+y[2],b&&(b.unit=H,b.start=ne,b.end=S)),S}var yc={};function po(d){var m,y=d.ownerDocument,b=d.nodeName,S=yc[b];return S||(m=y.body.appendChild(y.createElement(b)),S=E.css(m,"display"),m.parentNode.removeChild(m),"none"===S&&(S="block"),yc[b]=S,S)}function Ha(d,m){for(var y,b,S=[],C=0,A=d.length;C<A;C++)(b=d[C]).style&&(y=b.style.display,m?("none"===y&&(S[C]=at.get(b,"display")||null,S[C]||(b.style.display="")),""===b.style.display&&Va(b)&&(S[C]=po(b))):"none"!==y&&(S[C]="none",at.set(b,"display",y)));for(C=0;C<A;C++)null!=S[C]&&(d[C].style.display=S[C]);return d}E.fn.extend({show:function(){return Ha(this,!0)},hide:function(){return Ha(this)},toggle:function(d){return"boolean"==typeof d?d?this.show():this.hide():this.each(function(){Va(this)?E(this).show():E(this).hide()})}});var m,y,za=/^(?:checkbox|radio)$/i,Xn=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,th=/^$|^module$|\/(?:java|ecma)script/i;m=Tt.createDocumentFragment().appendChild(Tt.createElement("div")),(y=Tt.createElement("input")).setAttribute("type","radio"),y.setAttribute("checked","checked"),y.setAttribute("name","t"),m.appendChild(y),Rt.checkClone=m.cloneNode(!0).cloneNode(!0).lastChild.checked,m.innerHTML="<textarea>x</textarea>",Rt.noCloneChecked=!!m.cloneNode(!0).lastChild.defaultValue,m.innerHTML="<option></option>",Rt.option=!!m.lastChild;var Dr={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ji(d,m){var y;return y=typeof d.getElementsByTagName<"u"?d.getElementsByTagName(m||"*"):typeof d.querySelectorAll<"u"?d.querySelectorAll(m||"*"):[],void 0===m||m&&Nn(d,m)?E.merge([d],y):y}function nh(d,m){for(var y=0,b=d.length;y<b;y++)at.set(d[y],"globalEval",!m||at.get(m[y],"globalEval"))}Dr.tbody=Dr.tfoot=Dr.colgroup=Dr.caption=Dr.thead,Dr.th=Dr.td,Rt.option||(Dr.optgroup=Dr.option=[1,"<select multiple='multiple'>","</select>"]);var Wr=/<|&#?\w+;/;function ih(d,m,y,b,S){for(var C,A,z,L,H,ne,ce=m.createDocumentFragment(),Z=[],Me=0,K=d.length;Me<K;Me++)if((C=d[Me])||0===C)if("object"===ea(C))E.merge(Z,C.nodeType?[C]:C);else if(Wr.test(C)){for(A=A||ce.appendChild(m.createElement("div")),z=(Xn.exec(C)||["",""])[1].toLowerCase(),A.innerHTML=(L=Dr[z]||Dr._default)[1]+E.htmlPrefilter(C)+L[2],ne=L[0];ne--;)A=A.lastChild;E.merge(Z,A.childNodes),(A=ce.firstChild).textContent=""}else Z.push(m.createTextNode(C));for(ce.textContent="",Me=0;C=Z[Me++];)if(b&&E.inArray(C,b)>-1)S&&S.push(C);else if(H=Hs(C),A=ji(ce.appendChild(C),"script"),H&&nh(A),y)for(ne=0;C=A[ne++];)th.test(C.type||"")&&y.push(C);return ce}var rh=/^([^.]*)(?:\.(.+)|)/;function Ln(){return!0}function Rn(){return!1}function sh(d,m,y,b,S,C){var A,z;if("object"==typeof m){for(z in"string"!=typeof y&&(b=b||y,y=void 0),m)sh(d,z,y,b,m[z],C);return d}if(null==b&&null==S?(S=y,b=y=void 0):null==S&&("string"==typeof y?(S=b,b=void 0):(S=b,b=y,y=void 0)),!1===S)S=Rn;else if(!S)return d;return 1===C&&(A=S,S=function(L){return E().off(L),A.apply(this,arguments)},S.guid=A.guid||(A.guid=E.guid++)),d.each(function(){E.event.add(this,m,S,b,y)})}function ln(d,m,y){y?(at.set(d,m,!1),E.event.add(d,m,{namespace:!1,handler:function(b){var S,C=at.get(this,m);if(1&b.isTrigger&&this[m]){if(C)(E.event.special[m]||{}).delegateType&&b.stopPropagation();else if(C=rn.call(arguments),at.set(this,m,C),this[m](),S=at.get(this,m),at.set(this,m,!1),C!==S)return b.stopImmediatePropagation(),b.preventDefault(),S}else C&&(at.set(this,m,E.event.trigger(C[0],C.slice(1),this)),b.stopPropagation(),b.isImmediatePropagationStopped=Ln)}})):void 0===at.get(d,m)&&E.event.add(d,m,Ln)}E.event={global:{},add:function(d,m,y,b,S){var C,A,z,L,H,ne,ce,Z,Me,K,$t,It=at.get(d);if(qu(d))for(y.handler&&(y=(C=y).handler,S=C.selector),S&&E.find.matchesSelector(Gr,S),y.guid||(y.guid=E.guid++),(L=It.events)||(L=It.events=Object.create(null)),(A=It.handle)||(A=It.handle=function(ui){return typeof E<"u"&&E.event.triggered!==ui.type?E.event.dispatch.apply(d,arguments):void 0}),H=(m=(m||"").match(Bs)||[""]).length;H--;)Me=$t=(z=rh.exec(m[H])||[])[1],K=(z[2]||"").split(".").sort(),Me&&(ce=E.event.special[Me]||{},ce=E.event.special[Me=(S?ce.delegateType:ce.bindType)||Me]||{},ne=E.extend({type:Me,origType:$t,data:b,handler:y,guid:y.guid,selector:S,needsContext:S&&E.expr.match.needsContext.test(S),namespace:K.join(".")},C),(Z=L[Me])||((Z=L[Me]=[]).delegateCount=0,(!ce.setup||!1===ce.setup.call(d,b,K,A))&&d.addEventListener&&d.addEventListener(Me,A)),ce.add&&(ce.add.call(d,ne),ne.handler.guid||(ne.handler.guid=y.guid)),S?Z.splice(Z.delegateCount++,0,ne):Z.push(ne),E.event.global[Me]=!0)},remove:function(d,m,y,b,S){var C,A,z,L,H,ne,ce,Z,Me,K,$t,It=at.hasData(d)&&at.get(d);if(It&&(L=It.events)){for(H=(m=(m||"").match(Bs)||[""]).length;H--;)if(Me=$t=(z=rh.exec(m[H])||[])[1],K=(z[2]||"").split(".").sort(),Me){for(ce=E.event.special[Me]||{},Z=L[Me=(b?ce.delegateType:ce.bindType)||Me]||[],z=z[2]&&new RegExp("(^|\\.)"+K.join("\\.(?:.*\\.|)")+"(\\.|$)"),A=C=Z.length;C--;)ne=Z[C],(S||$t===ne.origType)&&(!y||y.guid===ne.guid)&&(!z||z.test(ne.namespace))&&(!b||b===ne.selector||"**"===b&&ne.selector)&&(Z.splice(C,1),ne.selector&&Z.delegateCount--,ce.remove&&ce.remove.call(d,ne));A&&!Z.length&&((!ce.teardown||!1===ce.teardown.call(d,K,It.handle))&&E.removeEvent(d,Me,It.handle),delete L[Me])}else for(Me in L)E.event.remove(d,Me+m[H],y,b,!0);E.isEmptyObject(L)&&at.remove(d,"handle events")}},dispatch:function(d){var m,y,b,S,C,A,z=new Array(arguments.length),L=E.event.fix(d),H=(at.get(this,"events")||Object.create(null))[L.type]||[],ne=E.event.special[L.type]||{};for(z[0]=L,m=1;m<arguments.length;m++)z[m]=arguments[m];if(L.delegateTarget=this,!ne.preDispatch||!1!==ne.preDispatch.call(this,L)){for(A=E.event.handlers.call(this,L,H),m=0;(S=A[m++])&&!L.isPropagationStopped();)for(L.currentTarget=S.elem,y=0;(C=S.handlers[y++])&&!L.isImmediatePropagationStopped();)(!L.rnamespace||!1===C.namespace||L.rnamespace.test(C.namespace))&&(L.handleObj=C,L.data=C.data,void 0!==(b=((E.event.special[C.origType]||{}).handle||C.handler).apply(S.elem,z))&&!1===(L.result=b)&&(L.preventDefault(),L.stopPropagation()));return ne.postDispatch&&ne.postDispatch.call(this,L),L.result}},handlers:function(d,m){var y,b,S,C,A,z=[],L=m.delegateCount,H=d.target;if(L&&H.nodeType&&!("click"===d.type&&d.button>=1))for(;H!==this;H=H.parentNode||this)if(1===H.nodeType&&("click"!==d.type||!0!==H.disabled)){for(C=[],A={},y=0;y<L;y++)void 0===A[S=(b=m[y]).selector+" "]&&(A[S]=b.needsContext?E(S,this).index(H)>-1:E.find(S,this,null,[H]).length),A[S]&&C.push(b);C.length&&z.push({elem:H,handlers:C})}return H=this,L<m.length&&z.push({elem:H,handlers:m.slice(L)}),z},addProp:function(d,m){Object.defineProperty(E.Event.prototype,d,{enumerable:!0,configurable:!0,get:Ut(m)?function(){if(this.originalEvent)return m(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[d]},set:function(y){Object.defineProperty(this,d,{enumerable:!0,configurable:!0,writable:!0,value:y})}})},fix:function(d){return d[E.expando]?d:new E.Event(d)},special:{load:{noBubble:!0},click:{setup:function(d){var m=this||d;return za.test(m.type)&&m.click&&Nn(m,"input")&&ln(m,"click",!0),!1},trigger:function(d){var m=this||d;return za.test(m.type)&&m.click&&Nn(m,"input")&&ln(m,"click"),!0},_default:function(d){var m=d.target;return za.test(m.type)&&m.click&&Nn(m,"input")&&at.get(m,"click")||Nn(m,"a")}},beforeunload:{postDispatch:function(d){void 0!==d.result&&d.originalEvent&&(d.originalEvent.returnValue=d.result)}}}},E.removeEvent=function(d,m,y){d.removeEventListener&&d.removeEventListener(m,y)},E.Event=function(d,m){if(!(this instanceof E.Event))return new E.Event(d,m);d&&d.type?(this.originalEvent=d,this.type=d.type,this.isDefaultPrevented=d.defaultPrevented||void 0===d.defaultPrevented&&!1===d.returnValue?Ln:Rn,this.target=d.target&&3===d.target.nodeType?d.target.parentNode:d.target,this.currentTarget=d.currentTarget,this.relatedTarget=d.relatedTarget):this.type=d,m&&E.extend(this,m),this.timeStamp=d&&d.timeStamp||Date.now(),this[E.expando]=!0},E.Event.prototype={constructor:E.Event,isDefaultPrevented:Rn,isPropagationStopped:Rn,isImmediatePropagationStopped:Rn,isSimulated:!1,preventDefault:function(){var d=this.originalEvent;this.isDefaultPrevented=Ln,d&&!this.isSimulated&&d.preventDefault()},stopPropagation:function(){var d=this.originalEvent;this.isPropagationStopped=Ln,d&&!this.isSimulated&&d.stopPropagation()},stopImmediatePropagation:function(){var d=this.originalEvent;this.isImmediatePropagationStopped=Ln,d&&!this.isSimulated&&d.stopImmediatePropagation(),this.stopPropagation()}},E.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},E.event.addProp),E.each({focus:"focusin",blur:"focusout"},function(d,m){function y(b){if(Tt.documentMode){var S=at.get(this,"handle"),C=E.event.fix(b);C.type="focusin"===b.type?"focus":"blur",C.isSimulated=!0,S(b),C.target===C.currentTarget&&S(C)}else E.event.simulate(m,b.target,E.event.fix(b))}E.event.special[d]={setup:function(){var b;if(ln(this,d,!0),!Tt.documentMode)return!1;(b=at.get(this,m))||this.addEventListener(m,y),at.set(this,m,(b||0)+1)},trigger:function(){return ln(this,d),!0},teardown:function(){var b;if(!Tt.documentMode)return!1;(b=at.get(this,m)-1)?at.set(this,m,b):(this.removeEventListener(m,y),at.remove(this,m))},_default:function(b){return at.get(b.target,d)},delegateType:m},E.event.special[m]={setup:function(){var b=this.ownerDocument||this.document||this,S=Tt.documentMode?this:b,C=at.get(S,m);C||(Tt.documentMode?this.addEventListener(m,y):b.addEventListener(d,y,!0)),at.set(S,m,(C||0)+1)},teardown:function(){var b=this.ownerDocument||this.document||this,S=Tt.documentMode?this:b,C=at.get(S,m)-1;C?at.set(S,m,C):(Tt.documentMode?this.removeEventListener(m,y):b.removeEventListener(d,y,!0),at.remove(S,m))}}}),E.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(d,m){E.event.special[d]={delegateType:m,bindType:m,handle:function(y){var b,C=y.relatedTarget,A=y.handleObj;return(!C||C!==this&&!E.contains(this,C))&&(y.type=A.origType,b=A.handler.apply(this,arguments),y.type=m),b}}}),E.fn.extend({on:function(d,m,y,b){return sh(this,d,m,y,b)},one:function(d,m,y,b){return sh(this,d,m,y,b,1)},off:function(d,m,y){var b,S;if(d&&d.preventDefault&&d.handleObj)return b=d.handleObj,E(d.delegateTarget).off(b.namespace?b.origType+"."+b.namespace:b.origType,b.selector,b.handler),this;if("object"==typeof d){for(S in d)this.off(S,m,d[S]);return this}return(!1===m||"function"==typeof m)&&(y=m,m=void 0),!1===y&&(y=Rn),this.each(function(){E.event.remove(this,d,y,m)})}});var oh=/<script|<style|<link/i,ty=/checked\s*(?:[^=]|=\s*.checked.)/i,ah=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function sm(d,m){return Nn(d,"table")&&Nn(11!==m.nodeType?m:m.firstChild,"tr")&&E(d).children("tbody")[0]||d}function vs(d){return d.type=(null!==d.getAttribute("type"))+"/"+d.type,d}function ny(d){return"true/"===(d.type||"").slice(0,5)?d.type=d.type.slice(5):d.removeAttribute("type"),d}function iy(d,m){var y,b,S,A,z,L;if(1===m.nodeType){if(at.hasData(d)&&(L=at.get(d).events))for(S in at.remove(m,"handle events"),L)for(y=0,b=L[S].length;y<b;y++)E.event.add(m,S,L[S][y]);Oi.hasData(d)&&(A=Oi.access(d),z=E.extend({},A),Oi.set(m,z))}}function iS(d,m){var y=m.nodeName.toLowerCase();"input"===y&&za.test(d.type)?m.checked=d.checked:("input"===y||"textarea"===y)&&(m.defaultValue=d.defaultValue)}function Yu(d,m,y,b){m=q_(m);var S,C,A,z,L,H,ne=0,ce=d.length,Z=ce-1,Me=m[0],K=Ut(Me);if(K||ce>1&&"string"==typeof Me&&!Rt.checkClone&&ty.test(Me))return d.each(function($t){var It=d.eq($t);K&&(m[0]=Me.call(this,$t,It.html())),Yu(It,m,y,b)});if(ce&&(C=(S=ih(m,d[0].ownerDocument,!1,d,b)).firstChild,1===S.childNodes.length&&(S=C),C||b)){for(z=(A=E.map(ji(S,"script"),vs)).length;ne<ce;ne++)L=S,ne!==Z&&(L=E.clone(L,!0,!0),z&&E.merge(A,ji(L,"script"))),y.call(d[ne],L,ne);if(z)for(H=A[A.length-1].ownerDocument,E.map(A,ny),ne=0;ne<z;ne++)th.test((L=A[ne]).type||"")&&!at.access(L,"globalEval")&&E.contains(H,L)&&(L.src&&"module"!==(L.type||"").toLowerCase()?E._evalUrl&&!L.noModule&&E._evalUrl(L.src,{nonce:L.nonce||L.getAttribute("nonce")},H):Qf(L.textContent.replace(ah,""),L,H))}return d}function ry(d,m,y){for(var b,S=m?E.filter(m,d):d,C=0;null!=(b=S[C]);C++)!y&&1===b.nodeType&&E.cleanData(ji(b)),b.parentNode&&(y&&Hs(b)&&nh(ji(b,"script")),b.parentNode.removeChild(b));return d}E.extend({htmlPrefilter:function(d){return d},clone:function(d,m,y){var b,S,C,A,z=d.cloneNode(!0),L=Hs(d);if(!(Rt.noCloneChecked||1!==d.nodeType&&11!==d.nodeType||E.isXMLDoc(d)))for(A=ji(z),b=0,S=(C=ji(d)).length;b<S;b++)iS(C[b],A[b]);if(m)if(y)for(C=C||ji(d),A=A||ji(z),b=0,S=C.length;b<S;b++)iy(C[b],A[b]);else iy(d,z);return(A=ji(z,"script")).length>0&&nh(A,!L&&ji(d,"script")),z},cleanData:function(d){for(var m,y,b,S=E.event.special,C=0;void 0!==(y=d[C]);C++)if(qu(y)){if(m=y[at.expando]){if(m.events)for(b in m.events)S[b]?E.event.remove(y,b):E.removeEvent(y,b,m.handle);y[at.expando]=void 0}y[Oi.expando]&&(y[Oi.expando]=void 0)}}}),E.fn.extend({detach:function(d){return ry(this,d,!0)},remove:function(d){return ry(this,d)},text:function(d){return gs(this,function(m){return void 0===m?E.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=m)})},null,d,arguments.length)},append:function(){return Yu(this,arguments,function(d){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||sm(this,d).appendChild(d)})},prepend:function(){return Yu(this,arguments,function(d){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var m=sm(this,d);m.insertBefore(d,m.firstChild)}})},before:function(){return Yu(this,arguments,function(d){this.parentNode&&this.parentNode.insertBefore(d,this)})},after:function(){return Yu(this,arguments,function(d){this.parentNode&&this.parentNode.insertBefore(d,this.nextSibling)})},empty:function(){for(var d,m=0;null!=(d=this[m]);m++)1===d.nodeType&&(E.cleanData(ji(d,!1)),d.textContent="");return this},clone:function(d,m){return d=d??!1,m=m??d,this.map(function(){return E.clone(this,d,m)})},html:function(d){return gs(this,function(m){var y=this[0]||{},b=0,S=this.length;if(void 0===m&&1===y.nodeType)return y.innerHTML;if("string"==typeof m&&!oh.test(m)&&!Dr[(Xn.exec(m)||["",""])[1].toLowerCase()]){m=E.htmlPrefilter(m);try{for(;b<S;b++)1===(y=this[b]||{}).nodeType&&(E.cleanData(ji(y,!1)),y.innerHTML=m);y=0}catch{}}y&&this.empty().append(m)},null,d,arguments.length)},replaceWith:function(){var d=[];return Yu(this,arguments,function(m){var y=this.parentNode;E.inArray(this,d)<0&&(E.cleanData(ji(this)),y&&y.replaceChild(m,this))},d)}}),E.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(d,m){E.fn[d]=function(y){for(var b,S=[],C=E(y),A=C.length-1,z=0;z<=A;z++)b=z===A?this:this.clone(!0),E(C[z])[m](b),lc.apply(S,b.get());return this.pushStack(S)}});var uh=new RegExp("^("+im+")(?!px)[a-z%]+$","i"),xc=/^--/,bc=function(d){var m=d.ownerDocument.defaultView;return(!m||!m.opener)&&(m=nt),m.getComputedStyle(d)},Ec=function(d,m,y){var b,S,C={};for(S in m)C[S]=d.style[S],d.style[S]=m[S];for(S in b=y.call(d),m)d.style[S]=C[S];return b},sy=new RegExp(Vs.join("|"),"i");function ra(d,m,y){var b,S,C,A,z=xc.test(m),L=d.style;return(y=y||bc(d))&&(A=y.getPropertyValue(m)||y[m],z&&A&&(A=A.replace(hc,"$1")||void 0),""===A&&!Hs(d)&&(A=E.style(d,m)),!Rt.pixelBoxStyles()&&uh.test(A)&&sy.test(m)&&(b=L.width,S=L.minWidth,C=L.maxWidth,L.minWidth=L.maxWidth=L.width=A,A=y.width,L.width=b,L.minWidth=S,L.maxWidth=C)),void 0!==A?A+"":A}function lh(d,m){return{get:function(){if(!d())return(this.get=m).apply(this,arguments);delete this.get}}}!function(){function d(){if(H){L.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",H.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Gr.appendChild(L).appendChild(H);var ne=nt.getComputedStyle(H);y="1%"!==ne.top,z=12===m(ne.marginLeft),H.style.right="60%",C=36===m(ne.right),b=36===m(ne.width),H.style.position="absolute",S=12===m(H.offsetWidth/3),Gr.removeChild(L),H=null}}function m(ne){return Math.round(parseFloat(ne))}var y,b,S,C,A,z,L=Tt.createElement("div"),H=Tt.createElement("div");H.style&&(H.style.backgroundClip="content-box",H.cloneNode(!0).style.backgroundClip="",Rt.clearCloneStyle="content-box"===H.style.backgroundClip,E.extend(Rt,{boxSizingReliable:function(){return d(),b},pixelBoxStyles:function(){return d(),C},pixelPosition:function(){return d(),y},reliableMarginLeft:function(){return d(),z},scrollboxSize:function(){return d(),S},reliableTrDimensions:function(){var ne,ce,Z,Me;return null==A&&(ne=Tt.createElement("table"),ce=Tt.createElement("tr"),Z=Tt.createElement("div"),ne.style.cssText="position:absolute;left:-11111px;border-collapse:separate",ce.style.cssText="box-sizing:content-box;border:1px solid",ce.style.height="1px",Z.style.height="9px",Z.style.display="block",Gr.appendChild(ne).appendChild(ce).appendChild(Z),Me=nt.getComputedStyle(ce),A=parseInt(Me.height,10)+parseInt(Me.borderTopWidth,10)+parseInt(Me.borderBottomWidth,10)===ce.offsetHeight,Gr.removeChild(ne)),A}}))}();var om=["Webkit","Moz","ms"],am=Tt.createElement("div").style,um={};function Mc(d){return E.cssProps[d]||um[d]||(d in am?d:um[d]=function mo(d){for(var m=d[0].toUpperCase()+d.slice(1),y=om.length;y--;)if((d=om[y]+m)in am)return d}(d)||d)}var oy=/^(none|table(?!-c[ea]).+)/,lm={position:"absolute",visibility:"hidden",display:"block"},cm={letterSpacing:"0",fontWeight:"400"};function dm(d,m,y){var b=ia.exec(m);return b?Math.max(0,b[2]-(y||0))+(b[3]||"px"):m}function ch(d,m,y,b,S,C){var A="width"===m?1:0,z=0,L=0,H=0;if(y===(b?"border":"content"))return 0;for(;A<4;A+=2)"margin"===y&&(H+=E.css(d,y+Vs[A],!0,S)),b?("content"===y&&(L-=E.css(d,"padding"+Vs[A],!0,S)),"margin"!==y&&(L-=E.css(d,"border"+Vs[A]+"Width",!0,S))):(L+=E.css(d,"padding"+Vs[A],!0,S),"padding"!==y?L+=E.css(d,"border"+Vs[A]+"Width",!0,S):z+=E.css(d,"border"+Vs[A]+"Width",!0,S));return!b&&C>=0&&(L+=Math.max(0,Math.ceil(d["offset"+m[0].toUpperCase()+m.slice(1)]-C-L-z-.5))||0),L+H}function fm(d,m,y){var b=bc(d),C=(!Rt.boxSizingReliable()||y)&&"border-box"===E.css(d,"boxSizing",!1,b),A=C,z=ra(d,m,b),L="offset"+m[0].toUpperCase()+m.slice(1);if(uh.test(z)){if(!y)return z;z="auto"}return(!Rt.boxSizingReliable()&&C||!Rt.reliableTrDimensions()&&Nn(d,"tr")||"auto"===z||!parseFloat(z)&&"inline"===E.css(d,"display",!1,b))&&d.getClientRects().length&&(C="border-box"===E.css(d,"boxSizing",!1,b),(A=L in d)&&(z=d[L])),(z=parseFloat(z)||0)+ch(d,m,y||(C?"border":"content"),A,b,z)+"px"}function $i(d,m,y,b,S){return new $i.prototype.init(d,m,y,b,S)}E.extend({cssHooks:{opacity:{get:function(d,m){if(m){var y=ra(d,"opacity");return""===y?"1":y}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(d,m,y,b){if(d&&3!==d.nodeType&&8!==d.nodeType&&d.style){var S,C,A,z=Cr(m),L=xc.test(m),H=d.style;if(L||(m=Mc(z)),A=E.cssHooks[m]||E.cssHooks[z],void 0===y)return A&&"get"in A&&void 0!==(S=A.get(d,!1,b))?S:H[m];if("string"==(C=typeof y)&&(S=ia.exec(y))&&S[1]&&(y=rm(d,m,S),C="number"),null==y||y!=y)return;"number"===C&&!L&&(y+=S&&S[3]||(E.cssNumber[z]?"":"px")),!Rt.clearCloneStyle&&""===y&&0===m.indexOf("background")&&(H[m]="inherit"),(!A||!("set"in A)||void 0!==(y=A.set(d,y,b)))&&(L?H.setProperty(m,y):H[m]=y)}},css:function(d,m,y,b){var S,C,A,z=Cr(m);return xc.test(m)||(m=Mc(z)),(A=E.cssHooks[m]||E.cssHooks[z])&&"get"in A&&(S=A.get(d,!0,y)),void 0===S&&(S=ra(d,m,b)),"normal"===S&&m in cm&&(S=cm[m]),""===y||y?(C=parseFloat(S),!0===y||isFinite(C)?C||0:S):S}}),E.each(["height","width"],function(d,m){E.cssHooks[m]={get:function(y,b,S){if(b)return!oy.test(E.css(y,"display"))||y.getClientRects().length&&y.getBoundingClientRect().width?fm(y,m,S):Ec(y,lm,function(){return fm(y,m,S)})},set:function(y,b,S){var C,A=bc(y),z=!Rt.scrollboxSize()&&"absolute"===A.position,H=(z||S)&&"border-box"===E.css(y,"boxSizing",!1,A),ne=S?ch(y,m,S,H,A):0;return H&&z&&(ne-=Math.ceil(y["offset"+m[0].toUpperCase()+m.slice(1)]-parseFloat(A[m])-ch(y,m,"border",!1,A)-.5)),ne&&(C=ia.exec(b))&&"px"!==(C[3]||"px")&&(y.style[m]=b,b=E.css(y,m)),dm(0,b,ne)}}}),E.cssHooks.marginLeft=lh(Rt.reliableMarginLeft,function(d,m){if(m)return(parseFloat(ra(d,"marginLeft"))||d.getBoundingClientRect().left-Ec(d,{marginLeft:0},function(){return d.getBoundingClientRect().left}))+"px"}),E.each({margin:"",padding:"",border:"Width"},function(d,m){E.cssHooks[d+m]={expand:function(y){for(var b=0,S={},C="string"==typeof y?y.split(" "):[y];b<4;b++)S[d+Vs[b]+m]=C[b]||C[b-2]||C[0];return S}},"margin"!==d&&(E.cssHooks[d+m].set=dm)}),E.fn.extend({css:function(d,m){return gs(this,function(y,b,S){var C,A,z={},L=0;if(Array.isArray(b)){for(C=bc(y),A=b.length;L<A;L++)z[b[L]]=E.css(y,b[L],!1,C);return z}return void 0!==S?E.style(y,b,S):E.css(y,b)},d,m,arguments.length>1)}}),E.Tween=$i,$i.prototype={constructor:$i,init:function(d,m,y,b,S,C){this.elem=d,this.prop=y,this.easing=S||E.easing._default,this.options=m,this.start=this.now=this.cur(),this.end=b,this.unit=C||(E.cssNumber[y]?"":"px")},cur:function(){var d=$i.propHooks[this.prop];return d&&d.get?d.get(this):$i.propHooks._default.get(this)},run:function(d){var m,y=$i.propHooks[this.prop];return this.pos=m=this.options.duration?E.easing[this.easing](d,this.options.duration*d,0,1,this.options.duration):d,this.now=(this.end-this.start)*m+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),y&&y.set?y.set(this):$i.propHooks._default.set(this),this}},$i.prototype.init.prototype=$i.prototype,$i.propHooks={_default:{get:function(d){var m;return 1!==d.elem.nodeType||null!=d.elem[d.prop]&&null==d.elem.style[d.prop]?d.elem[d.prop]:(m=E.css(d.elem,d.prop,""))&&"auto"!==m?m:0},set:function(d){E.fx.step[d.prop]?E.fx.step[d.prop](d):1!==d.elem.nodeType||!E.cssHooks[d.prop]&&null==d.elem.style[Mc(d.prop)]?d.elem[d.prop]=d.now:E.style(d.elem,d.prop,d.now+d.unit)}}},$i.propHooks.scrollTop=$i.propHooks.scrollLeft={set:function(d){d.elem.nodeType&&d.elem.parentNode&&(d.elem[d.prop]=d.now)}},E.easing={linear:function(d){return d},swing:function(d){return.5-Math.cos(d*Math.PI)/2},_default:"swing"},E.fx=$i.prototype.init,E.fx.step={};var Ga,wc,ay=/^(?:toggle|show|hide)$/,uy=/queueHooks$/;function dh(){wc&&(!1===Tt.hidden&&nt.requestAnimationFrame?nt.requestAnimationFrame(dh):nt.setTimeout(dh,E.fx.interval),E.fx.tick())}function ly(){return nt.setTimeout(function(){Ga=void 0}),Ga=Date.now()}function Zu(d,m){var y,b=0,S={height:d};for(m=m?1:0;b<4;b+=2-m)S["margin"+(y=Vs[b])]=S["padding"+y]=d;return m&&(S.opacity=S.width=d),S}function fh(d,m,y){for(var b,S=(Ar.tweeners[m]||[]).concat(Ar.tweeners["*"]),C=0,A=S.length;C<A;C++)if(b=S[C].call(y,m,d))return b}function Ar(d,m,y){var b,S,C=0,A=Ar.prefilters.length,z=E.Deferred().always(function(){delete L.elem}),L=function(){if(S)return!1;for(var ce=Ga||ly(),Z=Math.max(0,H.startTime+H.duration-ce),K=1-(Z/H.duration||0),$t=0,It=H.tweens.length;$t<It;$t++)H.tweens[$t].run(K);return z.notifyWith(d,[H,K,Z]),K<1&&It?Z:(It||z.notifyWith(d,[H,1,0]),z.resolveWith(d,[H]),!1)},H=z.promise({elem:d,props:E.extend({},m),opts:E.extend(!0,{specialEasing:{},easing:E.easing._default},y),originalProperties:m,originalOptions:y,startTime:Ga||ly(),duration:y.duration,tweens:[],createTween:function(ce,Z){var Me=E.Tween(d,H.opts,ce,Z,H.opts.specialEasing[ce]||H.opts.easing);return H.tweens.push(Me),Me},stop:function(ce){var Z=0,Me=ce?H.tweens.length:0;if(S)return this;for(S=!0;Z<Me;Z++)H.tweens[Z].run(1);return ce?(z.notifyWith(d,[H,1,0]),z.resolveWith(d,[H,ce])):z.rejectWith(d,[H,ce]),this}}),ne=H.props;for(function pm(d,m){var y,b,S,C,A;for(y in d)if(S=m[b=Cr(y)],C=d[y],Array.isArray(C)&&(S=C[1],C=d[y]=C[0]),y!==b&&(d[b]=C,delete d[y]),(A=E.cssHooks[b])&&"expand"in A)for(y in C=A.expand(C),delete d[b],C)y in d||(d[y]=C[y],m[y]=S);else m[b]=S}(ne,H.opts.specialEasing);C<A;C++)if(b=Ar.prefilters[C].call(H,d,ne,H.opts))return Ut(b.stop)&&(E._queueHooks(H.elem,H.opts.queue).stop=b.stop.bind(b)),b;return E.map(ne,fh,H),Ut(H.opts.start)&&H.opts.start.call(d,H),H.progress(H.opts.progress).done(H.opts.done,H.opts.complete).fail(H.opts.fail).always(H.opts.always),E.fx.timer(E.extend(L,{elem:d,anim:H,queue:H.opts.queue})),H}E.Animation=E.extend(Ar,{tweeners:{"*":[function(d,m){var y=this.createTween(d,m);return rm(y.elem,d,ia.exec(m),y),y}]},tweener:function(d,m){Ut(d)?(m=d,d=["*"]):d=d.match(Bs);for(var y,b=0,S=d.length;b<S;b++)(Ar.tweeners[y=d[b]]=Ar.tweeners[y]||[]).unshift(m)},prefilters:[function hm(d,m,y){var b,S,C,A,z,L,H,ne,ce="width"in m||"height"in m,Z=this,Me={},K=d.style,$t=d.nodeType&&Va(d),It=at.get(d,"fxshow");for(b in y.queue||(null==(A=E._queueHooks(d,"fx")).unqueued&&(A.unqueued=0,z=A.empty.fire,A.empty.fire=function(){A.unqueued||z()}),A.unqueued++,Z.always(function(){Z.always(function(){A.unqueued--,E.queue(d,"fx").length||A.empty.fire()})})),m)if(ay.test(S=m[b])){if(delete m[b],C=C||"toggle"===S,S===($t?"hide":"show")){if("show"!==S||!It||void 0===It[b])continue;$t=!0}Me[b]=It&&It[b]||E.style(d,b)}if((L=!E.isEmptyObject(m))||!E.isEmptyObject(Me))for(b in ce&&1===d.nodeType&&(y.overflow=[K.overflow,K.overflowX,K.overflowY],null==(H=It&&It.display)&&(H=at.get(d,"display")),"none"===(ne=E.css(d,"display"))&&(H?ne=H:(Ha([d],!0),H=d.style.display||H,ne=E.css(d,"display"),Ha([d]))),("inline"===ne||"inline-block"===ne&&null!=H)&&"none"===E.css(d,"float")&&(L||(Z.done(function(){K.display=H}),null==H&&(H="none"===(ne=K.display)?"":ne)),K.display="inline-block")),y.overflow&&(K.overflow="hidden",Z.always(function(){K.overflow=y.overflow[0],K.overflowX=y.overflow[1],K.overflowY=y.overflow[2]})),L=!1,Me)L||(It?"hidden"in It&&($t=It.hidden):It=at.access(d,"fxshow",{display:H}),C&&(It.hidden=!$t),$t&&Ha([d],!0),Z.done(function(){for(b in $t||Ha([d]),at.remove(d,"fxshow"),Me)E.style(d,b,Me[b])})),L=fh($t?It[b]:0,b,Z),b in It||(It[b]=L.start,$t&&(L.end=L.start,L.start=0))}],prefilter:function(d,m){m?Ar.prefilters.unshift(d):Ar.prefilters.push(d)}}),E.speed=function(d,m,y){var b=d&&"object"==typeof d?E.extend({},d):{complete:y||!y&&m||Ut(d)&&d,duration:d,easing:y&&m||m&&!Ut(m)&&m};return E.fx.off?b.duration=0:"number"!=typeof b.duration&&(b.duration=b.duration in E.fx.speeds?E.fx.speeds[b.duration]:E.fx.speeds._default),(null==b.queue||!0===b.queue)&&(b.queue="fx"),b.old=b.complete,b.complete=function(){Ut(b.old)&&b.old.call(this),b.queue&&E.dequeue(this,b.queue)},b},E.fn.extend({fadeTo:function(d,m,y,b){return this.filter(Va).css("opacity",0).show().end().animate({opacity:m},d,y,b)},animate:function(d,m,y,b){var S=E.isEmptyObject(d),C=E.speed(m,y,b),A=function(){var z=Ar(this,E.extend({},d),C);(S||at.get(this,"finish"))&&z.stop(!0)};return A.finish=A,S||!1===C.queue?this.each(A):this.queue(C.queue,A)},stop:function(d,m,y){var b=function(S){var C=S.stop;delete S.stop,C(y)};return"string"!=typeof d&&(y=m,m=d,d=void 0),m&&this.queue(d||"fx",[]),this.each(function(){var S=!0,C=null!=d&&d+"queueHooks",A=E.timers,z=at.get(this);if(C)z[C]&&z[C].stop&&b(z[C]);else for(C in z)z[C]&&z[C].stop&&uy.test(C)&&b(z[C]);for(C=A.length;C--;)A[C].elem===this&&(null==d||A[C].queue===d)&&(A[C].anim.stop(y),S=!1,A.splice(C,1));(S||!y)&&E.dequeue(this,d)})},finish:function(d){return!1!==d&&(d=d||"fx"),this.each(function(){var m,y=at.get(this),b=y[d+"queue"],S=y[d+"queueHooks"],C=E.timers,A=b?b.length:0;for(y.finish=!0,E.queue(this,d,[]),S&&S.stop&&S.stop.call(this,!0),m=C.length;m--;)C[m].elem===this&&C[m].queue===d&&(C[m].anim.stop(!0),C.splice(m,1));for(m=0;m<A;m++)b[m]&&b[m].finish&&b[m].finish.call(this);delete y.finish})}}),E.each(["toggle","show","hide"],function(d,m){var y=E.fn[m];E.fn[m]=function(b,S,C){return null==b||"boolean"==typeof b?y.apply(this,arguments):this.animate(Zu(m,!0),b,S,C)}}),E.each({slideDown:Zu("show"),slideUp:Zu("hide"),slideToggle:Zu("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(d,m){E.fn[d]=function(y,b,S){return this.animate(m,y,b,S)}}),E.timers=[],E.fx.tick=function(){var d,m=0,y=E.timers;for(Ga=Date.now();m<y.length;m++)!(d=y[m])()&&y[m]===d&&y.splice(m--,1);y.length||E.fx.stop(),Ga=void 0},E.fx.timer=function(d){E.timers.push(d),E.fx.start()},E.fx.interval=13,E.fx.start=function(){wc||(wc=!0,dh())},E.fx.stop=function(){wc=null},E.fx.speeds={slow:600,fast:200,_default:400},E.fn.delay=function(d,m){return d=E.fx&&E.fx.speeds[d]||d,this.queue(m=m||"fx",function(y,b){var S=nt.setTimeout(y,d);b.stop=function(){nt.clearTimeout(S)}})},function(){var d=Tt.createElement("input"),y=Tt.createElement("select").appendChild(Tt.createElement("option"));d.type="checkbox",Rt.checkOn=""!==d.value,Rt.optSelected=y.selected,(d=Tt.createElement("input")).value="t",d.type="radio",Rt.radioValue="t"===d.value}();var mm,Wa=E.expr.attrHandle;E.fn.extend({attr:function(d,m){return gs(this,E.attr,d,m,arguments.length>1)},removeAttr:function(d){return this.each(function(){E.removeAttr(this,d)})}}),E.extend({attr:function(d,m,y){var b,S,C=d.nodeType;if(3!==C&&8!==C&&2!==C)return typeof d.getAttribute>"u"?E.prop(d,m,y):((1!==C||!E.isXMLDoc(d))&&(S=E.attrHooks[m.toLowerCase()]||(E.expr.match.bool.test(m)?mm:void 0)),void 0!==y?null===y?void E.removeAttr(d,m):S&&"set"in S&&void 0!==(b=S.set(d,y,m))?b:(d.setAttribute(m,y+""),y):S&&"get"in S&&null!==(b=S.get(d,m))?b:(b=E.find.attr(d,m))??void 0)},attrHooks:{type:{set:function(d,m){if(!Rt.radioValue&&"radio"===m&&Nn(d,"input")){var y=d.value;return d.setAttribute("type",m),y&&(d.value=y),m}}}},removeAttr:function(d,m){var y,b=0,S=m&&m.match(Bs);if(S&&1===d.nodeType)for(;y=S[b++];)d.removeAttribute(y)}}),mm={set:function(d,m,y){return!1===m?E.removeAttr(d,y):d.setAttribute(y,y),y}},E.each(E.expr.match.bool.source.match(/\w+/g),function(d,m){var y=Wa[m]||E.find.attr;Wa[m]=function(b,S,C){var A,z,L=S.toLowerCase();return C||(z=Wa[L],Wa[L]=A,A=null!=y(b,S,C)?L:null,Wa[L]=z),A}});var gm=/^(?:input|select|textarea|button)$/i,vm=/^(?:a|area)$/i;function go(d){return(d.match(Bs)||[]).join(" ")}function oi(d){return d.getAttribute&&d.getAttribute("class")||""}function hh(d){return Array.isArray(d)?d:"string"==typeof d&&d.match(Bs)||[]}E.fn.extend({prop:function(d,m){return gs(this,E.prop,d,m,arguments.length>1)},removeProp:function(d){return this.each(function(){delete this[E.propFix[d]||d]})}}),E.extend({prop:function(d,m,y){var b,S,C=d.nodeType;if(3!==C&&8!==C&&2!==C)return(1!==C||!E.isXMLDoc(d))&&(S=E.propHooks[m=E.propFix[m]||m]),void 0!==y?S&&"set"in S&&void 0!==(b=S.set(d,y,m))?b:d[m]=y:S&&"get"in S&&null!==(b=S.get(d,m))?b:d[m]},propHooks:{tabIndex:{get:function(d){var m=E.find.attr(d,"tabindex");return m?parseInt(m,10):gm.test(d.nodeName)||vm.test(d.nodeName)&&d.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),Rt.optSelected||(E.propHooks.selected={get:function(d){return null},set:function(d){}}),E.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){E.propFix[this.toLowerCase()]=this}),E.fn.extend({addClass:function(d){var m,y,b,S,C,A;return Ut(d)?this.each(function(z){E(this).addClass(d.call(this,z,oi(this)))}):(m=hh(d)).length?this.each(function(){if(b=oi(this),y=1===this.nodeType&&" "+go(b)+" "){for(C=0;C<m.length;C++)y.indexOf(" "+(S=m[C])+" ")<0&&(y+=S+" ");A=go(y),b!==A&&this.setAttribute("class",A)}}):this},removeClass:function(d){var m,y,b,S,C,A;return Ut(d)?this.each(function(z){E(this).removeClass(d.call(this,z,oi(this)))}):arguments.length?(m=hh(d)).length?this.each(function(){if(b=oi(this),y=1===this.nodeType&&" "+go(b)+" "){for(C=0;C<m.length;C++)for(S=m[C];y.indexOf(" "+S+" ")>-1;)y=y.replace(" "+S+" "," ");A=go(y),b!==A&&this.setAttribute("class",A)}}):this:this.attr("class","")},toggleClass:function(d,m){var y,b,S,C,A=typeof d,z="string"===A||Array.isArray(d);return Ut(d)?this.each(function(L){E(this).toggleClass(d.call(this,L,oi(this),m),m)}):"boolean"==typeof m&&z?m?this.addClass(d):this.removeClass(d):(y=hh(d),this.each(function(){if(z)for(C=E(this),S=0;S<y.length;S++)C.hasClass(b=y[S])?C.removeClass(b):C.addClass(b);else(void 0===d||"boolean"===A)&&((b=oi(this))&&at.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||!1===d?"":at.get(this,"__className__")||""))}))},hasClass:function(d){var m,y,b=0;for(m=" "+d+" ";y=this[b++];)if(1===y.nodeType&&(" "+go(oi(y))+" ").indexOf(m)>-1)return!0;return!1}});var cy=/\r/g;E.fn.extend({val:function(d){var m,y,b,S=this[0];return arguments.length?(b=Ut(d),this.each(function(C){var A;1===this.nodeType&&(null==(A=b?d.call(this,C,E(this).val()):d)?A="":"number"==typeof A?A+="":Array.isArray(A)&&(A=E.map(A,function(z){return null==z?"":z+""})),(!(m=E.valHooks[this.type]||E.valHooks[this.nodeName.toLowerCase()])||!("set"in m)||void 0===m.set(this,A,"value"))&&(this.value=A))})):S?(m=E.valHooks[S.type]||E.valHooks[S.nodeName.toLowerCase()])&&"get"in m&&void 0!==(y=m.get(S,"value"))?y:"string"==typeof(y=S.value)?y.replace(cy,""):y??"":void 0}}),E.extend({valHooks:{option:{get:function(d){return E.find.attr(d,"value")??go(E.text(d))}},select:{get:function(d){var m,y,b,S=d.options,C=d.selectedIndex,A="select-one"===d.type,z=A?null:[],L=A?C+1:S.length;for(b=C<0?L:A?C:0;b<L;b++)if(((y=S[b]).selected||b===C)&&!y.disabled&&(!y.parentNode.disabled||!Nn(y.parentNode,"optgroup"))){if(m=E(y).val(),A)return m;z.push(m)}return z},set:function(d,m){for(var y,b,S=d.options,C=E.makeArray(m),A=S.length;A--;)((b=S[A]).selected=E.inArray(E.valHooks.option.get(b),C)>-1)&&(y=!0);return y||(d.selectedIndex=-1),C}}}}),E.each(["radio","checkbox"],function(){E.valHooks[this]={set:function(d,m){if(Array.isArray(m))return d.checked=E.inArray(E(d).val(),m)>-1}},Rt.checkOn||(E.valHooks[this].get=function(d){return null===d.getAttribute("value")?"on":d.value})});var Ku=nt.location,_m={guid:Date.now()},Sc=/\?/;E.parseXML=function(d){var m,y;if(!d||"string"!=typeof d)return null;try{m=(new nt.DOMParser).parseFromString(d,"text/xml")}catch{}return y=m&&m.getElementsByTagName("parsererror")[0],(!m||y)&&E.error("Invalid XML: "+(y?E.map(y.childNodes,function(b){return b.textContent}).join("\n"):d)),m};var ym=/^(?:focusinfocus|focusoutblur)$/,xm=function(d){d.stopPropagation()};E.extend(E.event,{trigger:function(d,m,y,b){var S,C,A,z,L,H,ne,ce,Z=[y||Tt],Me=Hu.call(d,"type")?d.type:d,K=Hu.call(d,"namespace")?d.namespace.split("."):[];if(C=ce=A=y=y||Tt,3!==y.nodeType&&8!==y.nodeType&&!ym.test(Me+E.event.triggered)&&(Me.indexOf(".")>-1&&(K=Me.split("."),Me=K.shift(),K.sort()),L=Me.indexOf(":")<0&&"on"+Me,(d=d[E.expando]?d:new E.Event(Me,"object"==typeof d&&d)).isTrigger=b?2:3,d.namespace=K.join("."),d.rnamespace=d.namespace?new RegExp("(^|\\.)"+K.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,d.result=void 0,d.target||(d.target=y),m=null==m?[d]:E.makeArray(m,[d]),ne=E.event.special[Me]||{},b||!ne.trigger||!1!==ne.trigger.apply(y,m))){if(!b&&!ne.noBubble&&!Qo(y)){for(ym.test((z=ne.delegateType||Me)+Me)||(C=C.parentNode);C;C=C.parentNode)Z.push(C),A=C;A===(y.ownerDocument||Tt)&&Z.push(A.defaultView||A.parentWindow||nt)}for(S=0;(C=Z[S++])&&!d.isPropagationStopped();)ce=C,d.type=S>1?z:ne.bindType||Me,(H=(at.get(C,"events")||Object.create(null))[d.type]&&at.get(C,"handle"))&&H.apply(C,m),(H=L&&C[L])&&H.apply&&qu(C)&&(d.result=H.apply(C,m),!1===d.result&&d.preventDefault());return d.type=Me,!b&&!d.isDefaultPrevented()&&(!ne._default||!1===ne._default.apply(Z.pop(),m))&&qu(y)&&L&&Ut(y[Me])&&!Qo(y)&&((A=y[L])&&(y[L]=null),E.event.triggered=Me,d.isPropagationStopped()&&ce.addEventListener(Me,xm),y[Me](),d.isPropagationStopped()&&ce.removeEventListener(Me,xm),E.event.triggered=void 0,A&&(y[L]=A)),d.result}},simulate:function(d,m,y){var b=E.extend(new E.Event,y,{type:d,isSimulated:!0});E.event.trigger(b,null,m)}}),E.fn.extend({trigger:function(d,m){return this.each(function(){E.event.trigger(d,m,this)})},triggerHandler:function(d,m){var y=this[0];if(y)return E.event.trigger(d,m,y,!0)}});var zs=/\[\]$/,bm=/\r?\n/g,Ni=/^(?:submit|button|image|reset|file)$/i,ja=/^(?:input|select|textarea|keygen)/i;function Tr(d,m,y,b){var S;if(Array.isArray(m))E.each(m,function(C,A){y||zs.test(d)?b(d,A):Tr(d+"["+("object"==typeof A&&null!=A?C:"")+"]",A,y,b)});else if(y||"object"!==ea(m))b(d,m);else for(S in m)Tr(d+"["+S+"]",m[S],y,b)}E.param=function(d,m){var y,b=[],S=function(C,A){var z=Ut(A)?A():A;b[b.length]=encodeURIComponent(C)+"="+encodeURIComponent(z??"")};if(null==d)return"";if(Array.isArray(d)||d.jquery&&!E.isPlainObject(d))E.each(d,function(){S(this.name,this.value)});else for(y in d)Tr(y,d[y],m,S);return b.join("&")},E.fn.extend({serialize:function(){return E.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var d=E.prop(this,"elements");return d?E.makeArray(d):this}).filter(function(){var d=this.type;return this.name&&!E(this).is(":disabled")&&ja.test(this.nodeName)&&!Ni.test(d)&&(this.checked||!za.test(d))}).map(function(d,m){var y=E(this).val();return null==y?null:Array.isArray(y)?E.map(y,function(b){return{name:m.name,value:b.replace(bm,"\r\n")}}):{name:m.name,value:y.replace(bm,"\r\n")}}).get()}});var rS=/%20/g,dy=/#.*$/,fy=/([?&])_=[^&]*/,ph=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ju=/^(?:GET|HEAD)$/,hy=/^\/\//,mh={},Cc={},Mm="*/".concat("*"),gh=Tt.createElement("a");function wm(d){return function(m,y){"string"!=typeof m&&(y=m,m="*");var b,S=0,C=m.toLowerCase().match(Bs)||[];if(Ut(y))for(;b=C[S++];)"+"===b[0]?(b=b.slice(1)||"*",(d[b]=d[b]||[]).unshift(y)):(d[b]=d[b]||[]).push(y)}}function Sm(d,m,y,b){var S={},C=d===Cc;function A(z){var L;return S[z]=!0,E.each(d[z]||[],function(H,ne){var ce=ne(m,y,b);return"string"!=typeof ce||C||S[ce]?C?!(L=ce):void 0:(m.dataTypes.unshift(ce),A(ce),!1)}),L}return A(m.dataTypes[0])||!S["*"]&&A("*")}function Dc(d,m){var y,b,S=E.ajaxSettings.flatOptions||{};for(y in m)void 0!==m[y]&&((S[y]?d:b||(b={}))[y]=m[y]);return b&&E.extend(!0,d,b),d}gh.href=Ku.href,E.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ku.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ku.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Mm,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":E.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(d,m){return m?Dc(Dc(d,E.ajaxSettings),m):Dc(E.ajaxSettings,d)},ajaxPrefilter:wm(mh),ajaxTransport:wm(Cc),ajax:function(d,m){"object"==typeof d&&(m=d,d=void 0);var y,b,S,C,A,z,L,H,ne,ce,Z=E.ajaxSetup({},m=m||{}),Me=Z.context||Z,K=Z.context&&(Me.nodeType||Me.jquery)?E(Me):E.event,$t=E.Deferred(),It=E.Callbacks("once memory"),ui=Z.statusCode||{},Yn={},$r={},pi="canceled",Ht={readyState:0,getResponseHeader:function(He){var ht;if(L){if(!C)for(C={};ht=ph.exec(S);)C[ht[1].toLowerCase()+" "]=(C[ht[1].toLowerCase()+" "]||[]).concat(ht[2]);ht=C[He.toLowerCase()+" "]}return null==ht?null:ht.join(", ")},getAllResponseHeaders:function(){return L?S:null},setRequestHeader:function(He,ht){return null==L&&(He=$r[He.toLowerCase()]=$r[He.toLowerCase()]||He,Yn[He]=ht),this},overrideMimeType:function(He){return null==L&&(Z.mimeType=He),this},statusCode:function(He){var ht;if(He)if(L)Ht.always(He[Ht.status]);else for(ht in He)ui[ht]=[ui[ht],He[ht]];return this},abort:function(He){var ht=He||pi;return y&&y.abort(ht),vo(0,ht),this}};if($t.promise(Ht),Z.url=((d||Z.url||Ku.href)+"").replace(hy,Ku.protocol+"//"),Z.type=m.method||m.type||Z.method||Z.type,Z.dataTypes=(Z.dataType||"*").toLowerCase().match(Bs)||[""],null==Z.crossDomain){z=Tt.createElement("a");try{z.href=Z.url,z.href=z.href,Z.crossDomain=gh.protocol+"//"+gh.host!=z.protocol+"//"+z.host}catch{Z.crossDomain=!0}}if(Z.data&&Z.processData&&"string"!=typeof Z.data&&(Z.data=E.param(Z.data,Z.traditional)),Sm(mh,Z,m,Ht),L)return Ht;for(ne in(H=E.event&&Z.global)&&0==E.active++&&E.event.trigger("ajaxStart"),Z.type=Z.type.toUpperCase(),Z.hasContent=!Ju.test(Z.type),b=Z.url.replace(dy,""),Z.hasContent?Z.data&&Z.processData&&0===(Z.contentType||"").indexOf("application/x-www-form-urlencoded")&&(Z.data=Z.data.replace(rS,"+")):(ce=Z.url.slice(b.length),Z.data&&(Z.processData||"string"==typeof Z.data)&&(b+=(Sc.test(b)?"&":"?")+Z.data,delete Z.data),!1===Z.cache&&(b=b.replace(fy,"$1"),ce=(Sc.test(b)?"&":"?")+"_="+_m.guid+++ce),Z.url=b+ce),Z.ifModified&&(E.lastModified[b]&&Ht.setRequestHeader("If-Modified-Since",E.lastModified[b]),E.etag[b]&&Ht.setRequestHeader("If-None-Match",E.etag[b])),(Z.data&&Z.hasContent&&!1!==Z.contentType||m.contentType)&&Ht.setRequestHeader("Content-Type",Z.contentType),Ht.setRequestHeader("Accept",Z.dataTypes[0]&&Z.accepts[Z.dataTypes[0]]?Z.accepts[Z.dataTypes[0]]+("*"!==Z.dataTypes[0]?", "+Mm+"; q=0.01":""):Z.accepts["*"]),Z.headers)Ht.setRequestHeader(ne,Z.headers[ne]);if(Z.beforeSend&&(!1===Z.beforeSend.call(Me,Ht,Z)||L))return Ht.abort();if(pi="abort",It.add(Z.complete),Ht.done(Z.success),Ht.fail(Z.error),y=Sm(Cc,Z,m,Ht)){if(Ht.readyState=1,H&&K.trigger("ajaxSend",[Ht,Z]),L)return Ht;Z.async&&Z.timeout>0&&(A=nt.setTimeout(function(){Ht.abort("timeout")},Z.timeout));try{L=!1,y.send(Yn,vo)}catch(He){if(L)throw He;vo(-1,He)}}else vo(-1,"No Transport");function vo(He,ht,Ac,_h){var _s,Tc,ys,xs,Qn,qr=ht;L||(L=!0,A&&nt.clearTimeout(A),y=void 0,S=_h||"",Ht.readyState=He>0?4:0,_s=He>=200&&He<300||304===He,Ac&&(xs=function py(d,m,y){for(var b,S,C,A,z=d.contents,L=d.dataTypes;"*"===L[0];)L.shift(),void 0===b&&(b=d.mimeType||m.getResponseHeader("Content-Type"));if(b)for(S in z)if(z[S]&&z[S].test(b)){L.unshift(S);break}if(L[0]in y)C=L[0];else{for(S in y){if(!L[0]||d.converters[S+" "+L[0]]){C=S;break}A||(A=S)}C=C||A}if(C)return C!==L[0]&&L.unshift(C),y[C]}(Z,Ht,Ac)),!_s&&E.inArray("script",Z.dataTypes)>-1&&E.inArray("json",Z.dataTypes)<0&&(Z.converters["text script"]=function(){}),xs=function my(d,m,y,b){var S,C,A,z,L,H={},ne=d.dataTypes.slice();if(ne[1])for(A in d.converters)H[A.toLowerCase()]=d.converters[A];for(C=ne.shift();C;)if(d.responseFields[C]&&(y[d.responseFields[C]]=m),!L&&b&&d.dataFilter&&(m=d.dataFilter(m,d.dataType)),L=C,C=ne.shift())if("*"===C)C=L;else if("*"!==L&&L!==C){if(!(A=H[L+" "+C]||H["* "+C]))for(S in H)if((z=S.split(" "))[1]===C&&(A=H[L+" "+z[0]]||H["* "+z[0]])){!0===A?A=H[S]:!0!==H[S]&&(C=z[0],ne.unshift(z[1]));break}if(!0!==A)if(A&&d.throws)m=A(m);else try{m=A(m)}catch(ce){return{state:"parsererror",error:A?ce:"No conversion from "+L+" to "+C}}}return{state:"success",data:m}}(Z,xs,Ht,_s),_s?(Z.ifModified&&((Qn=Ht.getResponseHeader("Last-Modified"))&&(E.lastModified[b]=Qn),(Qn=Ht.getResponseHeader("etag"))&&(E.etag[b]=Qn)),204===He||"HEAD"===Z.type?qr="nocontent":304===He?qr="notmodified":(qr=xs.state,Tc=xs.data,_s=!(ys=xs.error))):(ys=qr,(He||!qr)&&(qr="error",He<0&&(He=0))),Ht.status=He,Ht.statusText=(ht||qr)+"",_s?$t.resolveWith(Me,[Tc,qr,Ht]):$t.rejectWith(Me,[Ht,qr,ys]),Ht.statusCode(ui),ui=void 0,H&&K.trigger(_s?"ajaxSuccess":"ajaxError",[Ht,Z,_s?Tc:ys]),It.fireWith(Me,[Ht,qr]),H&&(K.trigger("ajaxComplete",[Ht,Z]),--E.active||E.event.trigger("ajaxStop")))}return Ht},getJSON:function(d,m,y){return E.get(d,m,y,"json")},getScript:function(d,m){return E.get(d,void 0,m,"script")}}),E.each(["get","post"],function(d,m){E[m]=function(y,b,S,C){return Ut(b)&&(C=C||S,S=b,b=void 0),E.ajax(E.extend({url:y,type:m,dataType:C,data:b,success:S},E.isPlainObject(y)&&y))}}),E.ajaxPrefilter(function(d){var m;for(m in d.headers)"content-type"===m.toLowerCase()&&(d.contentType=d.headers[m]||"")}),E._evalUrl=function(d,m,y){return E.ajax({url:d,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(b){E.globalEval(b,m,y)}})},E.fn.extend({wrapAll:function(d){var m;return this[0]&&(Ut(d)&&(d=d.call(this[0])),m=E(d,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&m.insertBefore(this[0]),m.map(function(){for(var y=this;y.firstElementChild;)y=y.firstElementChild;return y}).append(this)),this},wrapInner:function(d){return Ut(d)?this.each(function(m){E(this).wrapInner(d.call(this,m))}):this.each(function(){var m=E(this),y=m.contents();y.length?y.wrapAll(d):m.append(d)})},wrap:function(d){var m=Ut(d);return this.each(function(y){E(this).wrapAll(m?d.call(this,y):d)})},unwrap:function(d){return this.parent(d).not("body").each(function(){E(this).replaceWith(this.childNodes)}),this}}),E.expr.pseudos.hidden=function(d){return!E.expr.pseudos.visible(d)},E.expr.pseudos.visible=function(d){return!!(d.offsetWidth||d.offsetHeight||d.getClientRects().length)},E.ajaxSettings.xhr=function(){try{return new nt.XMLHttpRequest}catch{}};var ai={0:200,1223:204},Qu=E.ajaxSettings.xhr();Rt.cors=!!Qu&&"withCredentials"in Qu,Rt.ajax=Qu=!!Qu,E.ajaxTransport(function(d){var m,y;if(Rt.cors||Qu&&!d.crossDomain)return{send:function(b,S){var C,A=d.xhr();if(A.open(d.type,d.url,d.async,d.username,d.password),d.xhrFields)for(C in d.xhrFields)A[C]=d.xhrFields[C];for(C in d.mimeType&&A.overrideMimeType&&A.overrideMimeType(d.mimeType),!d.crossDomain&&!b["X-Requested-With"]&&(b["X-Requested-With"]="XMLHttpRequest"),b)A.setRequestHeader(C,b[C]);m=function(z){return function(){m&&(m=y=A.onload=A.onerror=A.onabort=A.ontimeout=A.onreadystatechange=null,"abort"===z?A.abort():"error"===z?"number"!=typeof A.status?S(0,"error"):S(A.status,A.statusText):S(ai[A.status]||A.status,A.statusText,"text"!==(A.responseType||"text")||"string"!=typeof A.responseText?{binary:A.response}:{text:A.responseText},A.getAllResponseHeaders()))}},A.onload=m(),y=A.onerror=A.ontimeout=m("error"),void 0!==A.onabort?A.onabort=y:A.onreadystatechange=function(){4===A.readyState&&nt.setTimeout(function(){m&&y()})},m=m("abort");try{A.send(d.hasContent&&d.data||null)}catch(z){if(m)throw z}},abort:function(){m&&m()}}}),E.ajaxPrefilter(function(d){d.crossDomain&&(d.contents.script=!1)}),E.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(d){return E.globalEval(d),d}}}),E.ajaxPrefilter("script",function(d){void 0===d.cache&&(d.cache=!1),d.crossDomain&&(d.type="GET")}),E.ajaxTransport("script",function(d){var m,y;if(d.crossDomain||d.scriptAttrs)return{send:function(b,S){m=E("<script>").attr(d.scriptAttrs||{}).prop({charset:d.scriptCharset,src:d.url}).on("load error",y=function(C){m.remove(),y=null,C&&S("error"===C.type?404:200,C.type)}),Tt.head.appendChild(m[0])},abort:function(){y&&y()}}});var d,lr=[],vt=/(=)\?(?=&|$)|\?\?/;E.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var d=lr.pop()||E.expando+"_"+_m.guid++;return this[d]=!0,d}}),E.ajaxPrefilter("json jsonp",function(d,m,y){var b,S,C,A=!1!==d.jsonp&&(vt.test(d.url)?"url":"string"==typeof d.data&&0===(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&vt.test(d.data)&&"data");if(A||"jsonp"===d.dataTypes[0])return b=d.jsonpCallback=Ut(d.jsonpCallback)?d.jsonpCallback():d.jsonpCallback,A?d[A]=d[A].replace(vt,"$1"+b):!1!==d.jsonp&&(d.url+=(Sc.test(d.url)?"&":"?")+d.jsonp+"="+b),d.converters["script json"]=function(){return C||E.error(b+" was not called"),C[0]},d.dataTypes[0]="json",S=nt[b],nt[b]=function(){C=arguments},y.always(function(){void 0===S?E(nt).removeProp(b):nt[b]=S,d[b]&&(d.jsonpCallback=m.jsonpCallback,lr.push(b)),C&&Ut(S)&&S(C[0]),C=S=void 0}),"script"}),Rt.createHTMLDocument=((d=Tt.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===d.childNodes.length),E.parseHTML=function(d,m,y){return"string"!=typeof d?[]:("boolean"==typeof m&&(y=m,m=!1),m||(Rt.createHTMLDocument?((b=(m=Tt.implementation.createHTMLDocument("")).createElement("base")).href=Tt.location.href,m.head.appendChild(b)):m=Tt),C=!y&&[],(S=K0.exec(d))?[m.createElement(S[1])]:(S=ih([d],m,C),C&&C.length&&E(C).remove(),E.merge([],S.childNodes)));var b,S,C},E.fn.load=function(d,m,y){var b,S,C,A=this,z=d.indexOf(" ");return z>-1&&(b=go(d.slice(z)),d=d.slice(0,z)),Ut(m)?(y=m,m=void 0):m&&"object"==typeof m&&(S="POST"),A.length>0&&E.ajax({url:d,type:S||"GET",dataType:"html",data:m}).done(function(L){C=arguments,A.html(b?E("<div>").append(E.parseHTML(L)).find(b):L)}).always(y&&function(L,H){A.each(function(){y.apply(this,C||[L.responseText,H,L])})}),this},E.expr.pseudos.animated=function(d){return E.grep(E.timers,function(m){return d===m.elem}).length},E.offset={setOffset:function(d,m,y){var b,S,C,A,z,L,ne=E.css(d,"position"),ce=E(d),Z={};"static"===ne&&(d.style.position="relative"),z=ce.offset(),C=E.css(d,"top"),L=E.css(d,"left"),("absolute"===ne||"fixed"===ne)&&(C+L).indexOf("auto")>-1?(A=(b=ce.position()).top,S=b.left):(A=parseFloat(C)||0,S=parseFloat(L)||0),Ut(m)&&(m=m.call(d,y,E.extend({},z))),null!=m.top&&(Z.top=m.top-z.top+A),null!=m.left&&(Z.left=m.left-z.left+S),"using"in m?m.using.call(d,Z):ce.css(Z)}},E.fn.extend({offset:function(d){if(arguments.length)return void 0===d?this:this.each(function(S){E.offset.setOffset(this,d,S)});var m,y,b=this[0];return b?b.getClientRects().length?{top:(m=b.getBoundingClientRect()).top+(y=b.ownerDocument.defaultView).pageYOffset,left:m.left+y.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var d,m,y,b=this[0],S={top:0,left:0};if("fixed"===E.css(b,"position"))m=b.getBoundingClientRect();else{for(m=this.offset(),y=b.ownerDocument,d=b.offsetParent||y.documentElement;d&&(d===y.body||d===y.documentElement)&&"static"===E.css(d,"position");)d=d.parentNode;d&&d!==b&&1===d.nodeType&&((S=E(d).offset()).top+=E.css(d,"borderTopWidth",!0),S.left+=E.css(d,"borderLeftWidth",!0))}return{top:m.top-S.top-E.css(b,"marginTop",!0),left:m.left-S.left-E.css(b,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var d=this.offsetParent;d&&"static"===E.css(d,"position");)d=d.offsetParent;return d||Gr})}}),E.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(d,m){var y="pageYOffset"===m;E.fn[d]=function(b){return gs(this,function(S,C,A){var z;if(Qo(S)?z=S:9===S.nodeType&&(z=S.defaultView),void 0===A)return z?z[m]:S[C];z?z.scrollTo(y?z.pageXOffset:A,y?A:z.pageYOffset):S[C]=A},d,b,arguments.length)}}),E.each(["top","left"],function(d,m){E.cssHooks[m]=lh(Rt.pixelPosition,function(y,b){if(b)return b=ra(y,m),uh.test(b)?E(y).position()[m]+"px":b})}),E.each({Height:"height",Width:"width"},function(d,m){E.each({padding:"inner"+d,content:m,"":"outer"+d},function(y,b){E.fn[b]=function(S,C){var A=arguments.length&&(y||"boolean"!=typeof S),z=y||(!0===S||!0===C?"margin":"border");return gs(this,function(L,H,ne){var ce;return Qo(L)?0===b.indexOf("outer")?L["inner"+d]:L.document.documentElement["client"+d]:9===L.nodeType?(ce=L.documentElement,Math.max(L.body["scroll"+d],ce["scroll"+d],L.body["offset"+d],ce["offset"+d],ce["client"+d])):void 0===ne?E.css(L,H,z):E.style(L,H,ne,z)},m,A?S:void 0,A)}})}),E.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(d,m){E.fn[m]=function(y){return this.on(m,y)}}),E.fn.extend({bind:function(d,m,y){return this.on(d,null,m,y)},unbind:function(d,m){return this.off(d,null,m)},delegate:function(d,m,y,b){return this.on(m,d,y,b)},undelegate:function(d,m,y){return 1===arguments.length?this.off(d,"**"):this.off(m,d||"**",y)},hover:function(d,m){return this.on("mouseenter",d).on("mouseleave",m||d)}}),E.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(d,m){E.fn[m]=function(y,b){return arguments.length>0?this.on(m,null,y,b):this.trigger(m)}});var gy=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;E.proxy=function(d,m){var y,b,S;if("string"==typeof m&&(y=d[m],m=d,d=y),Ut(d))return b=rn.call(arguments,2),S=function(){return d.apply(m||this,b.concat(rn.call(arguments)))},S.guid=d.guid=d.guid||E.guid++,S},E.holdReady=function(d){d?E.readyWait++:E.ready(!0)},E.isArray=Array.isArray,E.parseJSON=JSON.parse,E.nodeName=Nn,E.isFunction=Ut,E.isWindow=Qo,E.camelCase=Cr,E.type=ea,E.now=Date.now,E.isNumeric=function(d){var m=E.type(d);return("number"===m||"string"===m)&&!isNaN(d-parseFloat(d))},E.trim=function(d){return null==d?"":(d+"").replace(gy,"$1")},void 0!==(uc=function(){return E}.apply(X0,[]))&&(Bu.exports=uc);var vh=nt.jQuery,jr=nt.$;return E.noConflict=function(d){return nt.$===E&&(nt.$=jr),d&&nt.jQuery===E&&(nt.jQuery=vh),E},typeof ks>"u"&&(nt.jQuery=nt.$=E),E})}},Bu=>{Bu(Bu.s=517)}]);